import{d as P,aN as U,r as p,A as q,o as s,f as z,j as F,w as j,g as H,q as y,ap as W,I as B,s as v,a4 as G,ao as J,N as g,t as Q,v as X,h as b,R as Y,aK as Z,b0 as ee,b1 as te}from"./Divx9Nzj.js";import{d as E}from"./DD4asW33.js";const oe=t=>t?!!t.offsetWidth||!!t.offsetHeight||!!t.getClientRects().length:!1,R=t=>{const d=[];return t.querySelectorAll(`a[href]:not([tabindex^="-"]),
    area[href]:not([tabindex^="-"]),
    input:not([type="hidden"]):not([type="radio"]):not([disabled]):not([tabindex^="-"]),
    input[type="radio"]:not([disabled]):not([tabindex^="-"]):checked,
    select:not([disabled]):not([tabindex^="-"]),
    textarea:not([disabled]):not([tabindex^="-"]),
    button:not([disabled]):not([tabindex^="-"]),
    iframe:not([tabindex^="-"]),
    audio[controls]:not([tabindex^="-"]),
    video[controls]:not([tabindex^="-"]),
    [contenteditable]:not([tabindex^="-"]),
    [tabindex]:not([tabindex^="-"])`).forEach(n=>{n&&oe(n)&&d.push(n)}),d},ae=["aria-modal"],ne={key:0,class:"ui-dialog__header"},le={class:"ui-dialog__title"},ie={key:1,class:"ui-dialog__footer"},re=P({__name:"UiDialog",props:{identity:{type:String,default:()=>te()},title:{type:String,default:void 0},width:{type:String,default:void 0},position:{type:String,default:void 0},appendToBody:{type:Boolean,default:!0},fullscreen:{type:Boolean,default:!1},hideClose:{type:Boolean,default:!1},noScroll:{type:Boolean,default:!1},modalEnabled:{type:Boolean,default:!1}},emits:["opened","closed","open","close"],setup(t,{expose:d,emit:n}){const a=U("modalsList"),r=t,_=p(),l=p(),A=p(),h=p(!1);let u=null,i=e=>{};q(()=>{x(),i(!1)});const f=n,m=(e="default")=>!!J()[e];function D(){Array.isArray(a.value)||(a.value=[]),a.value.push({id:r.identity,close:c,open:k})}function x(){var e;a.value=(e=a.value)==null?void 0:e.filter(o=>o.id!==r.identity)}function M(){var e;(e=a.value)!=null&&e.length&&a.value[a.value.length-1].close()}const N=e=>{if(e.key==="Escape"){M(),e.preventDefault(),e.stopPropagation();return}if(e.key==="Tab"){if(!l.value)return;const o=R(l.value),S=document.activeElement,w=o.findIndex(O=>O===S),C=o.length-1;e.shiftKey&&w===0?(o[C].focus(),e.preventDefault()):!e.shiftKey&&w===C&&(o[0].focus(),e.preventDefault())}},T=()=>{if(!l.value)return;const e=R(l.value),o=e==null?void 0:e[0];o==null||o.focus({preventScroll:!0})},K=()=>{T(),f("opened",!0),i(!0)},V=()=>{var e;x(),(e=a.value)!=null&&e.length||E(!1),u==null||u.focus(),i(!1),f("closed",!0)},$=()=>{var e;(e=a.value)!=null&&e.length||E(!0),D(),f("open",!0)},I=()=>{f("close",!0)},L=()=>{r.modalEnabled||c()};function k(){return new Promise(e=>{u=document.activeElement,h.value=!0,i=e})}function c(){return new Promise(e=>{h.value=!1,i=e})}return d({doOpen:k,doClose:c}),(e,o)=>(s(),z(ee,{to:"#teleports",disabled:!r.appendToBody},[F(Z,Y(e.$attrs,{ref_key:"wrapperRef",ref:_,name:"ui-dialog-",onEnter:$,onAfterEnter:K,onLeave:I,onAfterLeave:V}),{default:j(()=>[H(h)?(s(),y("div",{key:0,ref_key:"dialogRef",ref:l,class:B(["ui-dialog",[t.position?"ui-dialog--"+t.position:""]]),tabindex:"-1",onClick:W(L,["self"]),onKeydown:N},[v("div",{role:"dialog","aria-modal":t.modalEnabled,class:"ui-dialog__container",style:G({width:t.fullscreen?"100%":t.width,height:t.fullscreen?"100%":""})},[m("title")||t.title?(s(),y("div",ne,[v("div",le,[g(e.$slots,"title",{},()=>[Q(X(t.title),1)])])])):b("",!0),v("div",{ref_key:"bodyRef",ref:A,class:B(["ui-dialog__body",[t.noScroll?"ui-dialog__body--no-scroll":""]])},[g(e.$slots,"default")],2),m("footer")?(s(),y("div",ie,[g(e.$slots,"footer")])):b("",!0),t.hideClose?b("",!0):(s(),y("button",{key:2,class:"ui-dialog__close",type:"button",onClick:o[0]||(o[0]=S=>c())}))],12,ae)],34)):b("",!0)]),_:3},16)],8,["disabled"]))}});export{re as _};
