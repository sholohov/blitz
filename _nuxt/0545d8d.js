(window.webpackJsonp=window.webpackJsonp||[]).push([[79,28,29,30,46,50,54,56,70],{1012:function(e,t,n){"use strict";n(911)},1013:function(e,t,n){var r=n(67)((function(i){return i[1]}));r.push([e.i,".clan-page--no-data{align-items:center;display:flex;height:calc(100vh - 100px);justify-content:center;position:relative;text-align:center}.clan-page__filters{margin:0 0 20px}.clan-page__statusbar{align-items:center;background-color:var(--bg-color);border:1px solid var(--border-color-light);display:flex;gap:10px;justify-content:space-between;padding:10px 15px}.clan-page__preview{margin:0 0 4px}",""]),r.locals={},e.exports=r},1039:function(e,t,n){"use strict";n.r(t);n(604),n(73);var r=n(107),o=n(14),l=n(32),c=n(33),d=n(35),f=n(36),v=n(23),_=n(20),m=(n(43),n(2),n(1),n(5),n(44),n(186),n(129),n(130),n(152),n(151),n(50),n(15)),h=n(828),y=n.n(h),w=n(116),x=n(877),k=n(878),j=n(922),C=n(791),O=n(650),P=n(664),R=n(105),D=n(637),B=n(613),I=n(54),S=n(692),M=n(677),F=n(879),A=n(663),E=n(225),L=n(114);function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(v.a)(e);if(t){var o=Object(v.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(f.a)(this,n)}}var $=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(_.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},N=function(e){Object(d.a)(D,e);var t,n,f,v,_,m,h,x,k,j=z(D);function D(){var e;return Object(l.a)(this,D),(e=j.apply(this,arguments)).notify=R.a.notify(),e.loading=0,e.users=[],e.clanInfo=null,e.clan=null,e.filters=O.a.makeClanFilters(),e.statisticsSum=null,e.savedMembers=[],e.savedClan=null,e.clanSavedAt=0,e.sort={order:"desc",prop:""},e}return Object(c.a)(D,[{key:"clanMembers",get:function(){var e;return(null===(e=this.clan)||void 0===e?void 0:e.members)||[]}},{key:"filteredClanMembers",get:function(){var e=this,t=this.clanMembers.filter((function(t){var n=t.account_name.toLowerCase(),r=e.filters.search.toLowerCase();return n.includes(r)})),n=Date.now(),r=864e5;if(this.filters.joinedAtDays){var param=O.a.parseParameter(this.filters.joinedAtDays);t=this.clanMembers.filter((function(e){return O.a.executeExpression(n-param.value*r,1e3*e.joined_at,param.operator)}))}if(this.filters.lastBattleDays){var o=O.a.parseParameter(this.filters.lastBattleDays);t=this.clanMembers.filter((function(e){return O.a.executeExpression(n-o.value*r,1e3*e.last_battle_time,o.operator)}))}return t}},{key:"metricsItems",get:function(){return S.a.clan(this.clanMembers,this.statisticsSum)}},{key:"created",value:(k=Object(o.a)(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=+this.$route.params.id){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.getAllData(t);case 5:if(!this.clanInfo){e.next=8;break}return e.next=8,this.getUserList(null===(n=this.clanInfo)||void 0===n?void 0:n.members_ids);case 8:case"end":return e.stop()}}),e,this)}))),function(){return k.apply(this,arguments)})},{key:"getClanInfo",value:(x=Object(o.a)(regeneratorRuntime.mark((function e(t){var n,r,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading++,e.prev=1,e.next=4,w.a.clan.getInfo({clan_id:t,extra:"members"});case 4:r=e.sent,data=r.data,this.clanInfo=null!==(n=data[t])&&void 0!==n?n:null,e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),this.notify.add({type:"error",message:"Получение данных клана"}),console.error(e.t0);case 13:this.loading--;case 14:case"end":return e.stop()}}),e,this,[[1,9]])}))),function(e){return x.apply(this,arguments)})},{key:"getUserList",value:(h=Object(o.a)(regeneratorRuntime.mark((function e(t){var n,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading++,e.prev=1,e.next=4,w.b.user.getList({id:t});case 4:n=e.sent,data=n.data,this.users=data,e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),this.notify.add({type:"error",title:"Получение данных аккаунта",message:null!==e.t0&&void 0!==e.t0&&e.t0.message?"Получение данных аккаунта":"Неизвестная ошибка"}),console.error(e.t0);case 13:this.loading--;case 14:case"end":return e.stop()}}),e,this,[[1,9]])}))),function(e){return h.apply(this,arguments)})},{key:"getAccountInfo",value:(m=Object(o.a)(regeneratorRuntime.mark((function e(t){var n,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading++,e.prev=1,e.next=4,w.a.account.getInfo({extra:"statistics.rating",account_id:t.join(",")});case 4:return n=e.sent,data=n.data,e.abrupt("return",data);case 9:return e.prev=9,e.t0=e.catch(1),this.notify.add({type:"error",message:"Получение данных аккаунта"}),console.error(e.t0),e.abrupt("return",null);case 14:return e.prev=14,this.loading--,e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,9,14,17]])}))),function(e){return m.apply(this,arguments)})},{key:"getAllData",value:(_=Object(o.a)(regeneratorRuntime.mark((function e(t){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getClanInfo(t);case 2:if(this.clanInfo){e.next=4;break}return e.abrupt("return");case 4:if(!this.clanInfo.members){e.next=7;break}return e.next=7,this.loadAccounts(this.clanInfo);case 7:return e.next=9,this.loadClan(this.clanInfo);case 9:if(this.savedClan){e.next=12;break}return e.next=12,this.saveClan(this.clanInfo);case 12:return e.next=14,this.getAccountInfo(Object(r.a)(this.clanInfo.members_ids));case 14:(n=e.sent)&&(this.clan=P.a.clan(this.clanInfo,n),o=Object.values(n).filter(A.a),this.statisticsSum=o.reduce((function(e,t,n){return 0===n?o[0].statistics:B.a.sumFull(e,t.statistics)}),{}),C.a.clanMembersDefault(this.clanMembers)),this.loading--;case 17:case"end":return e.stop()}}),e,this)}))),function(e){return _.apply(this,arguments)})},{key:"loadAccounts",value:(v=Object(o.a)(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.loading++,n=[],e.t0=regeneratorRuntime.keys(t.members);case 3:if((e.t1=e.t0()).done){e.next=14;break}return r=e.t1.value,e.next=7,I.a.indexedDB.accountsInfo.get(r);case 7:if(o=e.sent){e.next=10;break}return e.abrupt("continue",3);case 10:o.data.created_at=o.timestamp,n.push(P.a.clanMember(t.members[r],o.data)),e.next=3;break;case 14:this.savedMembers=n,this.loading--;case 16:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"saveClan",value:(f=Object(o.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading++,e.next=3,I.a.indexedDB.clansInfo.set(t.clan_id,t);case 3:this.savedClan=y()(t),this.clanSavedAt=Date.now(),this.loading--;case 6:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"loadClan",value:(n=Object(o.a)(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading++,e.next=3,I.a.indexedDB.clansInfo.get(t.clan_id);case 3:o=e.sent,this.savedClan=null!==(n=null==o?void 0:o.data)&&void 0!==n?n:null,this.clanSavedAt=null!==(r=null==o?void 0:o.timestamp)&&void 0!==r?r:0,this.loading--;case 7:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"handleSort",value:function(e){e.order||C.a.clanMembersDefault(this.clanMembers)}},{key:"handleResetClanEvents",value:(t=Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.clanInfo){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.saveClan(this.clanInfo);case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),D}(m.Vue),T=N=$([Object(m.Component)({components:{CButton:L.default,ContentLoader:E.default,PageSection:M.default,MetricsPlates:D.default,ClanPreview:x.default,ClanViewMembersTable:k.default,ClanViewFilter:j.default,ClanEvents:F.default},head:function(){return{title:"Инфо / Кланы | Blitz Commander"}}})],N),V=(n(1012),n(34)),component=Object(V.a)(T,(function(){var e=this,t=e._self._c;e._self._setupProxy;return e.clan?t("div",{staticClass:"clan-page"},[t("PageSection",{attrs:{identity:"preview"}},[t("ClanPreview",{staticClass:"clan-page__preview",attrs:{"hide-description":!0,clan:e.clan,loading:e.loading>0},scopedSlots:e._u([{key:"events",fn:function(){return[e.clanInfo&&e.savedClan?t("ClanEvents",{attrs:{clan:e.clanInfo,"saved-clan":e.savedClan,"saved-at":e.clanSavedAt},on:{reset:e.handleResetClanEvents}}):e._e()]},proxy:!0}],null,!1,1870888480)})],1),e._v(" "),t("PageSection",{attrs:{title:"Статистика",identity:"statistic"}},[t("MetricsPlates",{attrs:{loading:e.loading>0,items:e.metricsItems}})],1),e._v(" "),t("PageSection",{attrs:{title:"Участники",identity:"members"}},[t("ClanViewFilter",{staticClass:"clan-page__filters",attrs:{filters:e.filters}}),e._v(" "),t("ClanViewMembersTable",{attrs:{sort:e.sort,users:e.users,"saved-members":e.savedMembers,members:e.filteredClanMembers},on:{sort:e.handleSort}})],1)],1):t("div",{staticClass:"clan-page--no-data"},[e.loading?e._e():t("div",{staticClass:"content-area"},[t("p",[e._v("Нет данных.")]),e._v(" "),t("p",[e._v("Возможно клан удалён.")])]),e._v(" "),t("ContentLoader",{attrs:{loading:e.loading>0}})],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{ClanEvents:n(879).default,ClanPreview:n(877).default,PageSection:n(677).default,MetricsPlates:n(637).default,ClanViewFilter:n(922).default,ClanViewMembersTable:n(878).default,ContentLoader:n(225).default})},608:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={winRate:function(e){switch(!0){case e>=70:return"purple";case e>=60:return"blue";case e>=50:return"green";default:return"text"}}}},611:function(e,t,n){"use strict";n.r(t);var r=n(32),o=n(33),l=n(35),c=n(36),d=n(23),f=n(20),v=(n(2),n(1),n(73),n(15)),_=n(608);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var h=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},y=function(e){Object(l.a)(n,e);var t=m(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"colors",get:function(){return _.a}}]),n}(v.Vue);h([Object(v.Prop)({required:!0})],y.prototype,"value",void 0);var w=y=h([v.Component],y),x=(n(641),n(34)),component=Object(x.a)(w,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("span",{staticClass:"win-rate",style:{color:"var(--color-".concat(e.colors.winRate(e.value),")")}},[e._t("default",(function(){return[e._v("\n    "+e._s(e.$formatter.number.toFloatPercent(e.value))+"\n  ")]}))],2)}),[],!1,null,null,null);t.default=component.exports},614:function(e,t,n){var content=n(628);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(68).default)("5ef05626",content,!0,{sourceMap:!1})},618:function(e,t,n){var content=n(642);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(68).default)("14766db0",content,!0,{sourceMap:!1})},622:function(e,t,n){"use strict";n.r(t);n(73);var r=n(14),o=n(32),l=n(33),c=n(35),d=n(36),f=n(23),v=n(20),_=(n(43),n(2),n(1),n(37),n(106),n(604),n(129),n(130),n(6),n(15)),m=n(347),h=n.n(m),y=n(341),w=n.n(y),x=(n(4),n(5),n(8),n(40));n(3);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e,t,n){var r=[],o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);if("string"==typeof o.target){var l=document.querySelectorAll(o.target);Array.prototype.forEach.call(l,(function(e){r.push(e)}))}else Array.isArray(o.target)&&o.target.forEach((function(e){r.push(e)}));var c=new IntersectionObserver((function(t){t.forEach((function(t){var r=t.target,l=t.isIntersecting;o.visibleClassName&&r.classList[l?"add":"remove"](o.visibleClassName),o.hiddenSelector&&r.classList[l?"remove":"add"](o.hiddenSelector),"function"==typeof n&&n(t),e.once&&l&&c.unobserve(r)}))}),t);return r.forEach((function(e){return c.observe(e)})),c}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var O=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},P=function(e){Object(c.a)(d,e);var t,n=C(d);function d(){var e;return Object(o.a)(this,d),(e=n.apply(this,arguments)).name="CTable",e.elementObserver=null,e}return Object(l.a)(d,[{key:"mounted",value:function(){var e=this;!1!==this.scrollAutoDisabling&&(this.elementObserver=j({target:".c-table__scroll",visibleClassName:"c-table__scroll--in-view"},{rootMargin:"0%",threshold:1},(function(t){var n=t.target;t.isIntersecting?e.disableScroll(n,!1):(e.disableScroll(n,!0),n.scrollTo({top:0}))})))}},{key:"destroyed",value:function(){var e;!1!==this.scrollAutoDisabling&&(null===(e=this.elementObserver)||void 0===e||e.disconnect())}},{key:"dataChanged",value:(t=Object(r.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1===this.scrollToTop){e.next=4;break}return e.next=3,this.$nextTick();case 3:null===(t=this.tableScrollRef)||void 0===t||t.scrollTo({top:0});case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"sortEvent",value:function(e){return e}},{key:"rowClickEvent",value:function(e){return e}},{key:"colStyles",value:function(col){return{textAlign:col.align,width:Number(col.width)?"".concat(col.width,"px"):"auto"}}},{key:"smartSort",value:function(){var e=this.sort.prop,t=this.sort.order;this.data.sort((function(a,b){var n=("desc"===t?b:a)[e],r=("desc"===t?a:b)[e];return String(n).localeCompare(String(r),void 0,{numeric:!0,sensitivity:"base"})}))}},{key:"sortByMethod",value:function(header){var e=this.sort.order;this.data.sort((function(a,b){var t,n;return"desc"===e?(null===(t=header.sortMethod)||void 0===t?void 0:t.call(header,b,a))||0:(null===(n=header.sortMethod)||void 0===n?void 0:n.call(header,a,b))||0}))}},{key:"handleSort",value:function(e){if(e.hasSort){var t=this.sort.order;this.sort.prop!==e.key&&(t=""),t=t?"asc"===t?"desc":"":"asc",this.sort.order=t,this.sort.prop=e.key,t&&("function"==typeof e.sortMethod?this.sortByMethod(e):this.smartSort()),this.sortEvent({order:this.sort.order,prop:this.sort.prop,column:e})}}},{key:"formatValue",value:function(header,e){return"function"==typeof header.formatter?header.formatter(e):e}},{key:"arrowIsActive",value:function(e,t){return this.sort.order===e&&this.sort.prop===t}},{key:"getSummary",value:function(col){return"object"===Object(v.a)(this.summary)&&Object.keys(this.summary).includes(col.key)?"function"==typeof col.formatter?col.formatter(this.summary[col.key]):this.summary[col.key]:""}},{key:"getScrollbarWidth",value:function(){var e=document.createElement("div");e.style.position="absolute",e.style.overflow="scroll",document.body.append(e);var t=e.offsetWidth-e.clientWidth;return e.remove(),t}},{key:"disableScroll",value:function(e,t){t?(e.style.paddingRight=this.getScrollbarWidth()+"px",e.style.overflowY="hidden"):(e.style.overflowY="",e.style.paddingRight="")}},{key:"hasSlot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return!!this.$slots[e]||!!this.$scopedSlots[e]}}]),d}(_.Vue);O([Object(_.Prop)({required:!0})],P.prototype,"headers",void 0),O([Object(_.Prop)({required:!0})],P.prototype,"data",void 0),O([Object(_.Prop)()],P.prototype,"summary",void 0),O([Object(_.Prop)({default:!1})],P.prototype,"noWrap",void 0),O([Object(_.Prop)({default:!1})],P.prototype,"scrollAutoDisabling",void 0),O([Object(_.Prop)({default:!1})],P.prototype,"scrollToTop",void 0),O([Object(_.Prop)({default:!1})],P.prototype,"isFixed",void 0),O([Object(_.Prop)()],P.prototype,"height",void 0),O([Object(_.Prop)()],P.prototype,"rowKey",void 0),O([Object(_.Prop)()],P.prototype,"maxHeight",void 0),O([Object(_.Prop)()],P.prototype,"minHeight",void 0),O([Object(_.Prop)({default:function(){return{order:"asc",prop:""}}})],P.prototype,"sort",void 0),O([Object(_.Ref)("tableScroll")],P.prototype,"tableScrollRef",void 0),O([Object(_.Watch)("data")],P.prototype,"dataChanged",null),O([Object(_.Emit)("sort")],P.prototype,"sortEvent",null),O([Object(_.Emit)("row-click")],P.prototype,"rowClickEvent",null);var R=P=O([Object(_.Component)({components:{AscIcon:h.a,DescIcon:w.a}})],P),D=(n(627),n(34)),component=Object(D.a)(R,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"c-table",class:[!1!==e.noWrap?"c-table--no-wrap":""],style:{height:e.height,maxHeight:e.maxHeight,minHeight:e.minHeight,tableLayout:!1!==e.isFixed?"fixed":"auto"}},[e.hasSlot("header")?t("div",{staticClass:"c-table__header"},[e._t("header")],2):e._e(),e._v(" "),t("div",{ref:"tableScroll",staticClass:"c-table__scroll"},[t("table",{staticClass:"c-table__table"},[t("thead",{staticClass:"c-table__head"},[t("tr",{staticClass:"c-table__head-row"},e._l(e.headers,(function(col){return t("th",{key:col.key,staticClass:"c-table__cell c-table__cell--header",style:e.colStyles(col)},[t("div",{staticClass:"c-table__sort"},[t("button",{staticClass:"c-table__sort-btn",class:[col.hasSort?"c-table__sort-btn--has-sort":""],attrs:{title:col.tooltip},on:{click:function(t){return e.handleSort(col)}}},[e._t("".concat(col.key,"-header"),(function(){return[e._v("\n                  "+e._s(col.label)+"\n                ")]}))],2),e._v(" "),col.hasSort?t("span",{staticClass:"c-table__sort-icons"},[t("AscIcon",{staticClass:"c-table__sort-icon",class:[e.arrowIsActive("asc",col.key)?"is-active":""]}),e._v(" "),t("DescIcon",{staticClass:"c-table__sort-icon",class:[e.arrowIsActive("desc",col.key)?"is-active":""]})],1):e._e()]),e._v(" "),e.summary?t("div",{staticClass:"c-table__summary"},[e._t("".concat(col.key,"-summary"),(function(){return[e._v("\n                "+e._s(e.getSummary(col))+"\n              ")]}))],2):e._e()])})),0)]),e._v(" "),t("tbody",{staticClass:"c-table__body"},e._l(e.data,(function(n,r){var o;return t("tr",{key:null!==(o=n[e.rowKey])&&void 0!==o?o:r,staticClass:"c-table__row",on:{click:function(t){return e.rowClickEvent(n)}}},e._l(e.headers,(function(col){return t("td",{key:col.key,staticClass:"c-table__cell",style:e.colStyles(col)},[n?e._t("".concat(col.key),(function(){return[e._v("\n              "+e._s(e.formatValue(col,n[col.key]))+"\n            ")]}),{row:n,data:n[col.key],index:r}):e._e()],2)})),0)})),0)]),e._v(" "),Array.isArray(e.data)&&e.data.length?e._e():t("div",{staticClass:"c-table__no-data"},[e._v("\n      Нет данных\n    ")])]),e._v(" "),e.hasSlot("footer")?t("div",{staticClass:"c-table__footer"},[e._t("footer")],2):e._e()])}),[],!1,null,null,null);t.default=component.exports},627:function(e,t,n){"use strict";n(614)},628:function(e,t,n){var r=n(67)((function(i){return i[1]}));r.push([e.i,'.c-table__sort-btn{background:transparent;border:none;color:inherit;font:inherit;line-height:normal;overflow:visible;padding:0;text-align:inherit;width:auto;-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;-webkit-appearance:none}.c-table__sort-btn::-moz-focus-inner{border:0;padding:0}.c-table__sort-btn:focus{outline:none}.c-table{display:flex;flex-direction:column}.c-table__footer,.c-table__header{background-color:var(--bg-color);flex:none}.c-table__header{border-bottom:1px solid var(--border-color-light)}.c-table__footer{border-top:1px solid var(--border-color-light)}.c-table__scroll{background-color:var(--bg-color);flex:1;overflow-x:auto;overflow-y:scroll;position:relative;transform:translateZ(0)}.c-table--no-wrap{white-space:nowrap}.c-table__table{border-collapse:separate;border-spacing:0;position:relative;width:100%}.c-table__no-data{align-items:center;color:var(--color-text-light);display:flex;height:100%;justify-content:center;left:0;padding:20px 0;position:sticky}.c-table__row:hover .c-table__cell:before{opacity:.1}.c-table__row:not(:last-child) .c-table__cell{border-bottom:1px solid var(--border-color-light)}.c-table__cell{padding:10px;position:relative;text-align:left;z-index:0}.c-table__cell:before{background-color:var(--color-primary);bottom:0;content:"";left:0;opacity:0;pointer-events:none;position:absolute;right:0;top:0;transition:opacity .1s}.c-table__cell--header{background-color:var(--bg-color);border-bottom:1px solid var(--border-color-light);position:sticky;top:0;white-space:nowrap;z-index:1}.c-table__sort{align-items:center;display:inline-flex}.c-table__sort-icons{display:inline-flex;flex-direction:column;margin:0 0 0 4px}.c-table__sort-icon{height:16px;margin:-4px 0;width:16px}.c-table__sort-icon.is-active{color:var(--color-primary)}.c-table__sort-btn{color:var(--color-text-lightest);padding:4px 0}.c-table__sort-btn--has-sort{cursor:pointer;transition:color .1s}.c-table__sort-btn--has-sort:hover{color:var(--color-text)}.c-table__summary{color:var(--color-text-light);font-size:12px;font-weight:400;line-height:14px;margin:0;min-height:14px}',""]),r.locals={},e.exports=r},637:function(e,t,n){"use strict";n.r(t);n(73);var r=n(33),o=n(32),l=n(35),c=n(36),d=n(23),f=n(20),v=(n(2),n(1),n(37),n(15)),_=n(349),m=n.n(_),h=n(350),y=n.n(h),w=n(225);function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var k=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},j=function(e){Object(l.a)(n,e);var t=x(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).name="MetricsPlates",e}return Object(r.a)(n)}(v.Vue);k([Object(v.Prop)({default:!1})],j.prototype,"loading",void 0),k([Object(v.Prop)({required:!0})],j.prototype,"items",void 0);var C=j=k([Object(v.Component)({components:{ContentLoader:w.default,InfoIcon:y.a,ContentCopyIcon:m.a}})],j),O=(n(686),n(34)),component=Object(O.a)(C,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"metrics-plates"},[t("ul",{staticClass:"metrics-plates__list"},e._l(e.items,(function(n){return t("li",{key:n.key,staticClass:"metrics-plates__item"},[t("span",{staticClass:"metrics-plates__item-label"},[e._v("\n        "+e._s(n.label)+"\n      ")]),e._v(" "),t("b",{staticClass:"metrics-plates__item-value",style:{color:n.color?"var(--color-".concat(n.color,")"):null}},[e._v("\n        "+e._s(n.value)+"\n\n        "),n.diff?t("span",{staticClass:"metrics-plates__item-diff"},[e._v("\n          "+e._s(n.diff)+"\n        ")]):e._e()]),e._v(" "),t("ContentLoader",{attrs:{loading:e.loading}})],1)})),0)])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{ContentLoader:n(225).default})},641:function(e,t,n){"use strict";n(618)},642:function(e,t,n){var r=n(67)((function(i){return i[1]}));r.push([e.i,"",""]),r.locals={},e.exports=r},649:function(e,t,n){var content=n(687);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(68).default)("15a85e39",content,!0,{sourceMap:!1})},661:function(e,t,n){var content=n(713);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(68).default)("7e2d94b6",content,!0,{sourceMap:!1})},663:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return null!=e}},673:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(14),o=(n(43),function(text){try{var e=document.createElement("textarea");return e.value=text,e.style.top="0",e.style.left="0",e.style.position="fixed",document.body.appendChild(e),e.focus(),e.select(),document.execCommand("copy"),document.body.removeChild(e),!0}catch(e){return!1}}),l=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(text){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;break;case 2:if(navigator.clipboard){e.next=4;break}return e.abrupt("return",o(text));case 4:return e.prev=4,e.next=7,navigator.clipboard.writeText(text);case 7:return e.abrupt("return",!0);case 10:return e.prev=10,e.t0=e.catch(4),console.error(e.t0),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}()},677:function(e,t,n){"use strict";n.r(t);n(73);var r=n(33),o=n(32),l=n(35),c=n(36),d=n(23),f=n(20),v=(n(2),n(1),n(37),n(15)),_=n(183);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var h=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},y=function(e){Object(l.a)(n,e);var t=m(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).name="PageSection",e}return Object(r.a)(n)}(v.Vue);h([Object(v.Prop)({default:"-76px"})],y.prototype,"offsetTop",void 0),h([Object(v.Prop)({required:!0})],y.prototype,"identity",void 0),h([Object(v.Prop)()],y.prototype,"title",void 0);var w=y=h([Object(v.Component)({components:{ContentBox:_.default}})],y),x=(n(712),n(34)),component=Object(x.a)(w,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("section",{staticClass:"page-section"},[t("div",{staticClass:"page-section__anchor",style:{top:e.offsetTop},attrs:{id:e.identity}}),e._v(" "),e.title?t("h2",{staticClass:"page-section__title"},[e._v("\n    "+e._s(e.title)+"\n  ")]):e._e(),e._v(" "),e._t("default")],2)}),[],!1,null,null,null);t.default=component.exports},682:function(e,t,n){var content=n(728);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(68).default)("43c88ed8",content,!0,{sourceMap:!1})},686:function(e,t,n){"use strict";n(649)},687:function(e,t,n){var r=n(67)((function(i){return i[1]}));r.push([e.i,".metrics-plates__list{display:flex;flex-wrap:wrap;list-style:none;padding:0}.metrics-plates__item{align-items:center;background-color:var(--bg-color);border:1px solid var(--border-color-light);display:inline-flex;flex-direction:column;justify-content:space-between;margin:2px;padding:10px;position:relative;width:calc(16.66667% - 4px)}@media only screen and (max-width:1400px){.metrics-plates__item{width:calc(25% - 4px)}}@media only screen and (max-width:768px){.metrics-plates__item{width:calc(50% - 4px)}}.metrics-plates__item-label{color:var(--color-text-light);display:inline-flex;font-size:14px;line-height:1.125;text-align:center}.metrics-plates__item-value{align-items:center;display:flex;font-size:22px;justify-content:center;line-height:1.25;margin:12px 0;position:relative;width:100%}.metrics-plates__item-diff{bottom:0;color:var(--color-text-lightest);display:flex;font-size:12px;font-weight:400;justify-content:center;left:0;position:absolute;right:0;top:100%}",""]),r.locals={},e.exports=r},691:function(e,t,n){"use strict";n.r(t);n(73);var r=n(33),o=n(32),l=n(35),c=n(36),d=n(23),f=n(20),v=(n(2),n(1),n(37),n(51),n(50),n(15));function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var m=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},h=function(e){Object(l.a)(n,e);var t=_(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).name="RoleIcon",e}return Object(r.a)(n)}(v.Vue);m([Object(v.Prop)({required:!0})],h.prototype,"role",void 0),m([Object(v.Prop)({default:"100%"})],h.prototype,"width",void 0),m([Object(v.Prop)({default:"auto"})],h.prototype,"height",void 0);var y=h=m([Object(v.Component)({components:{commander:function(){return Promise.resolve().then(n.t.bind(null,348,7))},executive_officer:function(){return Promise.resolve().then(n.t.bind(null,510,7))},private:function(){return Promise.resolve().then(n.t.bind(null,508,7))},recruit:function(){return Promise.resolve().then(n.t.bind(null,509,7))}}})],h),w=(n(727),n(34)),component=Object(w.a)(y,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("i",{staticClass:"role-icon",class:["role-icon--"+e.role]},[e.role?t(e.role,{tag:"component",attrs:{width:e.width,height:e.height}}):e._e()],1)}),[],!1,null,null,null);t.default=component.exports},692:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));n(1),n(9),n(3),n(5),n(129),n(130);var r=n(226),o=n(608),l=n(613),c=function(e,t){if(e&&t)return e.reduce((function(e,t){return e+t.battle_life_time}),0)/t.battles},d={account:function(e){var t,n,d,f,v,_,m,h,y,w,x,k,j,C,O,P,R,D,B,I,S,M,F,A,E,L,z,$,N,T,V=[{label:"",key:"battles",value:(null===(t=e.stat)||void 0===t?void 0:t.battles)||0,diff:r.a.number.toInteger(null===(n=e.statDiff)||void 0===n?void 0:n.battles,!0)},{label:"",key:"winRate",value:r.a.number.toFloatPercent((null===(d=e.stat)||void 0===d?void 0:d.winRate)||0),diff:r.a.number.toFloatPercent(null===(f=e.statDiff)||void 0===f?void 0:f.winRate,!0),color:o.a.winRate((null===(v=e.stat)||void 0===v?void 0:v.winRate)||0)},{label:"",key:"damagePerBattle",value:(null===(_=e.stat)||void 0===_?void 0:_.damagePerBattle)||0,diff:r.a.number.toInteger(null===(m=e.statDiff)||void 0===m?void 0:m.damagePerBattle,!0)}],W=e.achievements?l.a.winsInPlatoon({wins:null!==(h=null===(y=e.stat)||void 0===y?void 0:y.wins)&&void 0!==h?h:0,achievements:e.achievements}):void 0,U=e.achievementsDiff?l.a.winsInPlatoon({wins:null!==(w=null===(x=e.statDiff)||void 0===x?void 0:x.wins)&&void 0!==w?w:0,achievements:e.achievementsDiff})-(W||0):void 0;V.push({label:"",key:"winsInPlatoon",value:r.a.number.toFloatPercent(W||0),diff:r.a.number.toFloatPercent(U,!0)});var H=l.a.battlesPerDay({battles:(null===(k=e.stat)||void 0===k?void 0:k.battles)||0,createAt:e.createAt||0}),J=l.a.battlesPerDay({battles:(null===(j=e.statDiff)||void 0===j?void 0:j.battles)||0,createAt:e.createAtDiff||0});V.push({label:"",key:"battlesPerDay",value:H,diff:e.statDiff?r.a.number.toInteger(J-H,!0):""}),V.push({label:"",key:"tanksWithMaster",value:"".concat(l.a.totalMasters(e.tanks)," / ").concat(e.tanks.length),diff:e.tanksDiff?"".concat(l.a.totalMasters(e.tanksDiff||[])," / ").concat((null===(C=e.tanksDiff)||void 0===C?void 0:C.length)||0):""}),V.push({label:"",key:"fragPerBattle",value:r.a.number.toFloatNumber((null===(O=e.stat)||void 0===O?void 0:O.fragPerBattle)||0),diff:r.a.number.toFloatNumber(null===(P=e.statDiff)||void 0===P?void 0:P.fragPerBattle,!0)},{label:"",key:"surviveRate",value:r.a.number.toFloatPercent((null===(R=e.stat)||void 0===R?void 0:R.surviveRate)||0),diff:r.a.number.toFloatPercent(null===(D=e.statDiff)||void 0===D?void 0:D.surviveRate,!0)},{label:"",key:"hitRate",value:r.a.number.toFloatPercent((null===(B=e.stat)||void 0===B?void 0:B.hitRate)||0),diff:r.a.number.toFloatPercent(null===(I=e.statDiff)||void 0===I?void 0:I.hitRate,!0)},{label:"",key:"spottedPerBattle",value:r.a.number.toFloatNumber((null===(S=e.stat)||void 0===S?void 0:S.spottedPerBattle)||0),diff:r.a.number.toFloatNumber(null===(M=e.statDiff)||void 0===M?void 0:M.spottedPerBattle,!0)},{label:"",key:"xpPerBattle",value:r.a.number.toInteger((null===(F=e.stat)||void 0===F?void 0:F.xpPerBattle)||0),diff:r.a.number.toInteger(null===(A=e.statDiff)||void 0===A?void 0:A.xpPerBattle,!0)},{label:"",key:"max_frags",value:(null===(E=e.stat)||void 0===E?void 0:E.max_frags)||0,diff:r.a.number.toInteger(null===(L=e.statDiff)||void 0===L?void 0:L.max_frags,!0)},{label:"",key:"max_xp",value:(null===(z=e.stat)||void 0===z?void 0:z.max_xp)||0,diff:r.a.number.toInteger(null===($=e.statDiff)||void 0===$?void 0:$.max_xp,!0)});var K=null!==(N=c(e.tanks,e.stat))&&void 0!==N?N:0,Y=null!==(T=c(e.tanksDiff,e.statDiff))&&void 0!==T?T:null,Z=(Y||0)-K;return V.push({key:"battle_life_time",label:"Время жизни в минутах",value:r.a.number.toFloatNumber(K/60||0),diff:Y?r.a.number.toFloatNumber(Z/60||0,!0):void 0}),V.forEach((function(e){e.label=r.a.stat.accountProp(e.key)})),V.filter((function(t){var n;return!e.plates||(null===(n=e.plates)||void 0===n?void 0:n.includes(t.key))}))},accountRating:function(){var e,t,n,l,c,d,f,v,_,m,h,y,w,x,k,j,C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},O=[{key:"battles",label:"Боёв",value:(null===(e=C.stat)||void 0===e?void 0:e.battles)||0,diff:r.a.number.toInteger(null===(t=C.diff)||void 0===t?void 0:t.battles,!0)},{key:"winRate",label:"Побед",value:r.a.number.toFloatPercent((null===(n=C.stat)||void 0===n?void 0:n.winRate)||0),diff:r.a.number.toFloatPercent(null===(l=C.diff)||void 0===l?void 0:l.winRate,!0),color:o.a.winRate((null===(c=C.stat)||void 0===c?void 0:c.winRate)||0)},{key:"damagePerBattle",label:"Урон",value:(null===(d=C.stat)||void 0===d?void 0:d.damagePerBattle)||0,diff:r.a.number.toInteger(null===(f=C.diff)||void 0===f?void 0:f.damagePerBattle,!0)},{key:"fragPerBattle",label:"Уничтожено",value:r.a.number.toFloatNumber((null===(v=C.stat)||void 0===v?void 0:v.fragPerBattle)||0),diff:r.a.number.toFloatNumber(null===(_=C.diff)||void 0===_?void 0:_.fragPerBattle,!0)},{key:"surviveRate",label:"Выживаемость",value:r.a.number.toFloatPercent((null===(m=C.stat)||void 0===m?void 0:m.surviveRate)||0),diff:r.a.number.toFloatPercent(null===(h=C.diff)||void 0===h?void 0:h.surviveRate,!0)},{key:"hitRate",label:"Меткость",value:r.a.number.toFloatPercent((null===(y=C.stat)||void 0===y?void 0:y.hitRate)||0),diff:r.a.number.toFloatPercent(null===(w=C.diff)||void 0===w?void 0:w.hitRate,!0)},{key:"spottedPerBattle",label:"Обнаружено",value:r.a.number.toFloatNumber((null===(x=C.stat)||void 0===x?void 0:x.spottedPerBattle)||0),diff:r.a.number.toFloatNumber(null===(k=C.diff)||void 0===k?void 0:k.spottedPerBattle,!0)}];if(null!==(j=C.stat)&&void 0!==j&&j.mm_rating){var P=10*(C.stat.mm_rating||0)+3e3;O.push({key:"mm_rating",label:"Рейтинг",value:r.a.number.toInteger(P)})}else{var R,D=10-((null===(R=C.stat)||void 0===R?void 0:R.calibration_battles_left)||0);O.push({key:"calibration_battles_left",label:D<10?"Калибровочные бои":"Рейтинг",value:D<10?"".concat(r.a.number.toInteger(D),"/10"):"---"})}return O},tank:function(e,t){var n=l.a.tank(e.all),c=t?l.a.tank(t.all):null,d=c?l.a.diff(n,c):null,f=[{key:"battles",label:"Боёв",value:r.a.number.toInteger(n.battles||0),diff:r.a.number.toInteger((null==d?void 0:d.battles)||0,!0)},{key:"winRate",label:"Побед",value:r.a.number.toFloatPercent(n.winRate||0),diff:r.a.number.toFloatPercent((null==d?void 0:d.winRate)||0,!0),color:o.a.winRate(n.winRate||0)},{key:"damagePerBattle",label:"Урон",value:r.a.number.toInteger(n.damagePerBattle||0),diff:r.a.number.toInteger((null==d?void 0:d.damagePerBattle)||0,!0)},{key:"fragPerBattle",label:"Уничтожено",value:r.a.number.toFloatNumber(n.fragPerBattle||0),diff:r.a.number.toFloatNumber((null==d?void 0:d.fragPerBattle)||0,!0)},{key:"surviveRate",label:"Выживаемость",value:r.a.number.toFloatPercent(n.surviveRate||0),diff:r.a.number.toFloatPercent((null==d?void 0:d.surviveRate)||0,!0)},{key:"hitRate",label:"Меткость",value:r.a.number.toFloatPercent(n.hitRate||0),diff:r.a.number.toFloatPercent((null==d?void 0:d.hitRate)||0,!0)},{key:"spottedPerBattle",label:"Обнаружено",value:r.a.number.toFloatNumber(n.spottedPerBattle||0),diff:r.a.number.toFloatNumber((null==d?void 0:d.spottedPerBattle)||0,!0)},{key:"xpPerBattle",label:"Опыт",value:r.a.number.toInteger(n.xpPerBattle||0),diff:r.a.number.toInteger((null==d?void 0:d.xpPerBattle)||0,!0)},{key:"maxFrags",label:"Уничтожено макс.",value:r.a.number.toInteger(n.max_frags||0),diff:r.a.number.toInteger((null==c?void 0:c.max_frags)||0)},{key:"maxXp",label:"Опыт макс.",value:r.a.number.toInteger(n.max_xp||0),diff:r.a.number.toInteger((null==c?void 0:c.max_xp)||0)}];return f.push({key:"winsInPlatoon",label:"Побед во взводе",value:r.a.number.toFloatPercent(l.a.winsInPlatoon({wins:e.all.wins,achievements:e.achievements})||0)}),f.push({key:"lifeTime",label:"Время жизни в минутах",value:r.a.number.toFloatNumber(e.battle_life_time/n.battles/60||0)}),f},clan:function(){var e,t,n,c,d,f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],v=arguments.length>1?arguments[1]:void 0,_=f.length;v&&_&&(d=l.a.accountAll(v.all,_));var m=Math.floor(f.reduce((function(e,t){return Math.floor(e+l.a.battlesPerDay({createAt:1e3*t.create_at,battles:t.statistic.all.battles}))}),0)/_);return[{key:"battles",label:"Боёв",value:(null===(e=d)||void 0===e?void 0:e.battles)||0},{key:"winRate",label:"Побед",value:r.a.number.toFloatPercent((null===(t=d)||void 0===t?void 0:t.winRate)||0),color:o.a.winRate((null===(n=d)||void 0===n?void 0:n.winRate)||0)},{key:"damagePerBattle",label:"Урон",value:(null===(c=d)||void 0===c?void 0:c.damagePerBattle)||0},{key:"activity",label:"Боёв в день",value:r.a.number.toInteger(m)}]}}},712:function(e,t,n){"use strict";n(661)},713:function(e,t,n){var r=n(67)((function(i){return i[1]}));r.push([e.i,".page-section{position:relative}.page-section__title{border-bottom:1px solid var(--border-color-light);display:flex;font-size:20px;font-weight:500;margin:1em 0;padding:0 0 .1em}.page-section__anchor{bottom:0;pointer-events:none;position:absolute;width:100%}",""]),r.locals={},e.exports=r},717:function(e,t,n){var content=n(790);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(68).default)("3afccb12",content,!0,{sourceMap:!1})},718:function(e,t,n){"use strict";n.r(t);n(786),n(73);var r=n(33),o=n(32),l=n(35),c=n(36),d=n(23),f=n(20),v=(n(2),n(1),n(37),n(15));function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var m=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},h=function(e){Object(l.a)(n,e);var t=_(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).name="SocialLinks",e}return Object(r.a)(n)}(v.Vue);m([Object(v.Prop)({required:!0,type:Array})],h.prototype,"links",void 0);var y=h=m([v.Component],h),w=(n(789),n(34)),component=Object(w.a)(y,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"social-links"},[t("div",{staticClass:"social-links__links"},e._l(e.links,(function(link){return t("a",{key:link.link,staticClass:"link social-links__links-item",attrs:{href:link.link,target:"_blank",title:link.title}},[t(link.icon,{tag:"component",attrs:{width:"24",height:"24"}})],1)})),0)])}),[],!1,null,null,null);t.default=component.exports},727:function(e,t,n){"use strict";n(682)},728:function(e,t,n){var r=n(67)((function(i){return i[1]}));r.push([e.i,".role-icon{color:var(--color-green);display:inline-flex;position:relative}.role-icon--commander,.role-icon--executive_officer{color:var(--color-orange);top:-1px}",""]),r.locals={},e.exports=r},743:function(e,t,n){var content=n(813);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(68).default)("68e6cd68",content,!0,{sourceMap:!1})},786:function(e,t,n){"use strict";var r=n(7),o=n(787);r({target:"String",proto:!0,forced:n(788)("link")},{link:function(e){return o(this,"a","href",e)}})},787:function(e,t,n){"use strict";var r=n(17),o=n(75),l=n(41),c=/"/g,d=r("".replace);e.exports=function(e,t,n,r){var f=l(o(e)),v="<"+t;return""!==n&&(v+=" "+n+'="'+d(l(r),c,"&quot;")+'"'),v+">"+f+"</"+t+">"}},788:function(e,t,n){"use strict";var r=n(16);e.exports=function(e){return r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},789:function(e,t,n){"use strict";n(717)},790:function(e,t,n){var r=n(67)((function(i){return i[1]}));r.push([e.i,".social-links__links{display:flex;flex-wrap:wrap}.social-links__links-item{align-items:center;display:inline-flex;font-weight:700;height:36px;justify-content:center;width:36px}",""]),r.locals={},e.exports=r},791:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(604);var r={smart:function(e,t){var n=t.prop,r=t.order;return r?e.sort((function(a,b){var e=("desc"===r?b:a)[n],t=("desc"===r?a:b)[n];return String(e).localeCompare(String(t),void 0,{numeric:!0,sensitivity:"base"})})):e},clanMembersDefault:function(e){!function(e){e.sort((function(a,b){return a.joined_at-b.joined_at}))}(e),function(e){e.sort((function(a,b){var e={recruit:0,private:1,executive_officer:2,commander:3};return e[b.role]-e[a.role]}))}(e)}}},796:function(e,t,n){"use strict";n.r(t);n(9),n(37),n(4),n(78),n(73);var r=n(32),o=n(33),l=n(35),c=n(36),d=n(23),f=n(20),v=(n(2),n(1),n(15)),_=n(114),m=n(718),h=(n(44),n(187),n(51),n(50),/(https?:\/\/)?(www\.)?(discord\.(gg|io|me|li)|discordapp\.com\/invite)\/.+[a-z|0-9]/gi),y=/(https?:\/\/)?(www\.)?((t|telegram)\.me)\/\+?[a-zA-Z0-9_]{5,32}/gi,w=function(e){var t=[],r=e.match(h),o=e.match(y);return null!=r&&r.length&&t.push({title:"Discord",icon:function(){return Promise.resolve().then(n.t.bind(null,484,7))},link:r[0]}),null!=o&&o.length&&t.push({title:"Telegram",icon:function(){return Promise.resolve().then(n.t.bind(null,520,7))},link:o[0]}),t},x=n(225),k=n(150),j=n(115),C=n(105);function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var P=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},R=function(e){Object(l.a)(n,e);var t=O(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).name="ClanPreview",e.notify=C.a.notify(),e.descExpended=!1,e}return Object(o.a)(n,[{key:"socialLinks",get:function(){var e;return w(null!==(e=this.clan.description)&&void 0!==e?e:"")}},{key:"open",value:function(){this.clanDetailsRef.doOpen()}},{key:"close",value:function(){this.clanDetailsRef.doClose()}},{key:"handleDescExpandBtn",value:function(){this.descExpended=!this.descExpended}}]),n}(v.Vue);P([Object(v.Prop)({required:!0})],R.prototype,"clan",void 0),P([Object(v.Ref)("clanDetails")],R.prototype,"clanDetailsRef",void 0);var D=R=P([Object(v.Component)({components:{SvgIcon:j.default,CDialog:k.default,CButton:_.default,SocialLinks:m.default,ContentLoader:x.default}})],R),B=(n(812),n(34)),component=Object(B.a)(D,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("CDialog",{ref:"clanDetails",staticClass:"clan-preview-details",attrs:{title:"[".concat(e.clan.tag,"] ").concat(e.clan.name),width:"640px"},scopedSlots:e._u([{key:"footer",fn:function(){return[t("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[t("SocialLinks",{staticClass:"clan-preview-details__links",attrs:{links:e.socialLinks}}),e._v(" "),t("CButton",{on:{click:e.close}},[e._v("\n        Закрыть\n      ")])],1)]},proxy:!0}])},[t("div",{staticClass:"clan-preview-details__body"},[e.clan.motto?t("div",{staticClass:"clan-preview-details__section"},[t("h5",{staticClass:"clan-preview-details__props-title"},[t("SvgIcon",{staticClass:"clan-preview-details__prop-title-icon",attrs:{"icon-name":"format-quote"}}),e._v("\n        Девиз\n      ")],1),e._v(" "),t("i",[e._v(e._s(e.clan.motto))])]):e._e(),e._v(" "),t("div",{staticClass:"clan-preview-details__section"},[t("h5",{staticClass:"clan-preview-details__props-title"},[t("SvgIcon",{staticClass:"clan-preview-details__prop-title-icon",attrs:{"icon-name":"description"}}),e._v("\n        Описание\n      ")],1),e._v(" "),e.clan.description?t("div",{staticClass:"content-area clan-preview-details__desc",class:e.descExpended?"clan-preview-details__desc--expended":"",domProps:{textContent:e._s(e.clan.description)}}):e._e(),e._v(" "),t("CButton",{staticClass:"clan-preview-details__desc-expend-btn",attrs:{"is-text":""},on:{click:e.handleDescExpandBtn}},[e._v("\n        "+e._s(e.descExpended?"Свернуть":"Развернуть")+"\n      ")])],1),e._v(" "),e.clan.motto?t("div",{staticClass:"clan-preview-details__section"},[t("h5",{staticClass:"clan-preview-details__props-title"},[t("SvgIcon",{staticClass:"clan-preview-details__prop-title-icon",attrs:{"icon-name":"info"}}),e._v("\n        Информация\n      ")],1),e._v(" "),t("div",{staticClass:"clan-preview-details__props"},[t("div",{staticClass:"clan-preview-details__prop"},[t("span",{staticClass:"clan-preview-details__prop-title"},[e._v("\n            Создатель\n          ")]),e._v(" "),e.clan.creator_id?t("nuxt-link",{staticClass:"link",attrs:{to:e.clan.creator_id?{name:"account-id",params:{id:e.clan.creator_id}}:{}}},[e._v("\n            "+e._s(e.clan.creator_name)+"\n          ")]):[e._v("\n            Не известен\n          ")]],2),e._v(" "),t("div",{staticClass:"clan-preview-details__prop"},[t("span",{staticClass:"clan-preview-details__prop-title"},[e._v("\n            Дата создания\n          ")]),e._v("\n          "+e._s(e.$formatter.date.toLocaleDate(1e3*e.clan.created_at))+"\n        ")]),e._v(" "),t("div",{staticClass:"clan-preview-details__prop"},[t("span",{staticClass:"clan-preview-details__prop-title"},[e._v("\n            Дата обновления\n          ")]),e._v("\n          "+e._s(e.$formatter.date.toLocaleDate(1e3*e.clan.updated_at))+"\n        ")]),e._v(" "),t("div",{staticClass:"clan-preview-details__prop"},[t("span",{staticClass:"clan-preview-details__prop-title"},[e._v("\n            Участников\n          ")]),e._v("\n          "+e._s(e.$formatter.number.toInteger(e.clan.members_count))+"\n        ")]),e._v(" "),e.clan.old_tag?t("div",{staticClass:"clan-preview-details__prop"},[t("span",{staticClass:"clan-preview-details__prop-title"},[e._v("\n            Старое название\n          ")]),e._v("\n          ["+e._s(e.clan.old_tag)+"] "+e._s(e.clan.old_name)+"\n        ")]):e._e()])]):e._e(),e._v(" "),t("div",{staticClass:"clan-preview-details__section"},[t("h5",{staticClass:"clan-preview-details__props-title"},[t("SvgIcon",{staticClass:"clan-preview-details__prop-title-icon",attrs:{"icon-name":"person-search"}}),e._v("\n        Рекрутинг\n      ")],1),e._v(" "),t("div",{staticClass:"clan-preview-details__props"},[t("div",{staticClass:"clan-preview-details__prop"},[t("span",{staticClass:"clan-preview-details__prop-title"},[e._v("\n            Политика приёма.\n          ")]),e._v("\n          "+e._s(e.$formatter.clan.recruitingPolicy(e.clan.recruiting_policy))+".\n        ")]),e._v(" "),"open"===e.clan.recruiting_policy&&e.clan.recruiting_options?[t("div",{staticClass:"clan-preview-details__props-subtitle"},[e._v("\n            Пороги статистики для вступления:\n          ")]),e._v(" "),t("div",{staticClass:"clan-preview-details__prop"},[t("span",{staticClass:"clan-preview-details__prop-title"},[e._v("\n              Боёв в день\n            ")]),e._v("\n            "+e._s(e.$formatter.number.toInteger(e.clan.recruiting_options.average_battles_per_day))+"\n          ")]),e._v(" "),t("div",{staticClass:"clan-preview-details__prop"},[t("span",{staticClass:"clan-preview-details__prop-title"},[e._v("\n              Боёв всего\n            ")]),e._v("\n            "+e._s(e.$formatter.number.toInteger(e.clan.recruiting_options.battles))+"\n          ")]),e._v(" "),t("div",{staticClass:"clan-preview-details__prop"},[t("span",{staticClass:"clan-preview-details__prop-title"},[e._v("\n              Урон ср.\n            ")]),e._v("\n            "+e._s(e.$formatter.number.toInteger(e.clan.recruiting_options.average_damage))+"\n          ")]),e._v(" "),t("div",{staticClass:"clan-preview-details__prop"},[t("span",{staticClass:"clan-preview-details__prop-title"},[e._v("\n              Уровень\n            ")]),e._v("\n            "+e._s(e.$formatter.number.toInteger(e.clan.recruiting_options.vehicles_level))+"\n          ")]),e._v(" "),t("div",{staticClass:"clan-preview-details__prop"},[t("span",{staticClass:"clan-preview-details__prop-title"},[e._v("\n              Побед\n            ")]),e._v("\n            "+e._s(e.$formatter.number.toInteger(e.clan.recruiting_options.wins_ratio))+"%\n          ")])]:e._e()],2)])])])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{SvgIcon:n(115).default,SocialLinks:n(718).default})},812:function(e,t,n){"use strict";n(743)},813:function(e,t,n){var r=n(67)((function(i){return i[1]}));r.push([e.i,'.clan-preview-details__body{padding:20px 0}.clan-preview-details__section+.clan-preview-details__section{border-top:1px solid var(--border-color-light);margin:20px 0 0;padding:20px 0 0}.clan-preview-details__props-title{font-weight:500;margin:0 0 14px}.clan-preview-details__props-subtitle,.clan-preview-details__props-title{align-items:flex-start;color:var(--color-text-light);display:flex;font-size:14px;line-height:1.5}.clan-preview-details__props-subtitle{margin:0;width:100%}.clan-preview-details__prop-title-icon{color:var(--color-text);flex:none;margin:-2px 8px 0 0}.clan-preview-details__props{align-items:center;display:flex;flex-wrap:wrap;gap:20px 30px}.clan-preview-details__prop{display:flex;flex-direction:column;min-width:0}.clan-preview-details__prop--row{width:100%}.clan-preview-details__prop-title{color:var(--color-text-light);font-size:12px;max-width:350px}.clan-preview-details__motto{font-style:italic;margin:0 0 20px}.clan-preview-details__desc{max-height:80px;overflow:hidden;position:relative;transition:max-height .3s;white-space:pre-line;will-change:max-height}.clan-preview-details__desc:after{background-image:linear-gradient(to top,var(--bg-color),transparent);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0;transition:opacity .3s}.clan-preview-details__desc--expended{max-height:1000px;overflow:auto}.clan-preview-details__desc--expended:after{opacity:0}.clan-preview-details__desc-expend-btn{align-items:center;height:40px;margin:10px 0 0}',""]),r.locals={},e.exports=r},814:function(e,t,n){var content=n(849);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(68).default)("3917e87e",content,!0,{sourceMap:!1})},815:function(e,t,n){var content=n(851);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(68).default)("1556a69c",content,!0,{sourceMap:!1})},817:function(e,t,n){var content=n(855);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(68).default)("4a72b615",content,!0,{sourceMap:!1})},848:function(e,t,n){"use strict";n(814)},849:function(e,t,n){var r=n(67)((function(i){return i[1]}));r.push([e.i,'.clan-preview__emblem-img:after,.clan-preview__emblem-img:before{bottom:0;left:0;position:absolute;right:0;top:0}.clan-preview__emblem-img:before{background-color:var(--bg-color);border:1px solid var(--border-color-light);content:"";display:block}.clan-preview__emblem-img:after{align-items:center;color:var(--color-text-light);content:attr(data-text);display:flex;flex-wrap:wrap;font-size:10px;font-style:normal;justify-content:center;padding:4px;text-align:center;word-break:break-word}.clan-preview{background-color:var(--bg-color);border:1px solid var(--border-color-light);position:relative}.clan-preview__inner{align-items:center;display:flex;flex:1;justify-content:center;padding:10px 15px;position:relative}@media only screen and (max-width:480px){.clan-preview__inner{flex-direction:column}}.clan-preview__info{align-items:center;display:flex;flex:1;flex-direction:column;font-size:22px;max-width:100%;min-width:0;padding:12px}@media only screen and (max-width:1024px){.clan-preview__info{font-size:20px}}@media only screen and (max-width:640px){.clan-preview__info{font-size:18px}}.clan-preview__emblem{background-color:var(--bg-color-darken);border:1px solid var(--border-color-light);border-radius:50%;display:inline-flex;padding:8px;position:relative}.clan-preview__emblem-img{display:flex;height:64px;-o-object-fit:contain;object-fit:contain;width:64px}.clan-preview__title{display:flex;flex:1;flex-wrap:wrap;font-weight:500;gap:.3em;justify-content:center;max-width:100%}.clan-preview__tag{color:var(--color-orange)}.clan-preview__name,.clan-preview__tag{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.clan-preview__props{display:flex;flex-wrap:wrap;gap:16px;justify-content:center;margin:10px 0 0}.clan-preview__prop{align-items:center;display:flex;flex-direction:column;justify-content:stretch;white-space:nowrap}.clan-preview__prop-title{color:var(--color-text-light);font-size:12px}.clan-preview__prop-value{align-items:center;display:flex;flex:1;font-size:14px}.clan-preview__actions{align-items:center;display:flex;flex:none;flex-direction:column;justify-content:center}@media only screen and (max-width:480px){.clan-preview__actions{flex-direction:row}}.clan-preview__actions-btn{align-items:center;height:24px;justify-content:center;margin:4px 0;width:24px}@media only screen and (max-width:1024px){.clan-preview__actions-btn{height:40px;margin:0;width:40px}}.clan-preview__no-data{white-space:pre}',""]),r.locals={},e.exports=r},850:function(e,t,n){"use strict";n(815)},851:function(e,t,n){var r=n(67)((function(i){return i[1]}));r.push([e.i,'.clan-view-table__name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@keyframes blinking{70%{background-color:var(--color-green)}to{background-color:var(--bg-color)}}.clan-view-table__total{color:var(--color-text-light);margin:0 0 4px}.clan-view-table__total-value{color:var(--color-text)}.clan-view-table__table{border:1px solid var(--border-color-light);white-space:nowrap}.clan-view-table__member{align-items:center;display:flex;position:relative}.clan-view-table__name{display:block;font-weight:500;width:180px}.clan-view-table__name--deleted{color:var(--color-text-light)}@media only screen and (max-width:640px){.clan-view-table__name{width:110px}}.clan-view-table__role{align-items:center;border-radius:50%;display:inline-flex;height:30px;justify-content:center;margin:0 10px 0 0;position:relative;width:30px}.clan-view-table__role:before{border:2px solid var(--bg-color-darken);border-radius:inherit;bottom:0;content:"";left:0;opacity:.5;position:absolute;right:0;top:0}.clan-view-table__role--is-user,.clan-view-table__role--is-user:before{border-color:var(--color-green)}.clan-view-table__role--is-user:after{background-color:transparent;border:2px solid transparent;border-radius:50%;bottom:0;content:"";height:10px;position:absolute;right:0;width:10px}.clan-view-table__role--is-online:after{animation:blinking 1.5s infinite alternate;background-color:var(--color-green);border:2px solid var(--bg-color)}.clan-view-table__role{z-index:1}.clan-view-table__win-rate{color:var(--win-rate-color);font-weight:500}.clan-view-table__last-battle{display:inline-flex}.clan-view-table__sub{color:var(--color-text-light);display:block;font-size:12px}.clan-view-table__date{align-items:center;display:flex}.clan-view-table__date-days{color:var(--color-text-light);font-size:12px;margin:0 0 0 6px}',""]),r.locals={},e.exports=r},854:function(e,t,n){"use strict";n(817)},855:function(e,t,n){var r=n(67)((function(i){return i[1]}));r.push([e.i,".clan-events{display:inline-flex}.clan-events__inner{position:relative}.clan-events__panel{align-items:center;display:flex;justify-content:space-between}.clan-events__prop{display:flex;flex-wrap:wrap}.clan-events__prop:not(:last-child){margin:0 0 4px}.clan-events__prop-title{color:var(--color-text-light);font-size:14px;margin:0 10px 0 0;width:100%}.clan-events__prop-value{margin:0 4px 0 0}.clan-events__btn{color:var(--color-text);position:relative}.clan-events__btn--has-unread{color:var(--color-text-link)}.clan-events__count{background-color:var(--bg-color);border:1px solid var(--border-color-light);bottom:0;display:inline-flex;font-size:10px;justify-content:center;line-height:1.4;min-width:14px;padding:0 2px;pointer-events:none;position:absolute;right:0}",""]),r.locals={},e.exports=r},877:function(e,t,n){"use strict";n.r(t);n(37),n(73);var r=n(14),o=n(32),l=n(33),c=n(35),d=n(36),f=n(23),v=n(20),_=(n(43),n(2),n(1),n(9),n(15)),m=n(114),h=n(718),y=n(225),w=n(150),x=n(115),k=n(673),j=n(105),C=n(54),O=n(796);function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var R=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},D=function(e){Object(c.a)(v,e);var t,n,d,f=P(v);function v(){var e;return Object(o.a)(this,v),(e=f.apply(this,arguments)).name="ClanPreview",e.notify=j.a.notify(),e.isFavorite=!1,e}return Object(l.a)(v,[{key:"emblemUrl",get:function(){var e=this.clan.emblem_set_id;return e?"https://wotblitz-gc.gcdn.co/icons/clanEmblems1x/clan-icon-v2-".concat(e,".png"):""}},{key:"created",value:function(){this.getFavorites()}},{key:"getFavorites",value:(d=Object(r.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.indexedDB.clansFavorites.get(this.clan.clan_id);case 2:t=e.sent,this.isFavorite=!!t&&(null==t?void 0:t.isFavorite);case 4:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"setToFavorites",value:(n=Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.clan){e.next=2;break}return e.abrupt("return");case 2:return this.isFavorite=!this.isFavorite,e.next=5,C.a.indexedDB.clansFavorites.set(this.clan.clan_id,{id:this.clan.clan_id,isFavorite:this.isFavorite});case 5:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"handleNicknameBtnClick",value:(t=Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.a)("".concat(this.clan.tag,"/").concat(this.clan.clan_id));case 2:e.sent?this.notify.add({type:"success",title:"Скопировано",message:"".concat(this.clan.tag,"/").concat(this.clan.clan_id),duration:3e3}):this.notify.add({type:"error",message:"Клан копировании что-то пошло не так",duration:3e3});case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"handleOpenInfoBtn",value:function(){this.previewDetails.open()}},{key:"handleAddToFavoritesBtn",value:function(){this.setToFavorites()}}]),v}(_.Vue);R([Object(_.Prop)({default:!1})],D.prototype,"hideDescription",void 0),R([Object(_.Prop)({required:!0})],D.prototype,"clan",void 0),R([Object(_.Prop)()],D.prototype,"loading",void 0),R([Object(_.Ref)("previewDetails")],D.prototype,"previewDetails",void 0);var B=D=R([Object(_.Component)({components:{ClanPreviewDetails:O.default,SvgIcon:x.default,CDialog:w.default,CButton:m.default,SocialLinks:h.default,ContentLoader:y.default}})],D),I=(n(848),n(34)),component=Object(I.a)(B,(function(){var e,t,n,r,o=this,l=o._self._c;o._self._setupProxy;return l("div",{staticClass:"clan-preview"},[l("div",{staticClass:"clan-preview__inner"},[l("div",{staticClass:"clan-preview__emblem"},[l("img",{staticClass:"clan-preview__emblem-img",attrs:{"data-text":null!==(e=o.clan.clan_id)&&void 0!==e?e:"No image",alt:"Эмблема клана",src:o.emblemUrl}})]),o._v(" "),l("div",{staticClass:"clan-preview__info"},[l("div",{staticClass:"clan-preview__title"},[l("span",{staticClass:"clan-preview__tag"},[o._v("["+o._s(null!==(t=o.clan.tag)&&void 0!==t?t:"...")+"]")]),o._v(" "),l("span",{staticClass:"clan-preview__name"},[o._v(o._s(null!==(n=o.clan.name)&&void 0!==n?n:"..."))])]),o._v(" "),l("div",{staticClass:"clan-preview__props"},[l("div",{staticClass:"clan-preview__prop"},[l("span",{staticClass:"clan-preview__prop-title"},[o._v("\n            Участников\n          ")]),o._v(" "),l("span",{staticClass:"clan-preview__prop-value"},[o._v("\n            "+o._s(null!==(r=o.clan.members_count)&&void 0!==r?r:"---")+"\n          ")])]),o._v(" "),l("div",{staticClass:"clan-preview__prop"},[l("span",{staticClass:"clan-preview__prop-title"},[o._v("\n            События\n          ")]),o._v(" "),l("span",{staticClass:"clan-preview__prop-value"},[o._t("events")],2)])])]),o._v(" "),l("div",{staticClass:"clan-preview__actions"},[l("CButton",{staticClass:"clan-preview__actions-btn",attrs:{"is-text":"",title:"Копировать (nickname/ID)"},on:{click:o.handleNicknameBtnClick}},[l("SvgIcon",{attrs:{"icon-name":"content-copy"}})],1),o._v(" "),l("CButton",{staticClass:"clan-preview__actions-btn",attrs:{"is-text":"",title:"Добавить в избранные"},on:{click:o.handleAddToFavoritesBtn}},[o.isFavorite?l("SvgIcon",{attrs:{"icon-name":"star"}}):l("SvgIcon",{attrs:{"icon-name":"star-border"}})],1),o._v(" "),l("CButton",{staticClass:"clan-preview__actions-btn",attrs:{"is-text":"",title:"Полная информация"},on:{click:o.handleOpenInfoBtn}},[l("SvgIcon",{attrs:{"icon-name":"info"}})],1)],1)]),o._v(" "),l("ContentLoader",{attrs:{loading:o.loading}}),o._v(" "),l("ClanPreviewDetails",{ref:"previewDetails",attrs:{clan:o.clan}})],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{SvgIcon:n(115).default,ContentLoader:n(225).default,ClanPreviewDetails:n(796).default})},878:function(e,t,n){"use strict";n.r(t);n(604),n(73),n(6),n(4),n(5),n(3),n(8);var r=n(40),o=n(32),l=n(33),c=n(35),d=n(36),f=n(23),v=n(20),_=(n(2),n(1),n(37),n(106),n(88),n(605),n(44),n(15)),m=n(622),h=n(608),y=n(691),w=n(613),x=n(647),k=n(226),j=n(611),C=n(115);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var D=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},B=function(e){Object(c.a)(n,e);var t=R(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).name="ClanViewMembersTable",e.headers=[{key:"account_name",label:"Ник",hasSort:!0},{key:"battles",label:"Боёв",hasSort:!0,sortMethod:function(a,b){return a.statistic.all.battles-b.statistic.all.battles}},{key:"winRate",label:"Побед",hasSort:!0,sortMethod:function(a,b){return a.statistic.all.winRate-b.statistic.all.winRate}},{key:"damagePerBattle",label:"Урон",hasSort:!0,sortMethod:function(a,b){return a.statistic.all.damagePerBattle-b.statistic.all.damagePerBattle}},{key:"rating",label:"Рейтинг",hasSort:!0,sortMethod:function(a,b){var e,t,n,r;return(null!==(e=null===(t=a.statistic.rating)||void 0===t?void 0:t.rating)&&void 0!==e?e:0)-(null!==(n=null===(r=b.statistic.rating)||void 0===r?void 0:r.rating)&&void 0!==n?n:0)}},{key:"battlesPerDay",label:"Боёв в день",hasSort:!0},{key:"last_battle_time",label:"Последний бой",hasSort:!0,formatter:function(e){return k.a.date.toDatePassed(1e3*Number(e))||"---"}},{key:"joined_at",label:"В клане",hasSort:!0}],e}return Object(l.a)(n,[{key:"sortEvent",value:function(e){return e}},{key:"items",get:function(){var e=this;return this.members.map((function(t){var n=e.savedMembers.find((function(e){return e.account_id===t.account_id})),r=n?w.a.diff(t.statistic.all,n.statistic.all):null,o=w.a.battlesPerDay({createAt:1e3*t.create_at,battles:t.statistic.all.battles}),l=n?w.a.battlesPerDay({createAt:n.create_at,battles:(null==r?void 0:r.battles)||0})-o:null;return P(P({},t),{},{battlesPerDay:o,battlesPerDayDiff:l,diff:r})}))}},{key:"getUser",value:function(e){var t=e,n=this.users.find((function(e){return e.id===t.account_id}));return n?{found:!0,online:Date.now()-new Date(n.visitedAt).valueOf()<3e5}:{found:!1,online:!1}}},{key:"isDeleted",value:function(e){var t=e;return/^del_\d+$/.test(t.account_name)||!t.last_battle_time}},{key:"getDiff",value:function(e,t){var n=t;return n.diff?"winRate"===e?this.$formatter.number.toFloatNumber(n.diff[e],!0):this.$formatter.number.toInteger(n.diff[e],!0):"---"}}]),n}(_.Vue);D([Object(_.Prop)({required:!0})],B.prototype,"members",void 0),D([Object(_.Prop)({required:!0})],B.prototype,"savedMembers",void 0),D([Object(_.Prop)({required:!0})],B.prototype,"users",void 0),D([Object(_.Prop)({required:!0})],B.prototype,"sort",void 0),D([Object(_.Emit)("sort")],B.prototype,"sortEvent",null);var I=B=D([Object(_.Component)({computed:{colors:function(){return h.a}},components:{SvgIcon:C.default,WinRate:j.default,CTable:m.default,RoleIcon:y.default,RatingIcon:x.default}})],B),S=(n(850),n(34)),component=Object(S.a)(I,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"clan-view-table"},[t("div",{staticClass:"clan-view-table__total"},[e._v("\n    Кол-во:\n    "),t("span",{staticClass:"clan-view-table__total-value"},[e._v("\n      "+e._s(e.items.length||0)+"\n    ")])]),e._v(" "),e.items?t("CTable",{staticClass:"clan-view-table__table",attrs:{data:e.items,sort:e.sort,headers:e.headers,"no-wrap":"","scroll-auto-disabling":"","row-key":"account_id",height:"calc(100vh - 112px)"},on:{sort:e.sortEvent},scopedSlots:e._u([{key:"account_name",fn:function(n){var r=n.row;return[t("span",{staticClass:"clan-view-table__member"},[t("span",{staticClass:"clan-view-table__role",class:["clan-view-table__role--"+r.role,e.getUser(r).found?"clan-view-table__role--is-user":"",e.getUser(r).online?"clan-view-table__role--is-online":""],attrs:{title:e.$formatter.clan.role(r.role)}},[t("RoleIcon",{staticClass:"clan-view-table__role-icon",attrs:{width:"18",height:"18",role:r.role}})],1),e._v(" "),e.isDeleted(r)?t("span",{staticClass:"clan-view-table__name clan-view-table__name--deleted"},[e._v("\n          "+e._s(r.account_name)+"\n        ")]):t("nuxt-link",{staticClass:"link clan-view-table__name",attrs:{to:{name:"account-id",params:{id:r.account_id}}}},[e._v("\n          "+e._s(r.account_name)+"\n        ")])],1)]}},{key:"battles",fn:function(n){var r=n.row;return[e._v("\n      "+e._s(r.statistic.all.battles)+"\n\n      "),t("span",{staticClass:"clan-view-table__sub"},[e._v("\n        "+e._s(e.getDiff("battles",r))+"\n      ")])]}},{key:"winRate",fn:function(n){var r=n.row;return[t("WinRate",{staticClass:"clan-view-table__win-rate",attrs:{value:r.statistic.all.winRate}}),e._v(" "),t("span",{staticClass:"clan-view-table__sub"},[e._v("\n        "+e._s(e.getDiff("winRate",r))+"\n      ")])]}},{key:"rating",fn:function(e){var n=e.row;return[t("RatingIcon",{attrs:{rating:n.statistic.rating}})]}},{key:"damagePerBattle",fn:function(n){var r=n.row;return[e._v("\n      "+e._s(r.statistic.all.damagePerBattle)+"\n\n      "),t("span",{staticClass:"clan-view-table__sub"},[e._v("\n        "+e._s(e.getDiff("damagePerBattle",r))+"\n      ")])]}},{key:"battlesPerDay",fn:function(n){var r=n.row;return[e._v("\n      "+e._s(r.battlesPerDay)+"\n\n      "),t("span",{staticClass:"clan-view-table__sub"},[e._v("\n        "+e._s(e.$formatter.number.toInteger(r.battlesPerDayDiff,!0)||"---")+"\n      ")])]}},{key:"last_battle_time",fn:function(n){var r=n.row;return[e._v("\n      "+e._s(e.$formatter.date.toDatePassed(1e3*r.last_battle_time))+"\n\n      "),t("span",{staticClass:"clan-view-table__sub"},[e._v("\n        "+e._s(e.$formatter.date.toLocaleDate(1e3*r.last_battle_time))+"\n      ")])]}},{key:"joined_at",fn:function(n){var r=n.row;return[e._v("\n      "+e._s(e.$formatter.date.toDaysPassed(1e3*r.joined_at))+"\n\n      "),t("span",{staticClass:"clan-view-table__sub"},[e._v("\n        "+e._s(e.$formatter.date.toLocaleDate(1e3*r.joined_at))+"\n      ")])]}}],null,!1,3765486893)}):e._e()],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{RoleIcon:n(691).default,WinRate:n(611).default,RatingIcon:n(647).default})},879:function(e,t,n){"use strict";n.r(t);n(73);var r=n(32),o=n(33),l=n(35),c=n(36),d=n(23),f=n(20),v=(n(2),n(1),n(37),n(5),n(151),n(129),n(130),n(15)),_=n(114),m=n(150),h=n(361),y=n.n(h);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var x=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},k=function(e){Object(l.a)(n,e);var t=w(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).name="ClanEvents",e}return Object(o.a)(n,[{key:"changesCount",get:function(){return this.joinedMembers.length+this.leftMembers.length}},{key:"leftMembers",get:function(){var e,t,n,r,o=null!==(e=null===(t=this.clan)||void 0===t?void 0:t.members_ids)&&void 0!==e?e:[],l=null!==(n=null===(r=this.savedClan)||void 0===r?void 0:r.members)&&void 0!==n?n:[];return Object.values(l).filter((function(i){return!o.includes(i.account_id)}))}},{key:"joinedMembers",get:function(){var e,t,n,r,o=null!==(e=null===(t=this.clan)||void 0===t?void 0:t.members)&&void 0!==e?e:[],l=null!==(n=null===(r=this.savedClan)||void 0===r?void 0:r.members_ids)&&void 0!==n?n:[];return Object.values(o).filter((function(i){return!l.includes(i.account_id)}))}},{key:"reset",value:function(){}},{key:"handleResetBtn",value:function(){this.reset(),this.dialogRef.doClose()}},{key:"handleClickEventsBtn",value:function(){this.dialogRef.doOpen()}},{key:"handleCloseBtn",value:function(){this.dialogRef.doClose()}}]),n}(v.Vue);x([Object(v.Prop)({required:!0})],k.prototype,"savedAt",void 0),x([Object(v.Prop)({required:!0})],k.prototype,"clan",void 0),x([Object(v.Prop)({required:!0})],k.prototype,"savedClan",void 0),x([Object(v.Ref)("dialog")],k.prototype,"dialogRef",void 0),x([Object(v.Emit)("reset")],k.prototype,"reset",null);var j=k=x([Object(v.Component)({components:{CDialog:m.default,CButton:_.default,MailIcon:y.a}})],k),C=(n(854),n(34)),component=Object(C.a)(j,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"clan-events"},[t("div",{staticClass:"clan-events__inner"},[t("CButton",{staticClass:"clan-events__btn",class:[e.changesCount?"clan-events__btn--has-unread":""],attrs:{disabled:!e.changesCount,"is-text":"","is-square":"",title:"События клана"},on:{click:e.handleClickEventsBtn}},[t("MailIcon")],1),e._v(" "),t("div",{staticClass:"clan-events__count"},[e._v("\n      "+e._s(e.changesCount>99?"99+":e.changesCount)+"\n    ")])],1),e._v(" "),t("CDialog",{ref:"dialog",attrs:{width:"640px",title:"События клана"},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"clan-events__prop"},[t("span",{staticClass:"clan-events__prop-title"},[e._v("\n          События от\n        ")]),e._v("\n        "+e._s(e.$formatter.date.toLocaleDateTime(e.savedAt))+" ("+e._s(e.$formatter.date.toDaysPassed(e.savedAt,Date.now()))+")\n      ")])]},proxy:!0},{key:"footer",fn:function(){return[t("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[t("div"),e._v(" "),t("div",[t("CButton",{on:{click:e.handleResetBtn}},[e._v("\n            Прочитано\n          ")]),e._v(" "),t("CButton",{on:{click:e.handleCloseBtn}},[e._v("\n            Закрыть\n          ")])],1)])]},proxy:!0}])},[e._v(" "),e.leftMembers.length?t("div",{staticClass:"clan-events__prop"},[t("span",{staticClass:"clan-events__prop-title"},[e._v("\n        Покинули ("+e._s(e.leftMembers.length)+")\n      ")]),e._v(" "),e._l(e.leftMembers,(function(n,r){return t("span",{key:n.account_id,staticClass:"clan-events__prop-value"},[t("nuxt-link",{staticClass:"link",attrs:{to:{name:"account-id",params:{id:n.account_id}}}},[e._v("\n          "+e._s(n.account_name)+"\n        ")]),e._v(e._s(r+1!==e.leftMembers.length?", ":"")+"\n      ")],1)}))],2):e._e(),e._v(" "),e.joinedMembers.length?t("div",{staticClass:"clan-events__prop"},[t("span",{staticClass:"clan-events__prop-title"},[e._v("\n        Вступили ("+e._s(e.joinedMembers.length)+")\n      ")]),e._v(" "),e._l(e.joinedMembers,(function(n,r){return t("span",{key:n.account_id,staticClass:"clan-events__prop-value"},[t("nuxt-link",{staticClass:"link",attrs:{to:{name:"account-id",params:{id:n.account_id}}}},[e._v("\n          "+e._s(n.account_name)+"\n        ")]),e._v(e._s(r+1!==e.joinedMembers.length?", ":"")+"\n      ")],1)}))],2):e._e(),e._v(" "),e.changesCount?e._e():t("span",[e._v("\n      Пока всё тихо ...\n    ")])])],1)}),[],!1,null,null,null);t.default=component.exports},911:function(e,t,n){var content=n(1013);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(68).default)("4c7c5e6c",content,!0,{sourceMap:!1})}}]);