import{d as y,a as M,c as $,o as l,l as p,m as e,f as n,t as S,e as h,w as g,q as w,F as U,g as b,r as N,h as _,s as E,_ as C,v as B,E as R,R as j,G as z,ai as F,B as G,aj as J,A as L,a6 as W,aa as X,a7 as Y,ak as Z,al as K,a5 as Q,ae as ee,n as x,k as te,J as ae}from"./DJlEGeV1.js";import{_ as I}from"./3lIG1lYq.js";import{_ as ne}from"./B7WhaZnE.js";import{_ as se}from"./D-TuSGJo.js";import{u as oe}from"./YbE3Ovi3.js";import{u as T}from"./C1V66jBN.js";import{a as H}from"./BVA0GR3k.js";import{u as O}from"./btAca64B.js";import{d as ie}from"./DD4asW33.js";import{_ as D}from"./CIh7AwxB.js";import re from"./Dmx_wtdT.js";import{_ as le}from"./BmHpWDuk.js";import ce from"./HeP0UT03.js";import _e from"./C35J47Ry.js";import{a as de}from"./RA3fBwkA.js";const ue={class:"breadcrumbs-navigation"},ge={class:"breadcrumbs-navigation__inner"},me={key:0,class:"breadcrumbs-navigation__root"},pe={class:"breadcrumbs-navigation__current"},he=y({__name:"BreadcrumbsNavigation",setup(u){const r=M(),s=$(()=>{var i;return((i=String(r.name).split("-"))==null?void 0:i[0])??"index"}),c=$(()=>String(r.name??"")),o=$(()=>c.value===s.value);return(i,d)=>{const a=I;return l(),p("div",ue,[e("div",ge,[n(o)?(l(),p("span",me,S(i.$formatter.route.getTitle(n(s))),1)):(l(),h(a,{key:1,class:"breadcrumbs-navigation__root link",to:{name:n(s)}},{default:g(()=>[w(S(i.$formatter.route.getTitle(n(s))),1)]),_:1},8,["to"])),n(o)?b("",!0):(l(),p(U,{key:2},[d[0]||(d[0]=e("span",{class:"breadcrumbs-navigation__separator"},null,-1)),e("span",pe,S(i.$formatter.route.getTitle(n(c))),1)],64))])])}}}),fe={class:"login-switcher"},be={key:0,class:"login-switcher__username"},ve={class:"login-switcher__username-text"},ye={style:{"text-align":"right"}},ke=y({__name:"LoginSwitcher",setup(u){const r=oe(),s=T(),c=N(null),o=$(()=>r.accountId!==0);function i(a){var m;const{$storage:t}=E();t.user.get()&&(a&&H.logout(),(m=c.value)==null||m.doClose())}async function d(){var t;E().$storage.user.get()?await((t=c.value)==null?void 0:t.doOpen()):await H.login()}return(a,t)=>{const v=C,m=B,k=se;return l(),p("div",fe,[n(s).isTablet?b("",!0):(l(),p("div",be,[e("span",ve,S(n(r).name),1)])),_(m,{class:"login-switcher__btn","is-text":"","is-square":"",align:"center",title:n(o)?"Выйти":"Войти",onClick:d},{default:g(()=>[_(v,{name:n(o)?"logout":"login"},null,8,["name"])]),_:1},8,["title"]),_(k,{ref_key:"logoutConfirmRef",ref:c,title:"Выход из аккаунта","append-to-body":""},{default:g(()=>[t[4]||(t[4]=e("div",{style:{margin:"0 0 1em"}}," Вы уверены, что хотите выйти из аккаунта? ",-1)),e("div",ye,[_(m,{align:"center",width:"80px",onClick:t[0]||(t[0]=f=>i(!0))},{default:g(()=>t[2]||(t[2]=[w(" Да ")])),_:1}),_(m,{align:"center",width:"80px",onClick:t[1]||(t[1]=f=>i(!1))},{default:g(()=>t[3]||(t[3]=[w(" Нет ")])),_:1})])]),_:1},512)])}}}),$e={class:"page-header__inner"},Se={class:"page-header__col page-header__col--left"},xe={key:0,class:"page-header__col-item"},we={class:"page-header__col-item"},Ce={class:"page-header__col page-header__col--right"},Te={class:"page-header__col-item"},Me={class:"page-header__col page-header__col--right"},Be={class:"page-header__col-item"},Ne={class:"page-header__col-item"},Le=y({__name:"PageHeader",props:{height:{type:Number,required:!0},isSticky:{type:Boolean,default:!1}},setup(u){const r=T(),s=O();function c(){s.toggleMainSearch(!0)}function o(){s.toggleMobileMenu(),ie(!0)}return(i,d)=>{const a=C,t=B,v=he,m=ne,k=ke;return l(),p("div",{class:R(["page-header",[u.isSticky?"page-header--is-sticky":"",n(r).isTablet?"page-header--is-mobile-view":""]]),style:j({height:u.height+"px"})},[e("div",$e,[e("div",Se,[n(r).isTablet?(l(),p("div",xe,[_(t,{"is-square":"","is-text":"",onClick:o},{default:g(()=>[_(a,{name:"menu"})]),_:1})])):b("",!0),e("div",we,[_(v)])]),e("div",Ce,[e("div",Te,[n(r).isTablet?b("",!0):(l(),h(m,{key:0,class:"page-header__search"}))])]),e("div",Me,[e("div",Be,[n(r).isTablet?(l(),h(t,{key:0,"is-square":"","is-text":"",onClick:c},{default:g(()=>[_(a,{name:"search"})]),_:1})):b("",!0)]),e("div",Ne,[_(k)])])])],6)}}}),Re={class:"page-sidebar-header"},Ie={class:"page-sidebar-header__inner"},Oe={class:"page-sidebar-header__logo-icon"},Pe=y({__name:"PageSidebarHeader",emits:["close"],setup(u,{emit:r}){const s=T(),c=r;return(o,i)=>{const d=C,a=B;return l(),p("div",Re,[e("div",Ie,[(l(),h(z((o._.provides[F]||o.$route).name==="index"?"span":n(I)),{class:"page-sidebar-header__logo",to:"/"},{default:g(()=>[e("span",Oe,[_(n(re),{style:{width:"24px",height:"24px"}})]),i[1]||(i[1]=e("span",{class:"page-sidebar-header__logo-text"}," Blitz Commander ",-1))]),_:1})),n(s).isMobile?(l(),h(a,{key:0,"is-square":"","is-text":"",class:"page-sidebar-header__close",onClick:i[0]||(i[0]=t=>c("close"))},{default:g(()=>[_(d,{name:"close"})]),_:1})):b("",!0)])])}}}),qe={class:"navigation-list"},Ee={class:"navigation-list__list"},He={key:0,class:"navigation-list__link navigation-list__link--is-active"},Ue=y({__name:"NavigationList",props:{navigation:{type:Array,required:!0,default:()=>[]}},setup(u){const r=M();function s(c){return r.matched.some(o=>{const i=String(o.name).split("-")[0]??"index",d=String(c.to.name).split("-")[0]??"index";return i===d})}return(c,o)=>{const i=C,d=I;return l(),p("nav",qe,[e("ul",Ee,[(l(!0),p(U,null,G(u.navigation.filter(a=>!a.isHidden),a=>(l(),p("li",{key:a.key,class:"navigation-list__item"},[s(a)?(l(),p("span",He,[a.icon?(l(),h(i,{key:0,name:a.icon,class:"navigation-list__icon"},null,8,["name"])):b("",!0),w(" "+S(a.label),1)])):(l(),h(d,{key:1,class:"navigation-list__link",to:a.to},{default:g(()=>[a.icon?(l(),h(i,{key:0,name:a.icon,class:"navigation-list__icon"},null,8,["name"])):b("",!0),w(" "+S(a.label),1)]),_:2},1032,["to"]))]))),128))])])}}}),je=()=>J("color-mode").value,De=y({__name:"ThemeSwitcher",setup(u){const r=je(),s=$(()=>r.value==="system"?"":r.value==="dark"?"light":"dark");function c(){const o=r.value==="light";r.preference=o?"dark":"light"}return(o,i)=>{const d=le,a=B;return l(),h(a,{class:"theme-switcher","is-text":"","is-square":"",title:"Переключить тему",onClick:c},{default:g(()=>[_(d,null,{default:g(()=>[n(s)==="dark"?(l(),h(n(ce),{key:0,class:"theme-switcher__icon"})):n(s)==="light"?(l(),h(n(_e),{key:1,class:"theme-switcher__icon"})):b("",!0)]),_:1})]),_:1})}}}),Ve={class:"page-sidebar__body"},Ae={class:"page-sidebar__footer"},ze={class:"page-sidebar__prop"},Fe={target:"_blank",href:"https://t.me/+kpbNPjc8nyZlMmIy",class:"page-sidebar__prop link"},Ge={target:"_blank",href:"https://yoomoney.ru/to/4100118432687922",class:"page-sidebar__prop link"},Je={class:"page-sidebar__version"},We=y({__name:"PageSidebar",props:{isOpen:{type:Boolean,default:!1},navigation:{type:Array,default:()=>[]},headerHeight:{type:Number,default:0}},setup(u){const r=K(),s=O(),c=M(),o=T(),i=$(()=>r.public.clientVersion);L(()=>o.isTablet,()=>{o.isTablet||s.toggleMobileMenu(!1)}),L(()=>c.name,(a,t)=>{a!==t&&setTimeout(()=>s.toggleMobileMenu(!1),300)},{immediate:!0});function d(){s.toggleMobileMenu(!1)}return(a,t)=>{const v=Pe,m=Ue,k=De,f=C,P=D;return l(),h(Z,{name:"page-sidebar-",duration:600},{default:g(()=>[W(e("div",{class:R(["page-sidebar",[n(o).isTablet?"page-sidebar--mobile-view":""]]),onClick:X(d,["self"])},[_(P,{class:"page-sidebar__panel","inner-class":"page-sidebar__inner"},{default:g(()=>[_(v,{class:"page-sidebar__header",style:j({height:u.headerHeight+"px"}),onClose:d},null,8,["style"]),e("div",Ve,[_(m,{class:"page-sidebar__navigation",navigation:u.navigation},null,8,["navigation"])]),e("div",Ae,[e("label",ze,[_(k),t[0]||(t[0]=e("span",{class:"page-sidebar__prop-title"},"Тема",-1))]),e("a",Fe,[_(f,{name:"telegram",style:{margin:"6px"}}),t[1]||(t[1]=e("span",{class:"page-sidebar__prop-title"},"Комьюнити",-1))]),e("a",Ge,[_(f,{name:"savings",style:{margin:"6px"}}),t[2]||(t[2]=e("span",{class:"page-sidebar__prop-title"},"Поблагодарить",-1))]),e("div",Je," v"+S(n(i)),1)])]),_:1})],2),[[Y,u.isOpen]])]),_:1})}}});var Xe=de,Ye=ee,Ze="Expected a function";function Ke(u,r,s){var c=!0,o=!0;if(typeof u!="function")throw new TypeError(Ze);return Ye(s)&&(c="leading"in s?!!s.leading:c,o="trailing"in s?!!s.trailing:o),Xe(u,r,{leading:c,maxWait:r,trailing:o})}var Qe=Ke;const et=Q(Qe),tt={class:"page-layout__header"},at={class:"page-layout__main"},nt={class:"page-layout__sidebar"},vt=y({__name:"PageLayout",emits:["scroll"],setup(u,{emit:r}){const s=M(),c=O(),o=T(),i=N(!1),d=N(54),a=[{label:x.route.getTitle("index"),key:"main",to:{name:"index"},icon:"home"},{label:x.route.getTitle("account"),key:"account",to:{name:"account"},icon:"person"},{label:x.route.getTitle("clan"),key:"clan",to:{name:"clan"},icon:"groups"},{label:x.route.getTitle("leaderboards"),key:"leaderboards",to:{name:"leaderboards"},icon:"leaderboard"},{label:x.route.getTitle("tournaments"),key:"tournaments",to:{name:"tournaments"},icon:"emoji-events"},{label:x.route.getTitle("widgets"),key:"widgets",to:{name:"widgets"},icon:"widgets"}],t=$(()=>o.isTablet?c.mobileMenuOpened:!0),v=r;L(()=>s.fullPath,()=>{c.toggleMobileMenu(!1)}),te(()=>{window==null||window.addEventListener("scroll",m),m()});const m=et(k,60);function k(){const f=window.scrollY;i.value=f>1,v("scroll",f)}return(f,P)=>{const V=Le,q=D,A=We;return l(),p("div",{class:R(["page-layout",[n(i)?"page-layout--is-scrolled":"",n(o).isTablet?"page-layout--mobile-view":""]])},[e("header",tt,[_(q,null,{default:g(()=>[_(V,{"is-sticky":n(i),height:n(d)},null,8,["is-sticky","height"])]),_:1})]),e("main",at,[_(q,null,{default:g(()=>[ae(f.$slots,"default")]),_:3})]),e("aside",nt,[_(A,{navigation:a,"is-open":n(t),"header-height":n(d)},null,8,["is-open","header-height"])])],2)}}});export{vt as _};
