(window.webpackJsonp=window.webpackJsonp||[]).push([[7,22],{489:function(e,t,n){"use strict";n.r(t);n(164);var o=n(17),r=n(69),l=n(70),c=n(96),d=n(97),f=n(53),m=n(16),h=(n(98),n(52),n(9),n(34),n(316),n(24),n(86)),v=n(312);function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(f.a)(e);if(t){var r=Object(f.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(d.a)(this,n)}}var y,x=function(e,t,n,desc){var o,r=arguments.length,l=r<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(m.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(l=(r<3?o(l):r>3?o(t,n,l):o(t,n))||l);return r>3&&l&&Object.defineProperty(t,n,l),l},w=[],k=y=function(e){Object(c.a)(n,e);var t=_(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).name="CDialog",e.isOpen=!1,e.lastActiveElement=null,e.waiting=function(e){},e}return Object(l.a)(n,[{key:"mounted",value:function(){!1!==this.appendToBody&&document.body.append(this.$el),this.$router.beforeEach(function(){var e=Object(o.a)(regeneratorRuntime.mark((function e(t,n,o){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=w[w.length-1],e.next=3,null==r?void 0:r.doClose();case 3:o();case 4:case"end":return e.stop()}}),e)})));return function(t,n,o){return e.apply(this,arguments)}}())}},{key:"destroyed",value:function(){this.waiting(!1)}},{key:"opened",value:function(){return this.focusFirstElement(),this.waiting(!0),!0}},{key:"closed",value:function(){var e;return w.pop(),w.length||y.disableScroll(!1),null===(e=this.lastActiveElement)||void 0===e||e.focus(),this.waiting(!1),!0}},{key:"open",value:function(){return w.length||y.disableScroll(!0),w.push(this),!0}},{key:"close",value:function(){return!0}},{key:"doOpen",value:function(){var e=this;return this.lastActiveElement=document.activeElement,this.isOpen=!0,new Promise((function(t){e.waiting=t}))}},{key:"doClose",value:function(){var e=this;return this.isOpen=!1,new Promise((function(t){e.waiting=t}))}},{key:"handleBackdropClick",value:function(){!1===this.modalEnabled&&this.doClose()}},{key:"hasSlot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return!!this.$slots[e]||!!this.$scopedSlots[e]}},{key:"handleKeyDown",value:function(e){"Escape"===e.key&&(w[w.length-1].doClose(),e.preventDefault());if("Tab"===e.key){var t=y.getFocusableElements(this.$el),n=document.activeElement,o=t.findIndex((function(e){return e===n})),r=t.length-1;e.shiftKey&&0===o?(t[r].focus(),e.preventDefault()):e.shiftKey||o!==r||(t[0].focus(),e.preventDefault())}}},{key:"focusFirstElement",value:function(){var e=y.getFocusableElements(this.$el),t=null==e?void 0:e[0];null==t||t.focus({preventScroll:!0})}}],[{key:"getScrollbarWidth",value:function(){var e=document.createElement("div");e.style.position="absolute",e.style.overflow="scroll",document.body.append(e);var t=e.offsetWidth-e.clientWidth;return e.remove(),t}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0}},{key:"disableScroll",value:function(e){!y.isTouchDevice()&&document.documentElement.offsetHeight>=document.documentElement.scrollHeight||(e?(document.body.style.overflow="hidden",document.body.style.height="100%",document.body.style.margin="0",document.body.style.paddingRight=y.getScrollbarWidth()+"px"):(document.body.style.overflow="",document.body.style.height="",document.body.style.margin="",document.body.style.paddingRight=""))}},{key:"isVisible",value:function(e){return!!e&&(!!e.offsetWidth||!!e.offsetHeight||!!e.getClientRects().length)}},{key:"getFocusableElements",value:function(e){var t=[];return e.querySelectorAll('a[href]:not([tabindex^="-"]),\n    area[href]:not([tabindex^="-"]),\n    input:not([type="hidden"]):not([type="radio"]):not([disabled]):not([tabindex^="-"]),\n    input[type="radio"]:not([disabled]):not([tabindex^="-"]):checked,\n    select:not([disabled]):not([tabindex^="-"]),\n    textarea:not([disabled]):not([tabindex^="-"]),\n    button:not([disabled]):not([tabindex^="-"]),\n    iframe:not([tabindex^="-"]),\n    audio[controls]:not([tabindex^="-"]),\n    video[controls]:not([tabindex^="-"]),\n    [contenteditable]:not([tabindex^="-"]),\n    [tabindex]:not([tabindex^="-"])').forEach((function(i){y.isVisible(i)&&t.push(i)})),t}}]),n}(v.Vue);x([Object(h.Prop)()],k.prototype,"title",void 0),x([Object(h.Prop)()],k.prototype,"width",void 0),x([Object(h.Prop)({default:"center"})],k.prototype,"position",void 0),x([Object(h.Prop)({default:!1})],k.prototype,"appendToBody",void 0),x([Object(h.Prop)({default:!1})],k.prototype,"fullscreen",void 0),x([Object(h.Prop)({default:!1})],k.prototype,"hideClose",void 0),x([Object(h.Prop)({default:!1})],k.prototype,"modalEnabled",void 0),x([Object(h.Ref)("body")],k.prototype,"bodyRef",void 0),x([Object(h.Ref)("dialog")],k.prototype,"dialogRef",void 0),x([Object(v.Emit)()],k.prototype,"opened",null),x([Object(v.Emit)()],k.prototype,"closed",null),x([Object(v.Emit)()],k.prototype,"open",null),x([Object(v.Emit)()],k.prototype,"close",null);var O=k=y=x([v.Component],k),j=(n(526),n(71)),component=Object(j.a)(O,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("transition",{ref:"dialog",attrs:{name:"c-dialog-"},on:{enter:e.open,"after-enter":e.opened,leave:e.close,"after-leave":e.closed}},[e.isOpen?t("div",{ref:"main",staticClass:"c-dialog",class:["c-dialog--"+e.position],attrs:{tabindex:"-1"},on:{click:function(t){return t.target!==t.currentTarget?null:e.handleBackdropClick.apply(null,arguments)},keydown:e.handleKeyDown}},[t("div",{staticClass:"c-dialog__container",style:{width:!1===e.fullscreen?e.width:"100%",height:!1===e.fullscreen?"":"100%"},attrs:{role:"dialog","aria-modal":e.modalEnabled}},[e.hasSlot("title")||e.title?t("div",{staticClass:"c-dialog__header"},[t("div",{staticClass:"c-dialog__title"},[e._t("title",(function(){return[e._v("\n            "+e._s(e.title)+"\n          ")]}))],2)]):e._e(),e._v(" "),t("div",{ref:"body",staticClass:"c-dialog__body"},[e._t("default")],2),e._v(" "),e.hasSlot("footer")?t("div",{staticClass:"c-dialog__footer"},[e._t("footer")],2):e._e(),e._v(" "),!1===e.hideClose?t("button",{staticClass:"c-dialog__close",attrs:{type:"button"},on:{click:e.doClose}}):e._e()])]):e._e()])}),[],!1,null,null,null);t.default=component.exports},501:function(e,t,n){var content=n(527);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(136).default)("e7c12eec",content,!0,{sourceMap:!1})},521:function(e,t,n){"use strict";n.r(t);n(34),n(44),n(72),n(164);var o=n(23),r=n(69),l=n(70),c=n(96),d=n(97),f=n(53),m=n(16),h=(n(52),n(9),n(45),n(170),n(485),n(66),n(29),n(73),n(57),n(494),n(86)),v=n(489),_=n(479);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(f.a)(e);if(t){var r=Object(f.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(d.a)(this,n)}}var x=function(e,t,n,desc){var o,r=arguments.length,l=r<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(m.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(l=(r<3?o(l):r>3?o(t,n,l):o(t,n))||l);return r>3&&l&&Object.defineProperty(t,n,l),l},w=function(e){Object(c.a)(n,e);var t=y(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).name="Achievements",e.currentMedal=null,e.showAll=!1,e.sections={battle:6,epic:5,step:4,commemorative:3,title:2,platoon:1},e}return Object(l.a)(n,[{key:"achievementsCount",get:function(){return Object.keys(this.achievements).length}},{key:"items",get:function(){var e=this,t=Object.entries(this.achievements).map((function(t){var n,r,l,c=Object(o.a)(t,2),d=c[0],f=c[1],m=e.info[d],h={key:d,count:f,condition:null!==(n=m.condition)&&void 0!==n?n:"",description:null!==(r=m.description)&&void 0!==r?r:"",image:"/img/medals/".concat(d.replace("RU",""),".webp"),name:null!==(l=m.name)&&void 0!==l?l:"",section:m.section,isSeries:!1};return m.options&&(h.name=m.options[f-1].name,h.image="/img/medals/".concat(d.replace("RU","")).concat(f,".webp"),h.count=0),h.name=h.name.replace(/\(.+\)/,""),h})).sort((function(a,b){return a.key.localeCompare(b.key)}));return this.showAll?t.sort((function(a,b){return e.sections[b.section]-e.sections[a.section]})):["markOfMastery","markOfMasteryI","markOfMasteryII","markOfMasteryIII","heroesOfRassenay","medalLafayettePool","medalRadleyWalters","warrior","medalKolobanov","mainGun","sniper","camper","medalBrothersInArms","medalCrucialContribution"].reduce((function(e,n){var o=t.find((function(i){return i.key===n}));return o&&e.push(o),e}),[])}},{key:"open",value:function(e){return e}},{key:"handleMedalView",value:function(e){var t,n,o,r;this.currentMedal=null!==(t=this.items.find((function(i){return i.key===e})))&&void 0!==t?t:null,console.log("-----------------"),console.log("key:",e),console.log("section:",null===(n=this.info[e])||void 0===n?void 0:n.section),console.log("name:",null===(o=this.info[e])||void 0===o?void 0:o.name),console.log("options:",null===(r=this.info[e].options)||void 0===r?void 0:r.length),console.log("count:",this.achievements[e]),console.log("series:",this.maxSeries[e]),console.log("-----------------"),this.detailsRef.doOpen()}},{key:"handleShowAll",value:function(){this.showAll=!this.showAll,this.open(this.showAll)}}]),n}(h.Vue);x([Object(h.Prop)({required:!0})],w.prototype,"achievements",void 0),x([Object(h.Prop)({required:!0})],w.prototype,"maxSeries",void 0),x([Object(h.Prop)({required:!0})],w.prototype,"info",void 0),x([Object(h.Prop)({default:!1})],w.prototype,"showSignificant",void 0),x([Object(h.Ref)("main")],w.prototype,"mainRef",void 0),x([Object(h.Ref)("details")],w.prototype,"detailsRef",void 0),x([Object(h.Emit)()],w.prototype,"open",null);var k=w=x([Object(h.Component)({components:{CButton:_.default,CDialog:v.default}})],w),O=(n(641),n(71)),component=Object(O.a)(k,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{ref:"main",staticClass:"achievements"},[e.achievementsCount?t("div",{staticClass:"achievements__inner"},[e.items.length?t("transition-group",{staticClass:"achievements__list",attrs:{tag:"ul",name:"achievements__item-"}},e._l(e.items,(function(n){return t("li",{key:n.key,staticClass:"achievements__item"},[t("button",{staticClass:"achievements__item-btn",on:{click:function(t){return e.handleMedalView(n.key)}}},[t("span",{staticClass:"achievements__item-inner"},[t("span",{staticClass:"achievements__item-img-wrapper"},[t("img",{staticClass:"achievements__item-img",attrs:{src:n.image,alt:n.key,"data-name":n.name}}),e._v(" "),n.count?t("span",{staticClass:"achievements__item-count",class:[n.isSeries?"achievements__item-count--is-series":""]},[e._v("\n                "+e._s(n.count)+"\n              ")]):e._e()]),e._v(" "),e.showAll?t("span",{staticClass:"achievements__item-details"},[e._v("\n              "+e._s(n.name)+"\n            ")]):e._e()])])])})),0):t("div",{staticClass:"achievements__empty"},[e._v("\n      Нет значимых достижений\n    ")]),e._v(" "),t("CButton",{staticClass:"achievements__show-all",on:{click:e.handleShowAll}},[e._v("\n      Показать "+e._s(e.showAll?"значимые":"все")+"\n    ")]),e._v(" "),t("CDialog",{ref:"details",attrs:{width:"640px"},scopedSlots:e._u([{key:"footer",fn:function(){return[t("div",{staticClass:"achievements__details-footer"},[t("CButton",{on:{click:function(t){return e.detailsRef.doClose()}}},[e._v("\n            Закрыть\n          ")])],1)]},proxy:!0}],null,!1,4251205422)},[e.currentMedal?t("div",{staticClass:"achievements__details"},[t("div",{staticClass:"achievements__details-header"},[t("img",{staticClass:"achievements__details-img",attrs:{src:e.currentMedal.image,alt:e.currentMedal.key,"data-name":e.currentMedal.name}}),e._v(" "),t("span",{staticClass:"achievements__details-name"},[e._v("\n            "+e._s(e.currentMedal.name)+"\n          ")])]),e._v(" "),t("div",{staticClass:"achievements__details-body"},[e.currentMedal.description?t("p",{domProps:{textContent:e._s(e.currentMedal.description)}}):e._e(),e._v(" "),e.currentMedal.condition?t("p",{domProps:{textContent:e._s(e.currentMedal.condition)}}):e._e()])]):e._e()])],1):t("div",{staticClass:"achievements__empty"},[e._v("\n    Нет достижений\n  ")])])}),[],!1,null,null,null);t.default=component.exports},526:function(e,t,n){"use strict";n(501)},527:function(e,t,n){var o=n(135)((function(i){return i[1]}));o.push([e.i,'.c-dialog__close{-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;-webkit-appearance:none;background:transparent;border:none;color:inherit;font:inherit;line-height:normal;overflow:visible;padding:0;text-align:inherit;width:auto}.c-dialog__close::-moz-focus-inner{border:0;padding:0}.c-dialog__close:focus{outline:none}.c-dialog{align-items:flex-start;background-color:var(--dialog-backdrop);bottom:0;display:flex;justify-content:center;left:0;padding:10px;position:fixed;right:0;top:0;z-index:100}.c-dialog--center .c-dialog__container{margin:auto}.c-dialog--top .c-dialog__container{margin:.5vh auto}.c-dialog--enter-active,.c-dialog--leave-active{transition:opacity .3s}.c-dialog--enter-active .c-dialog__container,.c-dialog--leave-active .c-dialog__container{transition:transform .3s}.c-dialog--enter,.c-dialog--leave-to{opacity:0}.c-dialog--enter .c-dialog__container,.c-dialog--leave-to .c-dialog__container{transform:translateY(10px)}.c-dialog__container{background-color:var(--bg-color);box-shadow:0 0 8px rgba(0,0,0,.1),0 0 16px rgba(0,0,0,.1),0 0 32px rgba(0,0,0,.1);display:flex;flex-direction:column;justify-content:flex-start;margin:auto;max-height:100%;max-width:100%;padding:24px;position:relative}@media screen and (max-width:768px){.c-dialog__container{padding:20px}}@media screen and (max-width:480px){.c-dialog__container{padding:16px}}.c-dialog__header{align-items:center;display:flex;flex:none;margin:0 0 20px}.c-dialog__header:empty{display:none}.c-dialog__title{flex:auto;font-size:18px}.c-dialog__close{cursor:pointer;flex:none;height:24px;position:absolute;right:16px;top:16px;width:24px}.c-dialog__close:after,.c-dialog__close:before{background-color:currentColor;bottom:2px;content:"";display:block;left:calc(50% - 1px);opacity:.5;pointer-events:none;position:absolute;top:2px;transition:transform .3s ease-out;width:2px}.c-dialog__close:hover:before{transform:rotate(45deg)}.c-dialog__close:hover:after{transform:rotate(135deg)}.c-dialog__close:before{transform:rotate(-45deg)}.c-dialog__close:after{transform:rotate(45deg)}.c-dialog__close:focus{background-color:rgba(33,150,243,.1)}.c-dialog__body{flex:auto;overflow-x:hidden;overflow-y:auto;position:relative;transition:opacity .3s .3s}.c-dialog__footer{flex:none;margin:20px 0 0}',""]),o.locals={},e.exports=o},582:function(e,t,n){var content=n(642);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(136).default)("6b5f3d84",content,!0,{sourceMap:!1})},641:function(e,t,n){"use strict";n(582)},642:function(e,t,n){var o=n(135)((function(i){return i[1]}));o.push([e.i,'.achievements__item-btn{-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;-webkit-appearance:none;background:transparent;border:none;color:inherit;font:inherit;line-height:normal;overflow:visible;padding:0;text-align:inherit;width:auto}.achievements__item-btn::-moz-focus-inner{border:0;padding:0}.achievements__item-btn:focus{outline:none}.achievements img:after,.achievements img:before{bottom:0;left:0;position:absolute;right:0;top:0}.achievements img:before{background-color:var(--bg-color);border:1px solid var(--border-color-light);content:"";display:block}.achievements img:after{align-items:center;content:attr(data-name);display:flex;flex-wrap:wrap;font-size:10px;font-style:normal;justify-content:center;padding:4px;text-align:center;word-break:break-word}.achievements img:after,.achievements__empty{color:var(--color-text-light)}.achievements__list{display:flex;flex-wrap:wrap;justify-content:space-around;list-style:none;margin:0;padding:0}.achievements__item{display:flex;position:relative;transition:all .2s}.achievements__item--enter,.achievements__item--leave-to{opacity:0}.achievements__item--leave-active{position:absolute}.achievements__item-btn{align-items:flex-start;cursor:pointer;display:flex;justify-content:center;min-width:100px;padding:16px 6px;position:relative}.achievements__item-btn:before{background-color:var(--color-primary);bottom:0;content:"";left:0;opacity:0;pointer-events:none;position:absolute;right:0;top:0;transition:opacity .2s}.achievements__item-btn:hover:before{opacity:.05}.achievements__item-inner{align-items:center;color:var(--color-text);display:flex;flex-direction:column;font-weight:400}.achievements__item-details{font-size:14px;margin:16px 0 0;text-align:center;width:140px}.achievements__item-img-wrapper{position:relative}.achievements__item-img{font-size:0;height:60px;-o-object-fit:contain;object-fit:contain;position:relative;width:60px}.achievements__item-count,.achievements__item-img{align-items:center;display:inline-flex;justify-content:center}.achievements__item-count{background-color:var(--bg-color);border:1px solid var(--border-color-light);bottom:-10px;color:var(--color-text);font-size:14px;height:20px;left:50%;padding:0 .25em;position:absolute;transform:translateX(-50%)}.achievements__item-count--is-series{background-color:var(--color-red)}.achievements__details-header{align-items:center;display:flex;flex-direction:column;flex-wrap:wrap}.achievements__details-img{display:inline-flex;height:100px;-o-object-fit:contain;object-fit:contain;position:relative;width:100px}.achievements__details-name{font-size:20px;font-weight:500;margin:10px 0}.achievements__details-body{padding:0;white-space:pre-line}.achievements__details-title{display:flex;margin:20px 0 6px}.achievements__details-footer{display:flex;justify-content:flex-end}.achievements__show-all{display:flex;margin:30px auto}',""]),o.locals={},e.exports=o}}]);