(window.webpackJsonp=window.webpackJsonp||[]).push([[78,27,28,29,32,33,41,45,49,55],{1016:function(t,e,n){"use strict";n(919)},1017:function(t,e,n){var r=n(67)((function(i){return i[1]}));r.push([t.i,".clan-page--no-data{align-items:center;display:flex;height:calc(100vh - 100px);justify-content:center;position:relative;text-align:center}.clan-page__filters{margin:0 0 20px}.clan-page__statusbar{align-items:center;background-color:var(--bg-color);border:1px solid var(--border-color-light);display:flex;gap:10px;justify-content:space-between;padding:10px 15px}.clan-page__preview{margin:0 0 4px}",""]),r.locals={},t.exports=r},1047:function(t,e,n){"use strict";n.r(e);n(607),n(72);var r=n(13),o=n(32),l=n(33),c=n(35),d=n(36),f=n(23),v=n(20),_=(n(43),n(3),n(1),n(5),n(44),n(185),n(116),n(117),n(153),n(50),n(51),n(154),n(15)),h=n(806),m=n.n(h),y=n(94),x=n(886),w=n(929),k=n(887),C=n(796),O=n(651),j=n(670),R=n(105),P=n(641),B=n(615),I=n(53),D=n(696),M=n(659),F=n(888),S=n(669),A=n(226),E=n(114);function L(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var N=function(t,e,n,desc){var r,o=arguments.length,l=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l},z=function(t){Object(c.a)(M,t);var e,n,d,f,v,_,h,x,w,k,P=L(M);function M(){var t;return Object(o.a)(this,M),(t=P.apply(this,arguments)).notify=R.a.notify(),t.loading=0,t.users=[],t.clanInfo=null,t.clan=null,t.filters=O.a.makeClanFilters(),t.statisticsSum=null,t.savedMembers=[],t.savedClan=null,t.clanSavedAt=0,t.sort={order:"desc",prop:""},t.metricsItems=[],t}return Object(l.a)(M,[{key:"clanMembers",get:function(){var t;return(null===(t=this.clan)||void 0===t?void 0:t.members)||[]}},{key:"filteredClanMembers",get:function(){var t=this,e=this.clanMembers.filter((function(e){var n=e.account_name.toLowerCase(),r=t.filters.search.toLowerCase();return n.includes(r)})),n=Date.now(),r=864e5;if(this.filters.joinedAtDays){var param=O.a.parseParameter(this.filters.joinedAtDays);e=this.clanMembers.filter((function(t){return O.a.executeExpression(n-param.value*r,1e3*t.joined_at,param.operator)}))}if(this.filters.lastBattleDays){var o=O.a.parseParameter(this.filters.lastBattleDays);e=this.clanMembers.filter((function(t){return O.a.executeExpression(n-o.value*r,1e3*t.last_battle_time,o.operator)}))}return e}},{key:"created",value:(k=Object(r.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=+this.$route.params.id){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,this.getAllData(e);case 5:case"end":return t.stop()}}),t,this)}))),function(){return k.apply(this,arguments)})},{key:"getClanMembers",value:(w=Object(r.a)(regeneratorRuntime.mark((function t(e){var n,data,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading++,t.prev=1,t.next=4,y.a.clan.getAccountInfo({account_id:e.join(",")});case 4:return n=t.sent,data=n.data,t.abrupt("return",data);case 9:return t.prev=9,t.t0=t.catch(1),this.notify.add({type:"error",title:"Получение данных участников клана",message:null!==(r=null===t.t0||void 0===t.t0?void 0:t.t0.message)&&void 0!==r?r:"Неизвестная ошибка"}),console.error(t.t0),t.abrupt("return",null);case 14:return t.prev=14,this.loading--,t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,9,14,17]])}))),function(t){return w.apply(this,arguments)})},{key:"getClanInfo",value:(x=Object(r.a)(regeneratorRuntime.mark((function t(e){var n,r,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading++,t.prev=1,t.next=4,y.a.clan.getInfo({clan_id:e});case 4:r=t.sent,data=r.data,this.clanInfo=null!==(n=data[e])&&void 0!==n?n:null,t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),this.notify.add({type:"error",message:"Получение данных клана"}),console.error(t.t0);case 13:this.loading--;case 14:case"end":return t.stop()}}),t,this,[[1,9]])}))),function(t){return x.apply(this,arguments)})},{key:"getUserList",value:(h=Object(r.a)(regeneratorRuntime.mark((function t(e){var n,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading++,t.prev=1,t.next=4,y.b.user.getList({id:e});case 4:n=t.sent,data=n.data,this.users=data,t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),this.notify.add({type:"error",title:"Получение данных аккаунта",message:null!==t.t0&&void 0!==t.t0&&t.t0.message?"Получение данных аккаунта":"Неизвестная ошибка"}),console.error(t.t0);case 13:this.loading--;case 14:case"end":return t.stop()}}),t,this,[[1,9]])}))),function(t){return h.apply(this,arguments)})},{key:"getAccountInfo",value:(_=Object(r.a)(regeneratorRuntime.mark((function t(e){var n,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading++,t.prev=1,t.next=4,y.a.account.getInfo({extra:"statistics.rating",account_id:e.join(",")});case 4:return n=t.sent,data=n.data,t.abrupt("return",data);case 9:return t.prev=9,t.t0=t.catch(1),this.notify.add({type:"error",message:"Получение данных аккаунта"}),console.error(t.t0),t.abrupt("return",null);case 14:return t.prev=14,this.loading--,t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,9,14,17]])}))),function(t){return _.apply(this,arguments)})},{key:"getAllData",value:(v=Object(r.a)(regeneratorRuntime.mark((function t(e){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getClanInfo(e);case 2:if(this.clanInfo){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,this.getClanMembers(this.clanInfo.members_ids);case 6:return n=t.sent,this.clanInfo.members=n,t.next=10,Promise.all([this.getUserList(this.clanInfo.members_ids),this.loadAccounts(this.clanInfo),this.loadClan(this.clanInfo)]);case 10:if(this.savedClan){t.next=13;break}return t.next=13,this.saveClan(this.clanInfo);case 13:return t.next=15,this.getAccountInfo(this.clanInfo.members_ids);case 15:if(r=t.sent){t.next=18;break}return t.abrupt("return");case 18:this.clan=j.a.clan(this.clanInfo,r),o=Object.values(r).filter(S.a),this.statisticsSum=o.reduce((function(t,e,n){return 0===n?o[0].statistics:B.a.sumFull(t,e.statistics)}),{}),this.metricsItems=D.a.clan(o,this.statisticsSum),C.a.clanMembersDefault(this.clanMembers);case 23:case"end":return t.stop()}}),t,this)}))),function(t){return v.apply(this,arguments)})},{key:"loadAccounts",value:(f=Object(r.a)(regeneratorRuntime.mark((function t(e){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.loading++,n=[],t.t0=regeneratorRuntime.keys(e.members);case 3:if((t.t1=t.t0()).done){t.next=14;break}return r=t.t1.value,t.next=7,I.a.indexedDB.accountsInfo.get(r);case 7:if(o=t.sent){t.next=10;break}return t.abrupt("continue",3);case 10:o.data.created_at=o.timestamp,n.push(j.a.clanMember(e.members[r],o.data)),t.next=3;break;case 14:this.savedMembers=n,this.loading--;case 16:case"end":return t.stop()}}),t,this)}))),function(t){return f.apply(this,arguments)})},{key:"saveClan",value:(d=Object(r.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading++,t.next=3,I.a.indexedDB.clansInfo.set(e.clan_id,e);case 3:this.savedClan=m()(e),this.clanSavedAt=Date.now(),this.loading--;case 6:case"end":return t.stop()}}),t,this)}))),function(t){return d.apply(this,arguments)})},{key:"loadClan",value:(n=Object(r.a)(regeneratorRuntime.mark((function t(e){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading++,t.next=3,I.a.indexedDB.clansInfo.get(e.clan_id);case 3:o=t.sent,this.savedClan=null!==(n=null==o?void 0:o.data)&&void 0!==n?n:null,this.clanSavedAt=null!==(r=null==o?void 0:o.timestamp)&&void 0!==r?r:0,this.loading--;case 7:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"handleSort",value:function(t){t.order||C.a.clanMembersDefault(this.clanMembers)}},{key:"handleResetClanEvents",value:(e=Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.clanInfo){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.saveClan(this.clanInfo);case 4:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),M}(_.Vue),V=z=N([Object(_.Component)({components:{CButton:E.default,ContentLoader:A.default,PageSection:M.default,MetricsPlates:P.default,ClanPreview:x.default,ClanViewMembersTable:w.default,ClanViewFilter:k.default,ClanEvents:F.default},head:function(){return{title:"Инфо / Кланы | Blitz Commander"}}})],z),T=(n(1016),n(34)),component=Object(T.a)(V,(function(){var t=this,e=t._self._c;t._self._setupProxy;return t.clan?e("div",{staticClass:"clan-page"},[e("PageSection",{attrs:{identity:"preview"}},[e("ClanPreview",{staticClass:"clan-page__preview",attrs:{"hide-description":!0,clan:t.clan,loading:t.loading>0},scopedSlots:t._u([{key:"events",fn:function(){return[t.clanInfo&&t.savedClan?e("ClanEvents",{attrs:{clan:t.clanInfo,"saved-clan":t.savedClan,"saved-at":t.clanSavedAt},on:{reset:t.handleResetClanEvents}}):t._e()]},proxy:!0}],null,!1,1870888480)})],1),t._v(" "),e("PageSection",{attrs:{title:"Статистика",identity:"statistic"}},[e("MetricsPlates",{attrs:{loading:t.loading>0,items:t.metricsItems}})],1),t._v(" "),e("PageSection",{attrs:{title:"Участники",identity:"members"}},[e("ClanViewFilter",{staticClass:"clan-page__filters",attrs:{filters:t.filters}}),t._v(" "),e("ClanViewMembersTable",{attrs:{sort:t.sort,users:t.users,"saved-members":t.savedMembers,members:t.filteredClanMembers},on:{sort:t.handleSort}})],1)],1):e("div",{staticClass:"clan-page--no-data"},[t.loading?t._e():e("div",{staticClass:"content-area"},[e("p",[t._v("Нет данных.")]),t._v(" "),e("p",[t._v("Возможно клан удалён.")])]),t._v(" "),e("ContentLoader",{attrs:{loading:t.loading>0}})],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{ClanEvents:n(888).default,ClanPreview:n(886).default,PageSection:n(659).default,MetricsPlates:n(641).default,ClanViewFilter:n(887).default,ClanViewMembersTable:n(929).default,ContentLoader:n(226).default})},610:function(t,e,n){"use strict";n.r(e);var r=n(32),o=n(33),l=n(35),c=n(36),d=n(23),f=n(20),v=(n(3),n(1),n(72),n(15)),_=n(95),h=n(114);function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(d.a)(t);if(e){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var y=function(t,e,n,desc){var r,o=arguments.length,l=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l},x=function(t){Object(l.a)(n,t);var e=m(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"dispatchInput",value:function(){return!this.checked}},{key:"dispatchChange",value:function(){return!this.checked}},{key:"handleClick",value:function(){this.dispatchInput(),this.dispatchChange()}}]),n}(v.Vue);y([Object(v.Model)("change",{default:!1})],x.prototype,"checked",void 0),y([Object(v.Prop)({default:!1})],x.prototype,"disabled",void 0),y([Object(v.Prop)({default:!1})],x.prototype,"noBorder",void 0),y([Object(_.Emit)("input")],x.prototype,"dispatchInput",null),y([Object(_.Emit)("change")],x.prototype,"dispatchChange",null);var w=x=y([Object(v.Component)({components:{CButton:h.default}})],x),k=(n(622),n(34)),component=Object(k.a)(w,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("CButton",{staticClass:"c-button-checkbox",attrs:{"no-border":t.noBorder,disabled:t.disabled},on:{click:t.handleClick},scopedSlots:t._u([{key:"before",fn:function(){return[e("span",{staticClass:"c-button-checkbox__indicator",class:[t.checked?"is-active":""]}),t._v(" "),e("span",{staticClass:"c-button-checkbox__before"},[t._t("before")],2)]},proxy:!0},{key:"after",fn:function(){return[t._t("after")]},proxy:!0}],null,!0)},[t._v(" "),t._v(" "),t._t("default")],2)}),[],!1,null,null,null);e.default=component.exports},611:function(t,e,n){var content=n(623);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(68).default)("198e3298",content,!0,{sourceMap:!1})},613:function(t,e,n){var content=n(630);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(68).default)("f63a7386",content,!0,{sourceMap:!1})},617:function(t,e,n){"use strict";n.r(e);n(72);var r=n(32),o=n(33),l=n(35),c=n(36),d=n(23),f=n(20),v=(n(3),n(1),n(37),n(232),n(44),n(608),n(15)),_=n(114),h=n(342),m=n.n(h),y=n(610),x=n(231);function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(d.a)(t);if(e){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var k=function(t,e,n,desc){var r,o=arguments.length,l=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l},C=function(t){Object(l.a)(n,t);var e=w(n);function n(){var t;return Object(r.a)(this,n),(t=e.apply(this,arguments)).name="CSelect",t.isOpen=!1,t.defaultOption=Object.freeze({value:null,label:"Выбрать"}),t.currentOption=t.defaultOption,t}return Object(o.a)(n,[{key:"isMobile",get:function(){var t=navigator.userAgent;return/(Android|webOS|iPhone|iPad|iPod|BlackBerry|Phone)/i.test(t)}},{key:"valueChanged",value:function(){var t=this,e=this.options.find((function(i){return i.value===t.value}));this.currentOption=null!=e?e:this.defaultOption}},{key:"created",value:function(){window.addEventListener("click",this.handleClickOutside)}},{key:"destroyed",value:function(){window.removeEventListener("click",this.handleClickOutside)}},{key:"handleOpenBtn",value:function(){this.isMobile&&Object(x.a)(!0),this.isOpen=!this.isOpen}},{key:"handleOptionBtn",value:function(option){this.isMobile&&Object(x.a)(!1),this.currentOption=option,this.isOpen=!1,this.$emit("input",this.currentOption.value),this.$emit("change",this.currentOption.value)}},{key:"handleClickOutside",value:function(t){this.$el.contains(t.target)||(this.isOpen=!1)}},{key:"handleBackdropClick",value:function(){this.isOpen=!1,Object(x.a)(!1)}}]),n}(v.Vue);k([Object(v.Model)("change")],C.prototype,"value",void 0),k([Object(v.Prop)({default:function(){return[]}})],C.prototype,"options",void 0),k([Object(v.Prop)({default:!1})],C.prototype,"disabled",void 0),k([Object(v.Prop)()],C.prototype,"idKey",void 0),k([Object(v.Prop)()],C.prototype,"width",void 0),k([Object(v.Watch)("value",{immediate:!0})],C.prototype,"valueChanged",null);var O=C=k([Object(v.Component)({components:{CButtonCheckbox:y.default,CButton:_.default,ArrowDownIcon:m.a}})],C),j=(n(629),n(34)),component=Object(j.a)(O,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"c-options",class:["c-options--is-"+(t.isOpen?"opened":"closed"),t.isMobile?"c-options--is-mobile":""],style:{width:t.width}},[t.isMobile&&t.isOpen&&t.options.length?e("div",{staticClass:"c-options__backdrop",on:{click:t.handleBackdropClick}}):t._e(),t._v(" "),e("div",{staticClass:"c-options__input"},[e("CButton",{staticClass:"c-options__trigger",attrs:{disabled:t.disabled},on:{click:t.handleOpenBtn},scopedSlots:t._u([{key:"after",fn:function(){return[e("ArrowDownIcon",{staticClass:"c-options__arrow"})]},proxy:!0}])},[t._v("\n      "+t._s(t.currentOption.label)+"\n      ")]),t._v(" "),e("transition",[t.isOpen&&t.options.length?e("ul",{staticClass:"c-options__list"},t._l(t.options,(function(option){return e("li",{key:t.idKey?option[t.idKey]:option.value,staticClass:"c-options__item"},[e("CButtonCheckbox",{staticClass:"c-options__item-btn",attrs:{checked:option.value===t.value,disabled:option.disabled,"no-border":""},on:{change:function(e){return t.handleOptionBtn(option)}}},[t._v("\n            "+t._s(option.label)+"\n          ")])],1)})),0):t._e()])],1)])}),[],!1,null,null,null);e.default=component.exports},622:function(t,e,n){"use strict";n(611)},623:function(t,e,n){var r=n(67)((function(i){return i[1]}));r.push([t.i,".c-button-checkbox__indicator{background-color:var(--border-color-light);height:20px;transition:background-color .2s;width:4px}.c-button-checkbox__indicator.is-active{background-color:var(--color-green)}.c-button-checkbox__before{align-self:center;display:inline-flex;margin:0 0 0 4px}.c-button-checkbox__before:empty{display:none}",""]),r.locals={},t.exports=r},629:function(t,e,n){"use strict";n(613)},630:function(t,e,n){var r=n(67)((function(i){return i[1]}));r.push([t.i,".c-options{position:relative}.c-options__trigger{position:relative;width:100%}.c-options__arrow{color:var(--color-grey);transition:transform .2s}.c-options--is-opened .c-options__arrow{transform:scaleY(-1)}.c-options__backdrop{background:var(--bg-color-darken);bottom:0;left:0;opacity:.9;position:fixed;right:0;top:0;transition:opacity .2s;z-index:110}.c-options__list{background-color:var(--bg-color);border:1px solid var(--border-color);left:0;list-style:none;margin:6px 0 0;max-height:235px;overflow-x:hidden;overflow-y:auto;padding:0;position:absolute;top:100%;width:100%;z-index:111}.c-options--is-mobile .c-options__list{bottom:auto;left:0;margin:auto;max-height:40vh;max-width:480px;min-height:50px;position:fixed;right:0;top:65%;transform:translateY(-50%)}.c-options__list.v-enter-active,.c-options__list.v-leave-active{transform-origin:top;transition:transform .2s,opacity .2s}.c-options__list.v-enter,.c-options__list.v-leave-to{opacity:0;transform:translateY(-10px)}.c-options--is-mobile .c-options__list.v-enter,.c-options--is-mobile .c-options__list.v-leave-to{transform:translateY(-55%)}.c-options__item:not(:last-child){border-bottom:1px solid var(--border-color-light)}.c-options__item-btn{justify-content:flex-start;white-space:nowrap;width:100%}.c-options--is-mobile .c-options__item-btn{height:50px}",""]),r.locals={},t.exports=r},641:function(t,e,n){"use strict";n.r(e);n(72);var r=n(33),o=n(32),l=n(35),c=n(36),d=n(23),f=n(20),v=(n(3),n(1),n(37),n(15)),_=n(351),h=n.n(_),m=n(352),y=n.n(m),x=n(226);function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(d.a)(t);if(e){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var k=function(t,e,n,desc){var r,o=arguments.length,l=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l},C=function(t){Object(l.a)(n,t);var e=w(n);function n(){var t;return Object(o.a)(this,n),(t=e.apply(this,arguments)).name="MetricsPlates",t}return Object(r.a)(n)}(v.Vue);k([Object(v.Prop)({default:!1})],C.prototype,"loading",void 0),k([Object(v.Prop)({required:!0})],C.prototype,"items",void 0);var O=C=k([Object(v.Component)({components:{ContentLoader:x.default,InfoIcon:y.a,ContentCopyIcon:h.a}})],C),j=(n(689),n(34)),component=Object(j.a)(O,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"metrics-plates"},[e("transition-group",{staticClass:"metrics-plates__list",attrs:{tag:"ul"}},t._l(t.items,(function(n){return e("li",{key:n.key,staticClass:"metrics-plates__item"},[e("span",{staticClass:"metrics-plates__item-label"},[t._v("\n        "+t._s(n.label)+"\n      ")]),t._v(" "),e("b",{staticClass:"metrics-plates__item-value",style:{color:n.color?"var(--color-".concat(n.color,")"):null}},[t._v("\n        "+t._s(n.value)+"\n\n        "),n.diff?e("span",{staticClass:"metrics-plates__item-diff"},[t._v("\n          "+t._s(n.diff)+"\n        ")]):t._e()]),t._v(" "),e("ContentLoader",{attrs:{loading:t.loading}})],1)})),0)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{ContentLoader:n(226).default})},643:function(t,e,n){var content=n(661);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(68).default)("1a2252fa",content,!0,{sourceMap:!1})},650:function(t,e,n){"use strict";n.r(e);n(72);var r=n(32),o=n(33),l=n(35),c=n(36),d=n(23),f=n(20),v=(n(3),n(1),n(37),n(15)),_=n(95),h=n(188),m=n.n(h),y=n(190),x=n.n(y),w=n(114);function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(d.a)(t);if(e){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var C=function(t,e,n,desc){var r,o=arguments.length,l=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l},O=function(t){Object(l.a)(n,t);var e=k(n);function n(){var t;return Object(r.a)(this,n),(t=e.apply(this,arguments)).name="CInput",t}return Object(o.a)(n,[{key:"input",value:function(t){return t}},{key:"clear",value:function(){this.input("")}},{key:"keyup",value:function(t){return t}},{key:"keydown",value:function(t){return t}},{key:"blur",value:function(){var t;null===(t=this.inputRef)||void 0===t||t.blur()}},{key:"focus",value:function(){var t;null===(t=this.inputRef)||void 0===t||t.focus()}}]),n}(v.Vue);C([Object(v.Prop)({required:!0,type:String})],O.prototype,"value",void 0),C([Object(v.Prop)()],O.prototype,"placeholder",void 0),C([Object(v.Prop)()],O.prototype,"type",void 0),C([Object(v.Ref)("input")],O.prototype,"inputRef",void 0),C([Object(_.Emit)()],O.prototype,"input",null),C([Object(_.Emit)()],O.prototype,"clear",null),C([Object(_.Emit)()],O.prototype,"keyup",null),C([Object(_.Emit)()],O.prototype,"keydown",null);var j=O=C([Object(v.Component)({components:{CButton:w.default,ClearIcon:m.a,SearchIcon:x.a}})],O),R=(n(660),n(34)),component=Object(R.a)(j,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"c-input"},[e("div",{staticClass:"c-input__inner"},[e("div",{staticClass:"c-input__input"},["search"===t.type?e("SearchIcon",{staticClass:"c-input__search-icon"}):t._e(),t._v(" "),e("input",{ref:"input",staticClass:"c-input__input-element",class:["c-input__input-element--"+t.type],attrs:{placeholder:t.placeholder||"Введите текст"},domProps:{value:t.value},on:{input:function(e){return t.input(e.target.value)},keyup:t.keyup,keydown:t.keydown}}),t._v(" "),t.value&&"search"===t.type?e("CButton",{staticClass:"c-input__clear link",attrs:{"is-text":""},on:{click:t.clear}},[e("ClearIcon")],1):t._e()],1)])])}),[],!1,null,null,null);e.default=component.exports},651:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));n(44),n(187),n(7);var r=n(657),o=n(42),l=(n(1),n(2),n(155),n(228)),c={executeExpression:function(t,e,n){switch(n){case"<":return t<e;case">":return t>e;case"<=":case">=":return t<=e;case"=":return t===e;case"!=":return t!==e;default:return!0}},makeAccountFilters:r.a,makeClanFilters:r.d,humanizeParam:function(t){var e=t.operator,n=t.value;switch(e){case">":return"больше чем ".concat(n);case"<":return"меньше чем ".concat(n);case">=":return"больше или равно ".concat(n);case"<=":return"меньше или равно ".concat(n);case"!=":return"не равно ".concat(n);case"=":return"равно ".concat(n);default:return n}},parseParameter:function(t){var e,n=t.match(/([<>!=]{1,2})([^<>!=]{1,2})/i);if(!n||!n[1])throw new Error("Filter Parameter Parse: operator not found");return{operator:n[1],value:null!==(e=null==n?void 0:n[2])&&void 0!==e?e:""}},stringifyParameter:function(param){return"".concat(param.operator).concat(param.value)},makeAccountSessionWidgetFilters:r.b,makeAccountSessionsFilters:r.c,toRouteQuery:function(t){if(!Object(l.a)(t))throw new TypeError("Value is not a object");var e={};return Object.entries(t).forEach((function(t){var n=Object(o.a)(t,2),r=n[0],l=n[1];null!=l&&String(l)&&(e[r]=String(l))})),e}}},653:function(t,e,n){var content=n(690);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(68).default)("5da04738",content,!0,{sourceMap:!1})},654:function(t,e,n){var content=n(692);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(68).default)("7e2d94b6",content,!0,{sourceMap:!1})},657:function(t,e,n){"use strict";n.d(e,"a",(function(){return h})),n.d(e,"d",(function(){return m})),n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return x}));n(1),n(62),n(44),n(185),n(116),n(189),n(106),n(89);var r=function(t){switch(String(t)){case"true":return!0;case"false":return!1;default:return null}},o=function(t){return"string"!=typeof t||["[object Object]","null"].includes(t)?null:String(t)},l=function(t){return Number.isNaN(Number(t))?null:Number(t)},c=function(t,e){if(Array.isArray(t))return t;if(!t||"string"!=typeof t)return null;var n=t.split(",");switch(e){case"boolean":return n.map(r);case"number":return n.map(l);case"string":return n.map(o);default:return null}},d=r,f=o,v=l,_=n(228),h=function(t){var e,n,r,o,l,h,m,y,x,w,k,C,O;return t=Object(_.a)(t)?t:{},{tankIsPremium:d(null===(e=t)||void 0===e?void 0:e.tankIsPremium),tankInGarage:v(null===(n=t)||void 0===n?void 0:n.tankInGarage),tankNation:null!==(r=c(null===(o=t)||void 0===o?void 0:o.tankNation,"string"))&&void 0!==r?r:[],tankTire:null!==(l=c(null===(h=t)||void 0===h?void 0:h.tankTire,"number"))&&void 0!==l?l:[],tankType:null!==(m=c(null===(y=t)||void 0===y?void 0:y.tankType,"string"))&&void 0!==m?m:[],achievementsSection:f(null===(x=t)||void 0===x?void 0:x.achievementsSection),achievementsShow:null!==(w=f(null===(k=t)||void 0===k?void 0:k.achievementsShow))&&void 0!==w?w:"important",battleMode:null!==(C=f(null===(O=t)||void 0===O?void 0:O.battleMode))&&void 0!==C?C:"random"}},m=function(t){var e,n,r,o;return t=Object(_.a)(t)?t:{},{search:null!==(e=f(null===(n=t)||void 0===n?void 0:n.search))&&void 0!==e?e:"",joinedAtDays:f(null===(r=t)||void 0===r?void 0:r.joinedAtDays),lastBattleDays:f(null===(o=t)||void 0===o?void 0:o.lastBattleDays)}},y=function(t){var e,n,r,o,l,d,h,m,y;return t=Object(_.a)(t)?t:{},{battleMode:f(null===(e=t)||void 0===e?void 0:e.battleMode),accountId:v(null===(n=t)||void 0===n?void 0:n.accountId),attributes:null!==(r=c(null===(o=t)||void 0===o?void 0:o.attributes,"string"))&&void 0!==r?r:[],config:f(null===(l=t)||void 0===l?void 0:l.config),style:f(null===(d=t)||void 0===d?void 0:d.style),textColor:f(null===(h=t)||void 0===h?void 0:h.textColor),bgColor:f(null===(m=t)||void 0===m?void 0:m.bgColor),bgColorOpacity:v(null===(y=t)||void 0===y?void 0:y.bgColorOpacity)}},x=function(t){var e,n;return t=Object(_.a)(t)?t:{},{ids:null!==(e=c(null===(n=t)||void 0===n?void 0:n.ids,"number"))&&void 0!==e?e:[]}}},659:function(t,e,n){"use strict";n.r(e);n(72);var r=n(33),o=n(32),l=n(35),c=n(36),d=n(23),f=n(20),v=(n(3),n(1),n(37),n(15)),_=n(183);function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(d.a)(t);if(e){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var m=function(t,e,n,desc){var r,o=arguments.length,l=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l},y=function(t){Object(l.a)(n,t);var e=h(n);function n(){var t;return Object(o.a)(this,n),(t=e.apply(this,arguments)).name="PageSection",t}return Object(r.a)(n)}(v.Vue);m([Object(v.Prop)({default:"-76px"})],y.prototype,"offsetTop",void 0),m([Object(v.Prop)({required:!0})],y.prototype,"identity",void 0),m([Object(v.Prop)()],y.prototype,"title",void 0);var x=y=m([Object(v.Component)({components:{ContentBox:_.default}})],y),w=(n(691),n(34)),component=Object(w.a)(x,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("section",{staticClass:"page-section"},[e("div",{staticClass:"page-section__anchor",style:{top:t.offsetTop},attrs:{id:t.identity}}),t._v(" "),t.title?e("h2",{staticClass:"page-section__title"},[t._v("\n    "+t._s(t.title)+"\n  ")]):t._e(),t._v(" "),t._t("default")],2)}),[],!1,null,null,null);e.default=component.exports},660:function(t,e,n){"use strict";n(643)},661:function(t,e,n){var r=n(67)((function(i){return i[1]}));r.push([t.i,".c-input__inner{display:flex}.c-input__input{position:relative;width:100%}.c-input__search-icon{align-items:center;bottom:0;color:var(--border-color);display:flex;justify-content:center;left:0;position:absolute;top:50%;transform:translateY(-50%);transition:color .1s;width:36px}.c-input__input-element{background-color:var(--bg-color);border:1px solid var(--border-color);border-radius:0;box-sizing:border-box;color:inherit;display:inline-block;font:inherit;height:36px;margin:0;outline:none;padding:0 12px;transition:color .1s,border-color .1s;width:100%}.c-input__input-element--search{padding-left:36px;padding-right:36px}.c-input__input-element:active,.c-input__input-element:focus,.c-input__input-element:hover{border-color:var(--color-primary)}.c-input__clear{bottom:0;position:absolute;right:6px;top:0}",""]),r.locals={},t.exports=r},669:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return null!=t}},678:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(13),o=(n(43),function(text){try{var t=document.createElement("textarea");return t.value=text,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select(),document.execCommand("copy"),document.body.removeChild(t),!0}catch(t){return!1}}),l=function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(text){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.next=2;break;case 2:if(navigator.clipboard){t.next=4;break}return t.abrupt("return",o(text));case 4:return t.prev=4,t.next=7,navigator.clipboard.writeText(text);case 7:return t.abrupt("return",!0);case 10:return t.prev=10,t.t0=t.catch(4),console.error(t.t0),t.abrupt("return",!1);case 14:case"end":return t.stop()}}),t,null,[[4,10]])})));return function(e){return t.apply(this,arguments)}}()},689:function(t,e,n){"use strict";n(653)},690:function(t,e,n){var r=n(67)((function(i){return i[1]}));r.push([t.i,".metrics-plates__list{display:flex;flex-wrap:wrap;list-style:none;margin:-2px;padding:0}.metrics-plates__item{align-items:center;background-color:var(--bg-color);border:1px solid var(--border-color-light);display:inline-flex;flex-direction:column;justify-content:space-between;margin:2px;padding:10px;position:relative;width:calc(16.66667% - 4px)}@media only screen and (max-width:1400px){.metrics-plates__item{width:calc(25% - 4px)}}@media only screen and (max-width:768px){.metrics-plates__item{width:calc(50% - 4px)}}.metrics-plates__item-label{color:var(--color-text-light);display:inline-flex;font-size:14px;line-height:1.125;text-align:center}.metrics-plates__item-value{align-items:center;display:flex;font-size:22px;justify-content:center;line-height:1.25;margin:12px 0;position:relative;width:100%}.metrics-plates__item-diff{bottom:0;color:var(--color-text-lightest);display:flex;font-size:12px;font-weight:400;justify-content:center;left:0;position:absolute;right:0;top:100%}",""]),r.locals={},t.exports=r},691:function(t,e,n){"use strict";n(654)},692:function(t,e,n){var r=n(67)((function(i){return i[1]}));r.push([t.i,".page-section{position:relative}.page-section__title{border-bottom:1px solid var(--border-color-light);display:flex;font-size:20px;font-weight:500;margin:1em 0;padding:0 0 .1em}.page-section__anchor{bottom:0;pointer-events:none;position:absolute;width:100%}",""]),r.locals={},t.exports=r},696:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));n(1),n(7),n(2),n(5),n(116),n(117);var r=n(227),o=n(618),l=n(615),c=function(t,e){if(t&&e)return t.reduce((function(t,e){return t+e.battle_life_time}),0)/e.battles},d={account:function(t){var e,n,d,f,v,_,h,m,y,x,w,k,C,O,j,R,P,B,I,D,M,F,S,A,E,L,N,z,V,T,$=[{label:"",key:"battles",value:(null===(e=t.stat)||void 0===e?void 0:e.battles)||0,diff:r.a.number.toInteger(null===(n=t.statDiff)||void 0===n?void 0:n.battles,!0)},{label:"",key:"winRate",value:r.a.number.toFloatPercent((null===(d=t.stat)||void 0===d?void 0:d.winRate)||0),diff:r.a.number.toFloatPercent(null===(f=t.statDiff)||void 0===f?void 0:f.winRate,!0),color:o.a.winRate((null===(v=t.stat)||void 0===v?void 0:v.winRate)||0)},{label:"",key:"damagePerBattle",value:(null===(_=t.stat)||void 0===_?void 0:_.damagePerBattle)||0,diff:r.a.number.toInteger(null===(h=t.statDiff)||void 0===h?void 0:h.damagePerBattle,!0)}],Y=t.achievements?l.a.winsInPlatoon({wins:null!==(m=null===(y=t.stat)||void 0===y?void 0:y.wins)&&void 0!==m?m:0,achievements:t.achievements}):void 0,U=t.achievementsDiff?l.a.winsInPlatoon({wins:null!==(x=null===(w=t.statDiff)||void 0===w?void 0:w.wins)&&void 0!==x?x:0,achievements:t.achievementsDiff})-(Y||0):void 0;$.push({label:"",key:"winsInPlatoon",value:r.a.number.toFloatPercent(Y||0),diff:r.a.number.toFloatPercent(U,!0)});var K=l.a.battlesPerDay({battles:(null===(k=t.stat)||void 0===k?void 0:k.battles)||0,createAt:t.createAt||0}),W=l.a.battlesPerDay({battles:(null===(C=t.statDiff)||void 0===C?void 0:C.battles)||0,createAt:t.createAtDiff||0});$.push({label:"",key:"battlesPerDay",value:K,diff:t.statDiff?r.a.number.toInteger(W-K,!0):""}),$.push({label:"",key:"tanksWithMaster",value:"".concat(l.a.totalMasters(t.tanks)," / ").concat(t.tanks.length),diff:t.tanksDiff?"".concat(l.a.totalMasters(t.tanksDiff||[])," / ").concat((null===(O=t.tanksDiff)||void 0===O?void 0:O.length)||0):""}),$.push({label:"",key:"fragPerBattle",value:r.a.number.toFloatNumber((null===(j=t.stat)||void 0===j?void 0:j.fragPerBattle)||0),diff:r.a.number.toFloatNumber(null===(R=t.statDiff)||void 0===R?void 0:R.fragPerBattle,!0)},{label:"",key:"surviveRate",value:r.a.number.toFloatPercent((null===(P=t.stat)||void 0===P?void 0:P.surviveRate)||0),diff:r.a.number.toFloatPercent(null===(B=t.statDiff)||void 0===B?void 0:B.surviveRate,!0)},{label:"",key:"hitRate",value:r.a.number.toFloatPercent((null===(I=t.stat)||void 0===I?void 0:I.hitRate)||0),diff:r.a.number.toFloatPercent(null===(D=t.statDiff)||void 0===D?void 0:D.hitRate,!0)},{label:"",key:"spottedPerBattle",value:r.a.number.toFloatNumber((null===(M=t.stat)||void 0===M?void 0:M.spottedPerBattle)||0),diff:r.a.number.toFloatNumber(null===(F=t.statDiff)||void 0===F?void 0:F.spottedPerBattle,!0)},{label:"",key:"xpPerBattle",value:r.a.number.toInteger((null===(S=t.stat)||void 0===S?void 0:S.xpPerBattle)||0),diff:r.a.number.toInteger(null===(A=t.statDiff)||void 0===A?void 0:A.xpPerBattle,!0)},{label:"",key:"max_frags",value:(null===(E=t.stat)||void 0===E?void 0:E.max_frags)||0,diff:r.a.number.toInteger(null===(L=t.statDiff)||void 0===L?void 0:L.max_frags,!0)},{label:"",key:"max_xp",value:(null===(N=t.stat)||void 0===N?void 0:N.max_xp)||0,diff:r.a.number.toInteger(null===(z=t.statDiff)||void 0===z?void 0:z.max_xp,!0)});var G=null!==(V=c(t.tanks,t.stat))&&void 0!==V?V:0,J=null!==(T=c(t.tanksDiff,t.statDiff))&&void 0!==T?T:null,Q=(J||0)-G;return $.push({key:"battle_life_time",label:"Время жизни в минутах",value:r.a.number.toFloatNumber(G/60||0),diff:J?r.a.number.toFloatNumber(Q/60||0,!0):void 0}),$.forEach((function(t){t.label=r.a.stat.accountProp(t.key)})),$.filter((function(e){var n;return!t.plates||(null===(n=t.plates)||void 0===n?void 0:n.includes(e.key))}))},accountRating:function(){var t,e,n,l,c,d,f,v,_,h,m,y,x,w,k,C,O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},j=[{key:"battles",label:"Боёв",value:(null===(t=O.stat)||void 0===t?void 0:t.battles)||0,diff:r.a.number.toInteger(null===(e=O.diff)||void 0===e?void 0:e.battles,!0)},{key:"winRate",label:"Побед",value:r.a.number.toFloatPercent((null===(n=O.stat)||void 0===n?void 0:n.winRate)||0),diff:r.a.number.toFloatPercent(null===(l=O.diff)||void 0===l?void 0:l.winRate,!0),color:o.a.winRate((null===(c=O.stat)||void 0===c?void 0:c.winRate)||0)},{key:"damagePerBattle",label:"Урон",value:(null===(d=O.stat)||void 0===d?void 0:d.damagePerBattle)||0,diff:r.a.number.toInteger(null===(f=O.diff)||void 0===f?void 0:f.damagePerBattle,!0)},{key:"fragPerBattle",label:"Уничтожено",value:r.a.number.toFloatNumber((null===(v=O.stat)||void 0===v?void 0:v.fragPerBattle)||0),diff:r.a.number.toFloatNumber(null===(_=O.diff)||void 0===_?void 0:_.fragPerBattle,!0)},{key:"surviveRate",label:"Выживаемость",value:r.a.number.toFloatPercent((null===(h=O.stat)||void 0===h?void 0:h.surviveRate)||0),diff:r.a.number.toFloatPercent(null===(m=O.diff)||void 0===m?void 0:m.surviveRate,!0)},{key:"hitRate",label:"Меткость",value:r.a.number.toFloatPercent((null===(y=O.stat)||void 0===y?void 0:y.hitRate)||0),diff:r.a.number.toFloatPercent(null===(x=O.diff)||void 0===x?void 0:x.hitRate,!0)},{key:"spottedPerBattle",label:"Обнаружено",value:r.a.number.toFloatNumber((null===(w=O.stat)||void 0===w?void 0:w.spottedPerBattle)||0),diff:r.a.number.toFloatNumber(null===(k=O.diff)||void 0===k?void 0:k.spottedPerBattle,!0)}];if(null!==(C=O.stat)&&void 0!==C&&C.mm_rating){var R=10*(O.stat.mm_rating||0)+3e3;j.push({key:"mm_rating",label:"Рейтинг",value:r.a.number.toInteger(R)})}else{var P,B=10-((null===(P=O.stat)||void 0===P?void 0:P.calibration_battles_left)||0);j.push({key:"calibration_battles_left",label:B<10?"Калибровочные бои":"Рейтинг",value:B<10?"".concat(r.a.number.toInteger(B),"/10"):"---"})}return j},tank:function(t){var e=l.a.tank(t.tank.all),n=t.tankSession?l.a.tank(t.tankSession.all):null,c=n?l.a.diff(e,n):null,d=[{key:"battles",label:r.a.stat.accountProp("battles"),value:r.a.number.toInteger(e.battles||0),diff:r.a.number.toInteger((null==c?void 0:c.battles)||0,!0)},{key:"winRate",label:r.a.stat.accountProp("winRate"),value:r.a.number.toFloatPercent(e.winRate||0),diff:r.a.number.toFloatPercent((null==c?void 0:c.winRate)||0,!0),color:o.a.winRate(e.winRate||0)},{key:"damagePerBattle",label:r.a.stat.accountProp("damagePerBattle"),value:r.a.number.toInteger(e.damagePerBattle||0),diff:r.a.number.toInteger((null==c?void 0:c.damagePerBattle)||0,!0)},{key:"fragPerBattle",label:r.a.stat.accountProp("fragPerBattle"),value:r.a.number.toFloatNumber(e.fragPerBattle||0),diff:r.a.number.toFloatNumber((null==c?void 0:c.fragPerBattle)||0,!0)},{key:"surviveRate",label:r.a.stat.accountProp("surviveRate"),value:r.a.number.toFloatPercent(e.surviveRate||0),diff:r.a.number.toFloatPercent((null==c?void 0:c.surviveRate)||0,!0)},{key:"hitRate",label:r.a.stat.accountProp("hitRate"),value:r.a.number.toFloatPercent(e.hitRate||0),diff:r.a.number.toFloatPercent((null==c?void 0:c.hitRate)||0,!0)},{key:"spottedPerBattle",label:r.a.stat.accountProp("spottedPerBattle"),value:r.a.number.toFloatNumber(e.spottedPerBattle||0),diff:r.a.number.toFloatNumber((null==c?void 0:c.spottedPerBattle)||0,!0)},{key:"xpPerBattle",label:r.a.stat.accountProp("xpPerBattle"),value:r.a.number.toInteger(e.xpPerBattle||0),diff:r.a.number.toInteger((null==c?void 0:c.xpPerBattle)||0,!0)},{key:"max_frags",label:r.a.stat.accountProp("max_frags"),value:r.a.number.toInteger(e.max_frags||0),diff:r.a.number.toInteger((null==n?void 0:n.max_frags)||0)},{key:"max_xp",label:r.a.stat.accountProp("max_xp"),value:r.a.number.toInteger(e.max_xp||0),diff:r.a.number.toInteger((null==n?void 0:n.max_xp)||0)}];return d.push({key:"winsInPlatoon",label:r.a.stat.accountProp("winsInPlatoon"),value:r.a.number.toFloatPercent(l.a.winsInPlatoon({wins:t.tank.all.wins,achievements:t.tank.achievements})||0)}),d.push({key:"lifeTime",label:r.a.stat.accountProp("lifeTime"),value:r.a.number.toFloatNumber(t.tank.battle_life_time/e.battles/60||0)}),d.filter((function(e){var n;return!t.plates||(null===(n=t.plates)||void 0===n?void 0:n.includes(e.key))}))},clan:function(){var t,e,n,c,d,f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],v=arguments.length>1?arguments[1]:void 0,_=f.length;v&&_&&(d=l.a.accountAll(v.all,_));var h=Math.floor(f.reduce((function(t,e){return Math.floor(t+l.a.battlesPerDay({createAt:1e3*e.created_at,battles:e.statistics.all.battles}))}),0)/_);return[{key:"battles",label:"Боёв",value:(null===(t=d)||void 0===t?void 0:t.battles)||0},{key:"winRate",label:"Побед",value:r.a.number.toFloatPercent((null===(e=d)||void 0===e?void 0:e.winRate)||0),color:o.a.winRate((null===(n=d)||void 0===n?void 0:n.winRate)||0)},{key:"damagePerBattle",label:"Урон",value:(null===(c=d)||void 0===c?void 0:c.damagePerBattle)||0},{key:"activity",label:"Боёв в день",value:r.a.number.toInteger(h)}]}}},718:function(t,e,n){var content=n(793);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(68).default)("3afccb12",content,!0,{sourceMap:!1})},721:function(t,e,n){"use strict";n.r(e);n(789),n(72);var r=n(33),o=n(32),l=n(35),c=n(36),d=n(23),f=n(20),v=(n(3),n(1),n(37),n(15));function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(d.a)(t);if(e){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var h=function(t,e,n,desc){var r,o=arguments.length,l=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l},m=function(t){Object(l.a)(n,t);var e=_(n);function n(){var t;return Object(o.a)(this,n),(t=e.apply(this,arguments)).name="SocialLinks",t}return Object(r.a)(n)}(v.Vue);h([Object(v.Prop)({required:!0,type:Array})],m.prototype,"links",void 0);var y=m=h([v.Component],m),x=(n(792),n(34)),component=Object(x.a)(y,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"social-links"},[e("div",{staticClass:"social-links__links"},t._l(t.links,(function(link){return e("a",{key:link.link,staticClass:"link social-links__links-item",attrs:{href:link.link,target:"_blank",title:link.title}},[e(link.icon,{tag:"component",attrs:{width:"24",height:"24"}})],1)})),0)])}),[],!1,null,null,null);e.default=component.exports},747:function(t,e,n){var content=n(821);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(68).default)("68e6cd68",content,!0,{sourceMap:!1})},748:function(t,e,n){var content=n(824);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(68).default)("29ce7a68",content,!0,{sourceMap:!1})},789:function(t,e,n){"use strict";var r=n(9),o=n(790);r({target:"String",proto:!0,forced:n(791)("link")},{link:function(t){return o(this,"a","href",t)}})},790:function(t,e,n){"use strict";var r=n(17),o=n(74),l=n(41),c=/"/g,d=r("".replace);t.exports=function(t,e,n,r){var f=l(o(t)),v="<"+e;return""!==n&&(v+=" "+n+'="'+d(l(r),c,"&quot;")+'"'),v+">"+f+"</"+e+">"}},791:function(t,e,n){"use strict";var r=n(16);t.exports=function(t){return r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},792:function(t,e,n){"use strict";n(718)},793:function(t,e,n){var r=n(67)((function(i){return i[1]}));r.push([t.i,".social-links__links{display:flex;flex-wrap:wrap}.social-links__links-item{align-items:center;display:inline-flex;font-weight:700;height:36px;justify-content:center;width:36px}",""]),r.locals={},t.exports=r},796:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n(607);var r={smart:function(t,e){var n=e.prop,r=e.order;return r?t.sort((function(a,b){var t=("desc"===r?b:a)[n],e=("desc"===r?a:b)[n];return String(t).localeCompare(String(e),void 0,{numeric:!0,sensitivity:"base"})})):t},clanMembersDefault:function(t){!function(t){t.sort((function(a,b){return a.joined_at-b.joined_at}))}(t),function(t){t.sort((function(a,b){var t={recruit:0,private:1,executive_officer:2,commander:3};return t[b.role]-t[a.role]}))}(t)}}},801:function(t,e,n){"use strict";n.r(e);n(7),n(37),n(4),n(79),n(72);var r=n(32),o=n(33),l=n(35),c=n(36),d=n(23),f=n(20),v=(n(3),n(1),n(15)),_=n(114),h=n(721),m=(n(44),n(187),n(50),n(51),/(https?:\/\/)?(www\.)?(discord\.(gg|io|me|li)|discordapp\.com\/invite)\/.+[a-z|0-9]/gi),y=/(https?:\/\/)?(www\.)?((t|telegram)\.me)\/\+?[a-zA-Z0-9_]{5,32}/gi,x=function(t){var e=[],r=t.match(m),o=t.match(y);return null!=r&&r.length&&e.push({title:"Discord",icon:function(){return Promise.resolve().then(n.t.bind(null,550,7))},link:r[0]}),null!=o&&o.length&&e.push({title:"Telegram",icon:function(){return Promise.resolve().then(n.t.bind(null,588,7))},link:o[0]}),e},w=n(226),k=n(152),C=n(115),O=n(105);function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(d.a)(t);if(e){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var R=function(t,e,n,desc){var r,o=arguments.length,l=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l},P=function(t){Object(l.a)(n,t);var e=j(n);function n(){var t;return Object(r.a)(this,n),(t=e.apply(this,arguments)).name="ClanPreview",t.notify=O.a.notify(),t.descExpended=!1,t}return Object(o.a)(n,[{key:"socialLinks",get:function(){var t;return x(null!==(t=this.clan.description)&&void 0!==t?t:"")}},{key:"open",value:function(){this.clanDetailsRef.doOpen()}},{key:"close",value:function(){this.clanDetailsRef.doClose()}},{key:"handleDescExpandBtn",value:function(){this.descExpended=!this.descExpended}}]),n}(v.Vue);R([Object(v.Prop)({required:!0})],P.prototype,"clan",void 0),R([Object(v.Ref)("clanDetails")],P.prototype,"clanDetailsRef",void 0);var B=P=R([Object(v.Component)({components:{SvgIcon:C.default,CDialog:k.default,CButton:_.default,SocialLinks:h.default,ContentLoader:w.default}})],P),I=(n(820),n(34)),component=Object(I.a)(B,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("CDialog",{ref:"clanDetails",staticClass:"clan-preview-details",attrs:{title:"[".concat(t.clan.tag,"] ").concat(t.clan.name),width:"640px"},scopedSlots:t._u([{key:"footer",fn:function(){return[e("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[e("SocialLinks",{staticClass:"clan-preview-details__links",attrs:{links:t.socialLinks}}),t._v(" "),e("CButton",{on:{click:t.close}},[t._v("\n        Закрыть\n      ")])],1)]},proxy:!0}])},[e("div",{staticClass:"clan-preview-details__body"},[t.clan.motto?e("div",{staticClass:"clan-preview-details__section"},[e("h5",{staticClass:"clan-preview-details__props-title"},[e("SvgIcon",{staticClass:"clan-preview-details__prop-title-icon",attrs:{"icon-name":"format-quote"}}),t._v("\n        Девиз\n      ")],1),t._v(" "),e("i",[t._v(t._s(t.clan.motto))])]):t._e(),t._v(" "),e("div",{staticClass:"clan-preview-details__section"},[e("h5",{staticClass:"clan-preview-details__props-title"},[e("SvgIcon",{staticClass:"clan-preview-details__prop-title-icon",attrs:{"icon-name":"description"}}),t._v("\n        Описание\n      ")],1),t._v(" "),t.clan.description?e("div",{staticClass:"content-area clan-preview-details__desc",class:t.descExpended?"clan-preview-details__desc--expended":"",domProps:{textContent:t._s(t.clan.description)}}):t._e(),t._v(" "),e("CButton",{staticClass:"clan-preview-details__desc-expend-btn",attrs:{"is-text":""},on:{click:t.handleDescExpandBtn}},[t._v("\n        "+t._s(t.descExpended?"Свернуть":"Развернуть")+"\n      ")])],1),t._v(" "),t.clan.motto?e("div",{staticClass:"clan-preview-details__section"},[e("h5",{staticClass:"clan-preview-details__props-title"},[e("SvgIcon",{staticClass:"clan-preview-details__prop-title-icon",attrs:{"icon-name":"info"}}),t._v("\n        Информация\n      ")],1),t._v(" "),e("div",{staticClass:"clan-preview-details__props"},[e("div",{staticClass:"clan-preview-details__prop"},[e("span",{staticClass:"clan-preview-details__prop-title"},[t._v("\n            Создатель\n          ")]),t._v(" "),t.clan.creator_id?e("nuxt-link",{staticClass:"link",attrs:{to:t.clan.creator_id?{name:"account-id",params:{id:t.clan.creator_id}}:{}}},[t._v("\n            "+t._s(t.clan.creator_name)+"\n          ")]):[t._v("\n            Не известен\n          ")]],2),t._v(" "),e("div",{staticClass:"clan-preview-details__prop"},[e("span",{staticClass:"clan-preview-details__prop-title"},[t._v("\n            Дата создания\n          ")]),t._v("\n          "+t._s(t.$formatter.date.toLocaleDate(1e3*t.clan.created_at))+"\n        ")]),t._v(" "),e("div",{staticClass:"clan-preview-details__prop"},[e("span",{staticClass:"clan-preview-details__prop-title"},[t._v("\n            Дата обновления\n          ")]),t._v("\n          "+t._s(t.$formatter.date.toLocaleDate(1e3*t.clan.updated_at))+"\n        ")]),t._v(" "),e("div",{staticClass:"clan-preview-details__prop"},[e("span",{staticClass:"clan-preview-details__prop-title"},[t._v("\n            Участников\n          ")]),t._v("\n          "+t._s(t.$formatter.number.toInteger(t.clan.members_count))+"\n        ")]),t._v(" "),t.clan.old_tag?e("div",{staticClass:"clan-preview-details__prop"},[e("span",{staticClass:"clan-preview-details__prop-title"},[t._v("\n            Старое название\n          ")]),t._v("\n          ["+t._s(t.clan.old_tag)+"] "+t._s(t.clan.old_name)+"\n        ")]):t._e()])]):t._e(),t._v(" "),e("div",{staticClass:"clan-preview-details__section"},[e("h5",{staticClass:"clan-preview-details__props-title"},[e("SvgIcon",{staticClass:"clan-preview-details__prop-title-icon",attrs:{"icon-name":"person-search"}}),t._v("\n        Рекрутинг\n      ")],1),t._v(" "),e("div",{staticClass:"clan-preview-details__props"},[e("div",{staticClass:"clan-preview-details__prop"},[e("span",{staticClass:"clan-preview-details__prop-title"},[t._v("\n            Политика приёма.\n          ")]),t._v("\n          "+t._s(t.$formatter.clan.recruitingPolicy(t.clan.recruiting_policy))+".\n        ")]),t._v(" "),"open"===t.clan.recruiting_policy&&t.clan.recruiting_options?[e("div",{staticClass:"clan-preview-details__props-subtitle"},[t._v("\n            Пороги статистики для вступления:\n          ")]),t._v(" "),e("div",{staticClass:"clan-preview-details__prop"},[e("span",{staticClass:"clan-preview-details__prop-title"},[t._v("\n              Боёв в день\n            ")]),t._v("\n            "+t._s(t.$formatter.number.toInteger(t.clan.recruiting_options.average_battles_per_day))+"\n          ")]),t._v(" "),e("div",{staticClass:"clan-preview-details__prop"},[e("span",{staticClass:"clan-preview-details__prop-title"},[t._v("\n              Боёв всего\n            ")]),t._v("\n            "+t._s(t.$formatter.number.toInteger(t.clan.recruiting_options.battles))+"\n          ")]),t._v(" "),e("div",{staticClass:"clan-preview-details__prop"},[e("span",{staticClass:"clan-preview-details__prop-title"},[t._v("\n              Урон ср.\n            ")]),t._v("\n            "+t._s(t.$formatter.number.toInteger(t.clan.recruiting_options.average_damage))+"\n          ")]),t._v(" "),e("div",{staticClass:"clan-preview-details__prop"},[e("span",{staticClass:"clan-preview-details__prop-title"},[t._v("\n              Уровень\n            ")]),t._v("\n            "+t._s(t.$formatter.number.toInteger(t.clan.recruiting_options.vehicles_level))+"\n          ")]),t._v(" "),e("div",{staticClass:"clan-preview-details__prop"},[e("span",{staticClass:"clan-preview-details__prop-title"},[t._v("\n              Побед\n            ")]),t._v("\n            "+t._s(t.$formatter.number.toInteger(t.clan.recruiting_options.wins_ratio))+"%\n          ")])]:t._e()],2)])])])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{SvgIcon:n(115).default,SocialLinks:n(721).default})},820:function(t,e,n){"use strict";n(747)},821:function(t,e,n){var r=n(67)((function(i){return i[1]}));r.push([t.i,'.clan-preview-details__body{padding:20px 0}.clan-preview-details__section+.clan-preview-details__section{border-top:1px solid var(--border-color-light);margin:20px 0 0;padding:20px 0 0}.clan-preview-details__props-title{font-weight:500;margin:0 0 14px}.clan-preview-details__props-subtitle,.clan-preview-details__props-title{align-items:flex-start;color:var(--color-text-light);display:flex;font-size:14px;line-height:1.5}.clan-preview-details__props-subtitle{margin:0;width:100%}.clan-preview-details__prop-title-icon{color:var(--color-text);flex:none;margin:-2px 8px 0 0}.clan-preview-details__props{align-items:center;display:flex;flex-wrap:wrap;gap:20px 30px}.clan-preview-details__prop{display:flex;flex-direction:column;min-width:0}.clan-preview-details__prop--row{width:100%}.clan-preview-details__prop-title{color:var(--color-text-light);font-size:12px;max-width:350px}.clan-preview-details__motto{font-style:italic;margin:0 0 20px}.clan-preview-details__desc{max-height:80px;overflow:hidden;position:relative;transition:max-height .3s;white-space:pre-line;will-change:max-height}.clan-preview-details__desc:after{background-image:linear-gradient(to top,var(--bg-color),transparent);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0;transition:opacity .3s}.clan-preview-details__desc--expended{max-height:1000px;overflow:auto}.clan-preview-details__desc--expended:after{opacity:0}.clan-preview-details__desc-expend-btn{align-items:center;height:40px;margin:10px 0 0}',""]),r.locals={},t.exports=r},822:function(t,e,n){var content=n(859);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(68).default)("3917e87e",content,!0,{sourceMap:!1})},823:function(t,e,n){"use strict";n(748)},824:function(t,e,n){var r=n(67)((function(i){return i[1]}));r.push([t.i,"",""]),r.locals={},t.exports=r},825:function(t,e,n){var content=n(861);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(68).default)("0895462e",content,!0,{sourceMap:!1})},826:function(t,e,n){var content=n(863);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(68).default)("4a72b615",content,!0,{sourceMap:!1})},844:function(t,e,n){"use strict";n.r(e);n(44),n(185),n(349),n(72);var r=n(33),o=n(32),l=n(35),c=n(36),d=n(23),f=n(20),v=(n(3),n(1),n(37),n(15)),_=n(650);function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(d.a)(t);if(e){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var m=function(t,e,n,desc){var r,o=arguments.length,l=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l},y=function(t){Object(l.a)(n,t);var e=h(n);function n(){var t;return Object(o.a)(this,n),(t=e.apply(this,arguments)).name="FiltersSearch",t}return Object(r.a)(n)}(v.Vue);m([Object(v.Prop)({required:!0})],y.prototype,"filters",void 0),m([Object(v.Prop)()],y.prototype,"placeholder",void 0);var x=y=m([Object(v.Component)({components:{CInput:_.default}})],y),w=(n(823),n(34)),component=Object(w.a)(x,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("CInput",{staticClass:"filters-search",attrs:{type:"search",placeholder:"Введите ник"},model:{value:t.filters.search,callback:function(e){t.$set(t.filters,"search","string"==typeof e?e.trim():e)},expression:"filters.search"}})}),[],!1,null,null,null);e.default=component.exports},858:function(t,e,n){"use strict";n(822)},859:function(t,e,n){var r=n(67)((function(i){return i[1]}));r.push([t.i,'.clan-preview__emblem-img:after,.clan-preview__emblem-img:before{bottom:0;left:0;position:absolute;right:0;top:0}.clan-preview__emblem-img:before{background-color:var(--bg-color);border:1px solid var(--border-color-light);content:"";display:block}.clan-preview__emblem-img:after{align-items:center;color:var(--color-text-light);content:attr(data-text);display:flex;flex-wrap:wrap;font-size:10px;font-style:normal;justify-content:center;padding:4px;text-align:center;word-break:break-word}.clan-preview{background-color:var(--bg-color);border:1px solid var(--border-color-light);position:relative}.clan-preview__inner{align-items:center;display:flex;flex:1;justify-content:center;padding:10px 15px;position:relative}@media only screen and (max-width:480px){.clan-preview__inner{flex-direction:column}}.clan-preview__info{align-items:center;display:flex;flex:1;flex-direction:column;font-size:22px;max-width:100%;min-width:0;padding:12px}@media only screen and (max-width:1024px){.clan-preview__info{font-size:20px}}@media only screen and (max-width:640px){.clan-preview__info{font-size:18px}}.clan-preview__emblem{background-color:var(--bg-color-darken);border:1px solid var(--border-color-light);border-radius:50%;display:inline-flex;padding:8px;position:relative}.clan-preview__emblem-img{display:flex;height:64px;-o-object-fit:contain;object-fit:contain;width:64px}.clan-preview__title{display:flex;flex:1;flex-wrap:wrap;font-weight:500;gap:.3em;justify-content:center;max-width:100%}.clan-preview__tag{color:var(--color-orange)}.clan-preview__name,.clan-preview__tag{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.clan-preview__props{display:flex;flex-wrap:wrap;gap:16px;justify-content:center;margin:10px 0 0}.clan-preview__prop{align-items:center;display:flex;flex-direction:column;justify-content:stretch;white-space:nowrap}.clan-preview__prop-title{color:var(--color-text-light);font-size:12px}.clan-preview__prop-value{align-items:center;display:flex;flex:1;font-size:14px}.clan-preview__actions{align-items:center;display:flex;flex:none;flex-direction:column;justify-content:center}@media only screen and (max-width:480px){.clan-preview__actions{flex-direction:row}}.clan-preview__actions-btn{align-items:center;height:24px;justify-content:center;margin:4px 0;width:24px}@media only screen and (max-width:1024px){.clan-preview__actions-btn{height:40px;margin:0;width:40px}}.clan-preview__no-data{white-space:pre}',""]),r.locals={},t.exports=r},860:function(t,e,n){"use strict";n(825)},861:function(t,e,n){var r=n(67)((function(i){return i[1]}));r.push([t.i,".clan-view-filters__list{display:flex;flex-wrap:wrap;gap:10px}.clan-view-filters__item--search{min-width:300px}@media only screen and (max-width:1024px){.clan-view-filters__item--search{flex:1}}@media only screen and (max-width:640px){.clan-view-filters__item--search{width:calc(100vw - 28px)}}",""]),r.locals={},t.exports=r},862:function(t,e,n){"use strict";n(826)},863:function(t,e,n){var r=n(67)((function(i){return i[1]}));r.push([t.i,".clan-events{display:inline-flex}.clan-events__inner{position:relative}.clan-events__panel{align-items:center;display:flex;justify-content:space-between}.clan-events__prop{display:flex;flex-wrap:wrap}.clan-events__prop:not(:last-child){margin:0 0 4px}.clan-events__prop-title{color:var(--color-text-light);font-size:14px;margin:0 10px 0 0;width:100%}.clan-events__prop-value{margin:0 4px 0 0}.clan-events__btn{color:var(--color-text);position:relative}.clan-events__btn--has-unread{color:var(--color-text-link)}.clan-events__count{background-color:var(--bg-color);border:1px solid var(--border-color-light);bottom:0;display:inline-flex;font-size:10px;justify-content:center;line-height:1.4;min-width:14px;padding:0 2px;pointer-events:none;position:absolute;right:0}",""]),r.locals={},t.exports=r},886:function(t,e,n){"use strict";n.r(e);n(37),n(72);var r=n(13),o=n(32),l=n(33),c=n(35),d=n(36),f=n(23),v=n(20),_=(n(43),n(3),n(1),n(7),n(15)),h=n(114),m=n(721),y=n(226),x=n(152),w=n(115),k=n(678),C=n(105),O=n(53),j=n(801);function R(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var P=function(t,e,n,desc){var r,o=arguments.length,l=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l},B=function(t){Object(c.a)(v,t);var e,n,d,f=R(v);function v(){var t;return Object(o.a)(this,v),(t=f.apply(this,arguments)).name="ClanPreview",t.notify=C.a.notify(),t.isFavorite=!1,t}return Object(l.a)(v,[{key:"emblemUrl",get:function(){var t=this.clan.emblem_set_id;return t?"https://wotblitz-gc.gcdn.co/icons/clanEmblems1x/clan-icon-v2-".concat(t,".png"):""}},{key:"created",value:function(){this.getFavorites()}},{key:"getFavorites",value:(d=Object(r.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.indexedDB.clansFavorites.get(this.clan.clan_id);case 2:e=t.sent,this.isFavorite=!!e&&(null==e?void 0:e.isFavorite);case 4:case"end":return t.stop()}}),t,this)}))),function(){return d.apply(this,arguments)})},{key:"setToFavorites",value:(n=Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.clan){t.next=2;break}return t.abrupt("return");case 2:return this.isFavorite=!this.isFavorite,t.next=5,O.a.indexedDB.clansFavorites.set(this.clan.clan_id,{id:this.clan.clan_id,isFavorite:this.isFavorite});case 5:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"handleNicknameBtnClick",value:(e=Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(k.a)("".concat(this.clan.tag,"/").concat(this.clan.clan_id));case 2:t.sent?this.notify.add({type:"success",title:"Скопировано",message:"".concat(this.clan.tag,"/").concat(this.clan.clan_id),duration:3e3}):this.notify.add({type:"error",message:"Клан копировании что-то пошло не так",duration:3e3});case 4:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"handleOpenInfoBtn",value:function(){this.previewDetails.open()}},{key:"handleAddToFavoritesBtn",value:function(){this.setToFavorites()}}]),v}(_.Vue);P([Object(_.Prop)({default:!1})],B.prototype,"hideDescription",void 0),P([Object(_.Prop)({required:!0})],B.prototype,"clan",void 0),P([Object(_.Prop)()],B.prototype,"loading",void 0),P([Object(_.Ref)("previewDetails")],B.prototype,"previewDetails",void 0);var I=B=P([Object(_.Component)({components:{ClanPreviewDetails:j.default,SvgIcon:w.default,CDialog:x.default,CButton:h.default,SocialLinks:m.default,ContentLoader:y.default}})],B),D=(n(858),n(34)),component=Object(D.a)(I,(function(){var t,e,n,r,o=this,l=o._self._c;o._self._setupProxy;return l("div",{staticClass:"clan-preview"},[l("div",{staticClass:"clan-preview__inner"},[l("div",{staticClass:"clan-preview__emblem"},[l("img",{staticClass:"clan-preview__emblem-img",attrs:{"data-text":null!==(t=o.clan.clan_id)&&void 0!==t?t:"No image",alt:"Эмблема клана",src:o.emblemUrl}})]),o._v(" "),l("div",{staticClass:"clan-preview__info"},[l("div",{staticClass:"clan-preview__title"},[l("span",{staticClass:"clan-preview__tag"},[o._v("["+o._s(null!==(e=o.clan.tag)&&void 0!==e?e:"...")+"]")]),o._v(" "),l("span",{staticClass:"clan-preview__name"},[o._v(o._s(null!==(n=o.clan.name)&&void 0!==n?n:"..."))])]),o._v(" "),l("div",{staticClass:"clan-preview__props"},[l("div",{staticClass:"clan-preview__prop"},[l("span",{staticClass:"clan-preview__prop-title"},[o._v("\n            Участников\n          ")]),o._v(" "),l("span",{staticClass:"clan-preview__prop-value"},[o._v("\n            "+o._s(null!==(r=o.clan.members_count)&&void 0!==r?r:"---")+"\n          ")])]),o._v(" "),l("div",{staticClass:"clan-preview__prop"},[l("span",{staticClass:"clan-preview__prop-title"},[o._v("\n            События\n          ")]),o._v(" "),l("span",{staticClass:"clan-preview__prop-value"},[o._t("events")],2)])])]),o._v(" "),l("div",{staticClass:"clan-preview__actions"},[l("CButton",{staticClass:"clan-preview__actions-btn",attrs:{"is-text":"",title:"Копировать (nickname/ID)"},on:{click:o.handleNicknameBtnClick}},[l("SvgIcon",{attrs:{"icon-name":"content-copy"}})],1),o._v(" "),l("CButton",{staticClass:"clan-preview__actions-btn",attrs:{"is-text":"",title:"Добавить в избранные"},on:{click:o.handleAddToFavoritesBtn}},[o.isFavorite?l("SvgIcon",{attrs:{"icon-name":"star"}}):l("SvgIcon",{attrs:{"icon-name":"star-border"}})],1),o._v(" "),l("CButton",{staticClass:"clan-preview__actions-btn",attrs:{"is-text":"",title:"Полная информация"},on:{click:o.handleOpenInfoBtn}},[l("SvgIcon",{attrs:{"icon-name":"info"}})],1)],1)]),o._v(" "),l("ContentLoader",{attrs:{loading:o.loading}}),o._v(" "),l("ClanPreviewDetails",{ref:"previewDetails",attrs:{clan:o.clan}})],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{SvgIcon:n(115).default,ContentLoader:n(226).default,ClanPreviewDetails:n(801).default})},887:function(t,e,n){"use strict";n.r(e);n(44),n(185),n(72);var r=n(32),o=n(33),l=n(35),c=n(36),d=n(23),f=n(20),v=(n(3),n(1),n(37),n(15)),_=n(651),h=n(844),m=n(617),y=n(650);function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(d.a)(t);if(e){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var w=function(t,e,n,desc){var r,o=arguments.length,l=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l},k=function(t){Object(l.a)(n,t);var e=x(n);function n(){var t;return Object(r.a)(this,n),(t=e.apply(this,arguments)).name="ClanViewFilter",t.joinedAtOptions=[{value:null,label:"Не выбрано"},{value:"<3",label:"Меньше чем 3"},{value:"<5",label:"Меньше чем 5"},{value:"<7",label:"Меньше чем 7"},{value:">3",label:"Больше чем 3"},{value:">5",label:"Больше чем 5"},{value:">7",label:"Больше чем 7"}],t.lastBattleDaysOptions=[{value:null,label:"Не выбрано"},{value:"<1",label:"Меньше чем 1"},{value:"<3",label:"Меньше чем 3"},{value:">3",label:"Больше чем 3"},{value:">5",label:"Больше чем 5"},{value:">7",label:"Больше чем 7"}],t}return Object(o.a)(n,[{key:"filtersChange",value:function(){return this.filters}},{key:"handleFilters",value:function(){this.filtersChange()}}]),n}(v.Vue);w([Object(v.Prop)({required:!0,default:_.a.makeClanFilters()})],k.prototype,"filters",void 0),w([Object(v.Emit)()],k.prototype,"filtersChange",null);var C=k=w([Object(v.Component)({components:{CInput:y.default,CSelect:m.default,FiltersSearch:h.default}})],k),O=(n(860),n(34)),component=Object(O.a)(C,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"clan-view-filters"},[e("div",{staticClass:"clan-view-filters__list"},[e("div",{staticClass:"clan-view-filters__item clan-view-filters__item--search"},[e("div",{staticClass:"clan-view-filters__item-title"},[t._v("\n        Поиск в клане\n      ")]),t._v(" "),e("CInput",{staticStyle:{width:"100%"},attrs:{placeholder:"Введите ник",type:"search"},model:{value:t.filters.search,callback:function(e){t.$set(t.filters,"search",e)},expression:"filters.search"}})],1),t._v(" "),e("div",{staticClass:"clan-view-filters__item"},[e("div",{staticClass:"clan-view-filters__item-title"},[t._v("\n        Дней в клане\n      ")]),t._v(" "),e("CSelect",{staticStyle:{width:"150px"},attrs:{options:t.joinedAtOptions},on:{change:t.handleFilters},model:{value:t.filters.joinedAtDays,callback:function(e){t.$set(t.filters,"joinedAtDays",e)},expression:"filters.joinedAtDays"}})],1),t._v(" "),e("div",{staticClass:"clan-view-filters__item"},[e("div",{staticClass:"clan-view-filters__item-title"},[t._v("\n        Дней отсутствовал\n      ")]),t._v(" "),e("CSelect",{staticStyle:{width:"150px"},attrs:{options:t.lastBattleDaysOptions},on:{change:t.handleFilters},model:{value:t.filters.lastBattleDays,callback:function(e){t.$set(t.filters,"lastBattleDays",e)},expression:"filters.lastBattleDays"}})],1)])])}),[],!1,null,null,null);e.default=component.exports},888:function(t,e,n){"use strict";n.r(e);n(72);var r=n(32),o=n(33),l=n(35),c=n(36),d=n(23),f=n(20),v=(n(3),n(1),n(37),n(5),n(154),n(116),n(117),n(15)),_=n(114),h=n(152),m=n(362),y=n.n(m);function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(d.a)(t);if(e){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var w=function(t,e,n,desc){var r,o=arguments.length,l=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l},k=function(t){Object(l.a)(n,t);var e=x(n);function n(){var t;return Object(r.a)(this,n),(t=e.apply(this,arguments)).name="ClanEvents",t}return Object(o.a)(n,[{key:"changesCount",get:function(){return this.joinedMembers.length+this.leftMembers.length}},{key:"leftMembers",get:function(){var t,e,n,r,o=null!==(t=null===(e=this.clan)||void 0===e?void 0:e.members_ids)&&void 0!==t?t:[],l=null!==(n=null===(r=this.savedClan)||void 0===r?void 0:r.members)&&void 0!==n?n:[];return Object.values(l).filter((function(i){return!o.includes(i.account_id)}))}},{key:"joinedMembers",get:function(){var t,e,n,r,o=null!==(t=null===(e=this.clan)||void 0===e?void 0:e.members)&&void 0!==t?t:[],l=null!==(n=null===(r=this.savedClan)||void 0===r?void 0:r.members_ids)&&void 0!==n?n:[];return Object.values(o).filter((function(i){return!l.includes(i.account_id)}))}},{key:"reset",value:function(){}},{key:"handleResetBtn",value:function(){this.reset(),this.dialogRef.doClose()}},{key:"handleClickEventsBtn",value:function(){this.dialogRef.doOpen()}},{key:"handleCloseBtn",value:function(){this.dialogRef.doClose()}}]),n}(v.Vue);w([Object(v.Prop)({required:!0})],k.prototype,"savedAt",void 0),w([Object(v.Prop)({required:!0})],k.prototype,"clan",void 0),w([Object(v.Prop)({required:!0})],k.prototype,"savedClan",void 0),w([Object(v.Ref)("dialog")],k.prototype,"dialogRef",void 0),w([Object(v.Emit)("reset")],k.prototype,"reset",null);var C=k=w([Object(v.Component)({components:{CDialog:h.default,CButton:_.default,MailIcon:y.a}})],k),O=(n(862),n(34)),component=Object(O.a)(C,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"clan-events"},[e("div",{staticClass:"clan-events__inner"},[e("CButton",{staticClass:"clan-events__btn",class:[t.changesCount?"clan-events__btn--has-unread":""],attrs:{disabled:!t.changesCount,"is-text":"","is-square":"",title:"События клана"},on:{click:t.handleClickEventsBtn}},[e("MailIcon")],1),t._v(" "),e("div",{staticClass:"clan-events__count"},[t._v("\n      "+t._s(t.changesCount>99?"99+":t.changesCount)+"\n    ")])],1),t._v(" "),e("CDialog",{ref:"dialog",attrs:{width:"640px",title:"События клана"},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"clan-events__prop"},[e("span",{staticClass:"clan-events__prop-title"},[t._v("\n          События от\n        ")]),t._v("\n        "+t._s(t.$formatter.date.toLocaleDateTime(t.savedAt))+" ("+t._s(t.$formatter.date.toDaysPassed(t.savedAt,Date.now()))+")\n      ")])]},proxy:!0},{key:"footer",fn:function(){return[e("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[e("div"),t._v(" "),e("div",[e("CButton",{on:{click:t.handleResetBtn}},[t._v("\n            Прочитано\n          ")]),t._v(" "),e("CButton",{on:{click:t.handleCloseBtn}},[t._v("\n            Закрыть\n          ")])],1)])]},proxy:!0}])},[t._v(" "),t.leftMembers.length?e("div",{staticClass:"clan-events__prop"},[e("span",{staticClass:"clan-events__prop-title"},[t._v("\n        Покинули ("+t._s(t.leftMembers.length)+")\n      ")]),t._v(" "),t._l(t.leftMembers,(function(n,r){return e("span",{key:n.account_id,staticClass:"clan-events__prop-value"},[e("nuxt-link",{staticClass:"link",attrs:{to:{name:"account-id",params:{id:n.account_id}}}},[t._v("\n          "+t._s(n.account_name)+"\n        ")]),t._v(t._s(r+1!==t.leftMembers.length?", ":"")+"\n      ")],1)}))],2):t._e(),t._v(" "),t.joinedMembers.length?e("div",{staticClass:"clan-events__prop"},[e("span",{staticClass:"clan-events__prop-title"},[t._v("\n        Вступили ("+t._s(t.joinedMembers.length)+")\n      ")]),t._v(" "),t._l(t.joinedMembers,(function(n,r){return e("span",{key:n.account_id,staticClass:"clan-events__prop-value"},[e("nuxt-link",{staticClass:"link",attrs:{to:{name:"account-id",params:{id:n.account_id}}}},[t._v("\n          "+t._s(n.account_name)+"\n        ")]),t._v(t._s(r+1!==t.joinedMembers.length?", ":"")+"\n      ")],1)}))],2):t._e(),t._v(" "),t.changesCount?t._e():e("span",[t._v("\n      Пока всё тихо ...\n    ")])])],1)}),[],!1,null,null,null);e.default=component.exports},919:function(t,e,n){var content=n(1017);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(68).default)("12faf308",content,!0,{sourceMap:!1})}}]);