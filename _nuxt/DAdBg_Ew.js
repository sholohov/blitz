import{d as K,z as U,r as b,e as p,m as $,A as L,o as n,q as i,g as s,h,s as j,j as c,w as u,t as k,v as g,y as q,_ as A,F,C as I,aK as R,a4 as T,I as D,E as y}from"./Divx9Nzj.js";import{_ as G}from"./C6J5xBRa.js";import{u as H}from"./4hdVvK08.js";import{d as m}from"./DD4asW33.js";const J={class:"ui-select__input"},P={key:0,class:"ui-select__list"},ee=K({__name:"UiSelect",props:y({options:{type:Array,required:!0,default:()=>[]},disabled:{type:Boolean,default:!1},idKey:{type:[Number,String],default:void 0},width:{type:String,default:void 0}},{modelValue:{},modelModifiers:{}}),emits:y(["input","change"],["update:modelValue"]),setup(e,{emit:w}){const d=U(e,"modelValue"),C=H(),B=e,f=b(),a=b(!1),S=Object.freeze({value:null,label:"Выбрать"}),O=p(()=>B.options.find(t=>t.value===d.value)??S),o=p(()=>C.isMobile);$(()=>{window.addEventListener("click",_)}),L(()=>{window.removeEventListener("click",_)});const v=w;function V(){o.value&&m(!0),a.value=!a.value}function M(t){o.value&&m(!1),d.value=t.value,a.value=!1,v("input",t.value),v("change",t.value)}function _(t){var r;(r=f.value)!=null&&r.contains(t.target)||(a.value=!1)}function x(){a.value=!1,m(!1)}return(t,r)=>{const N=q,z=A,E=G;return n(),i("div",{ref_key:"wrapperRef",ref:f,class:D(["ui-select",["ui-select--is-"+(s(a)?"opened":"closed"),s(o)?"ui-select--is-mobile":""]]),style:T({width:e.width})},[s(o)&&s(a)&&e.options.length?(n(),i("div",{key:0,class:"ui-select__backdrop",onClick:x})):h("",!0),j("div",J,[c(z,{disabled:e.disabled,class:"ui-select__trigger",onClick:V},{after:u(()=>[c(N,{name:"arrow-down",class:"ui-select__arrow"})]),default:u(()=>[k(g(s(O).label)+" ",1)]),_:1},8,["disabled"]),c(R,{name:"ui-select__list-"},{default:u(()=>[s(a)&&e.options.length?(n(),i("ul",P,[(n(!0),i(F,null,I(e.options,l=>(n(),i("li",{key:e.idKey?l[e.idKey]:l.value,class:"ui-select__item"},[c(E,{"model-value":l.value===d.value,disabled:l.disabled,class:"ui-select__item-btn","no-border":"",onChange:Q=>M(l)},{default:u(()=>[k(g(l.label),1)]),_:2},1032,["model-value","disabled","onChange"])]))),128))])):h("",!0)]),_:1})])],6)}}});export{ee as _};
