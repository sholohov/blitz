import{_ as C,d as A}from"./DtA1LByL.js";import{_ as M}from"./DGLDZ4cR.js";import{_ as R}from"./BkXTMpOT.js";import{f as y,g as B,i as $,o as r,c as g,a as e,k as a,t as S,j as p,w as m,d as w,F as D,m as v,r as N,b as l,C as I,L as E,D as F,Y as X,A as Y,Z,z as L,R as G,$ as W,S as J,X as K,a0 as Q,s as x,q as ee,G as te}from"./ByGHtsLc.js";import{_ as ae}from"./g4g0RxE0.js";import{_ as oe,g as se,b as ne}from"./BQPDEBlD.js";import{u as ie}from"./DFAQjZIE.js";import{s as q}from"./DRW9HJMp.js";import{u as T}from"./CMJjbvSz.js";import{a as H}from"./DuSj7eF3.js";import{u as O}from"./DyNKK-9z.js";import{_ as j}from"./BKiIIqfs.js";import re from"./DTODm7N5.js";import{_ as ce}from"./D-G4pc_H.js";import le from"./tpf4pI7Z.js";import _e from"./x1I6SI8R.js";import{a as de}from"./C4sXLknC.js";const ue={class:"breadcrumbs-navigation"},me={class:"breadcrumbs-navigation__inner"},ge={key:0,class:"breadcrumbs-navigation__root"},pe=e("span",{class:"breadcrumbs-navigation__separator"},null,-1),he={class:"breadcrumbs-navigation__current"},fe=y({__name:"BreadcrumbsNavigation",setup(u){const n=B(),o=$(()=>{var i;return((i=String(n.name).split("-"))==null?void 0:i[0])??"index"}),c=$(()=>String(n.name??"")),s=$(()=>c.value===o.value);return(i,_)=>{const t=R;return r(),g("div",ue,[e("div",me,[a(s)?(r(),g("span",ge,S(i.$formatter.route.getTitle(a(o))),1)):(r(),p(t,{key:1,class:"breadcrumbs-navigation__root link",to:{name:a(o)}},{default:m(()=>[w(S(i.$formatter.route.getTitle(a(o))),1)]),_:1},8,["to"])),a(s)?v("",!0):(r(),g(D,{key:2},[pe,e("span",he,S(i.$formatter.route.getTitle(a(c))),1)],64))])])}}}),be={class:"login-switcher"},ve={key:0,class:"login-switcher__username"},ye={class:"login-switcher__username-text"},ke=e("div",{style:{margin:"0 0 1em"}}," Вы уверены, что хотите выйти из аккаунта? ",-1),$e={style:{"text-align":"right"}},Se=y({__name:"LoginSwitcher",setup(u){const n=ie(),o=T(),c=N(null),s=$(()=>n.accountId!==0);function i(t){var h;q.storage.getUser()&&(t&&H.logout(),(h=c.value)==null||h.doClose())}async function _(){var d;q.storage.getUser()?await((d=c.value)==null?void 0:d.doOpen()):await H.login()}return(t,d)=>{const h=C,f=M,k=oe;return r(),g("div",be,[a(o).isTablet?v("",!0):(r(),g("div",ve,[e("span",ye,S(a(n).name),1)])),l(f,{class:"login-switcher__btn","is-text":"","is-square":"",align:"center",title:a(s)?"Выйти":"Войти",onClick:_},{default:m(()=>[l(h,{name:a(s)?"logout":"login"},null,8,["name"])]),_:1},8,["title"]),l(k,{ref_key:"logoutConfirmRef",ref:c,title:"Выход из аккаунта","append-to-body":""},{default:m(()=>[ke,e("div",$e,[l(f,{align:"center",width:"80px",onClick:d[0]||(d[0]=b=>i(!0))},{default:m(()=>[w(" Да ")]),_:1}),l(f,{align:"center",width:"80px",onClick:d[1]||(d[1]=b=>i(!1))},{default:m(()=>[w(" Нет ")]),_:1})])]),_:1},512)])}}}),xe={class:"page-header__inner"},we={class:"page-header__col page-header__col--left"},Ce={key:0,class:"page-header__col-item"},Te={class:"page-header__col-item"},Me={class:"page-header__col page-header__col--right"},Be={class:"page-header__col-item"},Ne={class:"page-header__col page-header__col--right"},Le={class:"page-header__col-item"},Re={class:"page-header__col-item"},Ie=y({__name:"PageHeader",props:{height:{type:Number,required:!0},isSticky:{type:Boolean,default:!1}},setup(u){const n=T(),o=O();function c(){o.toggleMainSearch(!0)}function s(){o.toggleMobileMenu(),A(!0)}return(i,_)=>{const t=C,d=M,h=fe,f=ae,k=Se;return r(),g("div",{class:I(["page-header",[u.isSticky?"page-header--is-sticky":"",a(n).isTablet?"page-header--is-mobile-view":""]]),style:E({height:u.height+"px"})},[e("div",xe,[e("div",we,[a(n).isTablet?(r(),g("div",Ce,[l(d,{"is-square":"","is-text":"",onClick:s},{default:m(()=>[l(t,{name:"menu"})]),_:1})])):v("",!0),e("div",Te,[l(h)])]),e("div",Me,[e("div",Be,[a(n).isTablet?v("",!0):(r(),p(f,{key:0,class:"page-header__search"}))])]),e("div",Ne,[e("div",Le,[a(n).isTablet?(r(),p(d,{key:0,"is-square":"","is-text":"",onClick:c},{default:m(()=>[l(t,{name:"search"})]),_:1})):v("",!0)]),e("div",Re,[l(k)])])])],6)}}}),Oe={class:"page-sidebar-header"},Pe={class:"page-sidebar-header__inner"},Ue={class:"page-sidebar-header__logo-icon"},qe=e("span",{class:"page-sidebar-header__logo-text"}," Blitz Commander ",-1),He=y({__name:"PageSidebarHeader",emits:["close"],setup(u,{emit:n}){const o=T(),c=n;return(s,i)=>{const _=C,t=M;return r(),g("div",Oe,[e("div",Pe,[(r(),p(F((s._.provides[X]||s.$route).name==="index"?"span":a(R)),{class:"page-sidebar-header__logo",to:"/"},{default:m(()=>[e("span",Ue,[l(a(re),{style:{width:"24px",height:"24px"}})]),qe]),_:1})),a(o).isMobile?(r(),p(t,{key:0,"is-square":"","is-text":"",class:"page-sidebar-header__close",onClick:i[0]||(i[0]=d=>c("close"))},{default:m(()=>[l(_,{name:"close"})]),_:1})):v("",!0)])])}}}),De={class:"navigation-list"},Ee={class:"navigation-list__list"},je={key:0,class:"navigation-list__link navigation-list__link--is-active"},Ve=y({__name:"NavigationList",props:{navigation:{type:Array,required:!0,default:()=>[]}},setup(u){const n=B();function o(c){return n.matched.some(s=>{const i=String(s.name).split("-")[0]??"index",_=String(c.to.name).split("-")[0]??"index";return i===_})}return(c,s)=>{const i=C,_=R;return r(),g("nav",De,[e("ul",Ee,[(r(!0),g(D,null,Y(u.navigation.filter(t=>!t.isHidden),t=>(r(),g("li",{key:t.key,class:"navigation-list__item"},[o(t)?(r(),g("span",je,[t.icon?(r(),p(i,{key:0,name:t.icon,class:"navigation-list__icon"},null,8,["name"])):v("",!0),w(" "+S(t.label),1)])):(r(),p(_,{key:1,class:"navigation-list__link",to:t.to},{default:m(()=>[t.icon?(r(),p(i,{key:0,name:t.icon,class:"navigation-list__icon"},null,8,["name"])):v("",!0),w(" "+S(t.label),1)]),_:2},1032,["to"]))]))),128))])])}}}),ze=()=>Z("color-mode").value,Ae=y({__name:"ThemeSwitcher",setup(u){const n=ze(),o=$(()=>n.value==="system"?"":n.value==="dark"?"light":"dark");function c(){const s=n.value==="light";n.preference=s?"dark":"light"}return(s,i)=>{const _=ce,t=M;return r(),p(t,{class:"theme-switcher","is-text":"","is-square":"",title:"Переключить тему",onClick:c},{default:m(()=>[l(_,null,{default:m(()=>[a(o)==="dark"?(r(),p(a(le),{key:0,class:"theme-switcher__icon"})):a(o)==="light"?(r(),p(a(_e),{key:1,class:"theme-switcher__icon"})):v("",!0)]),_:1})]),_:1})}}}),Fe={class:"page-sidebar__body"},Xe={class:"page-sidebar__footer"},Ye={class:"page-sidebar__prop"},Ze=e("span",{class:"page-sidebar__prop-title"},"Тема",-1),Ge={target:"_blank",href:"https://t.me/+kpbNPjc8nyZlMmIy",class:"page-sidebar__prop link"},We=e("span",{class:"page-sidebar__prop-title"},"Комьюнити",-1),Je={target:"_blank",href:"https://yoomoney.ru/to/4100118432687922",class:"page-sidebar__prop link"},Ke=e("span",{class:"page-sidebar__prop-title"},"Поблагодарить",-1),Qe={class:"page-sidebar__version"},et=y({__name:"PageSidebar",props:{isOpen:{type:Boolean,default:!1},navigation:{type:Array,default:()=>[]},headerHeight:{type:Number,default:0}},setup(u){const n=Q(),o=O(),c=B(),s=T(),i=$(()=>n.public.clientVersion);L(()=>s.isTablet,()=>{s.isTablet||o.toggleMobileMenu(!1)}),L(()=>c.name,(t,d)=>{t!==d&&setTimeout(()=>o.toggleMobileMenu(!1),300)},{immediate:!0});function _(){o.toggleMobileMenu(!1)}return(t,d)=>{const h=He,f=Ve,k=Ae,b=C,P=j;return r(),p(K,{name:"page-sidebar-",duration:600},{default:m(()=>[G(e("div",{class:I(["page-sidebar",[a(s).isTablet?"page-sidebar--mobile-view":""]]),onClick:W(_,["self"])},[l(P,{class:"page-sidebar__panel","inner-class":"page-sidebar__inner"},{default:m(()=>[l(h,{class:"page-sidebar__header",style:E({height:u.headerHeight+"px"}),onClose:_},null,8,["style"]),e("div",Fe,[l(f,{class:"page-sidebar__navigation",navigation:u.navigation},null,8,["navigation"])]),e("div",Xe,[e("label",Ye,[l(k),Ze]),e("a",Ge,[l(b,{name:"telegram",style:{margin:"6px"}}),We]),e("a",Je,[l(b,{name:"savings",style:{margin:"6px"}}),Ke]),e("div",Qe," v"+S(a(i)),1)])]),_:1})],2),[[J,u.isOpen]])]),_:1})}}});var tt=de,at=ne,ot="Expected a function";function st(u,n,o){var c=!0,s=!0;if(typeof u!="function")throw new TypeError(ot);return at(o)&&(c="leading"in o?!!o.leading:c,s="trailing"in o?!!o.trailing:s),tt(u,n,{leading:c,maxWait:n,trailing:s})}var nt=st;const it=se(nt),rt={class:"page-layout__header"},ct={class:"page-layout__main"},lt={class:"page-layout__sidebar"},Tt=y({__name:"PageLayout",emits:["scroll"],setup(u,{emit:n}){const o=B(),c=O(),s=T(),i=N(!1),_=N(54),t=[{label:x.route.getTitle("index"),key:"main",to:{name:"index"},icon:"home"},{label:x.route.getTitle("account"),key:"account",to:{name:"account"},icon:"person"},{label:x.route.getTitle("clan"),key:"clan",to:{name:"clan"},icon:"groups"},{label:x.route.getTitle("leaderboards"),key:"leaderboards",to:{name:"leaderboards"},icon:"leaderboard"},{label:x.route.getTitle("tournaments"),key:"tournaments",to:{name:"tournaments"},icon:"emoji-events"},{label:x.route.getTitle("widgets"),key:"widgets",to:{name:"widgets"},icon:"widgets"}],d=$(()=>s.isTablet?c.mobileMenuOpened:!0),h=n;L(()=>o.fullPath,()=>{c.toggleMobileMenu(!1)}),ee(()=>{window==null||window.addEventListener("scroll",f),f()});const f=it(k,60);function k(){const b=window.scrollY;i.value=b>1,h("scroll",b)}return(b,P)=>{const V=Ie,U=j,z=et;return r(),g("div",{class:I(["page-layout",[a(i)?"page-layout--is-scrolled":"",a(s).isTablet?"page-layout--mobile-view":""]])},[e("header",rt,[l(U,null,{default:m(()=>[l(V,{"is-sticky":a(i),height:a(_)},null,8,["is-sticky","height"])]),_:1})]),e("main",ct,[l(U,null,{default:m(()=>[te(b.$slots,"default")]),_:3})]),e("aside",lt,[l(z,{navigation:t,"is-open":a(d),"header-height":a(_)},null,8,["is-open","header-height"])])],2)}}});export{Tt as _};
