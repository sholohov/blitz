import{d as U,x as b,y as $,r as p,c as h,k as K,z as L,o as n,l as i,f as s,g as k,m as R,h as c,w as u,q as g,t as y,F as q,B as F,ak as T,E as j,R as A,_ as D,v as I}from"./CKv8GwDH.js";import{_ as G}from"./SiXtYWfA.js";import{u as H}from"./Bi8rSdHQ.js";import{d as m}from"./DD4asW33.js";const J={class:"ui-select__input"},P={key:0,class:"ui-select__list"},ee=U({__name:"UiSelect",props:b({options:{type:Array,required:!0,default:()=>[]},disabled:{type:Boolean,default:!1},idKey:{type:[Number,String],default:void 0},width:{type:String,default:void 0}},{modelValue:{},modelModifiers:{}}),emits:b(["input","change"],["update:modelValue"]),setup(e,{emit:w}){const d=$(e,"modelValue"),B=H(),C=e,f=p(),a=p(!1),S=Object.freeze({value:null,label:"Выбрать"}),O=h(()=>C.options.find(t=>t.value===d.value)??S),o=h(()=>B.isMobile);K(()=>{window.addEventListener("click",_)}),L(()=>{window.removeEventListener("click",_)});const v=w;function V(){o.value&&m(!0),a.value=!a.value}function x(t){o.value&&m(!1),d.value=t.value,a.value=!1,v("input",t.value),v("change",t.value)}function _(t){var r;(r=f.value)!=null&&r.contains(t.target)||(a.value=!1)}function M(){a.value=!1,m(!1)}return(t,r)=>{const N=D,z=I,E=G;return n(),i("div",{ref_key:"wrapperRef",ref:f,class:j(["ui-select",["ui-select--is-"+(s(a)?"opened":"closed"),s(o)?"ui-select--is-mobile":""]]),style:A({width:e.width})},[s(o)&&s(a)&&e.options.length?(n(),i("div",{key:0,class:"ui-select__backdrop",onClick:M})):k("",!0),R("div",J,[c(z,{disabled:e.disabled,class:"ui-select__trigger",onClick:V},{after:u(()=>[c(N,{name:"arrow-down",class:"ui-select__arrow"})]),default:u(()=>[g(y(s(O).label)+" ",1)]),_:1},8,["disabled"]),c(T,{name:"ui-select__list-"},{default:u(()=>[s(a)&&e.options.length?(n(),i("ul",P,[(n(!0),i(q,null,F(e.options,l=>(n(),i("li",{key:e.idKey?l[e.idKey]:l.value,class:"ui-select__item"},[c(E,{"model-value":l.value===d.value,disabled:l.disabled,class:"ui-select__item-btn","no-border":"",onChange:Q=>x(l)},{default:u(()=>[g(y(l.label),1)]),_:2},1032,["model-value","disabled","onChange"])]))),128))])):k("",!0)]),_:1})])],6)}}});export{ee as _};
