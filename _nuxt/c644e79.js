(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{510:function(e,t,n){"use strict";var o=n(1),r=n(5),c=n(42),l=n(43),m=n(44),d=n(222),f=n(26),v=n(4),h=n(221),_=n(179),y=n(335),x=n(336),w=n(125),k=n(337),C=[],j=r(C.sort),O=r(C.push),M=v((function(){C.sort(void 0)})),R=v((function(){C.sort(null)})),A=_("sort"),P=!v((function(){if(w)return w<70;if(!(y&&y>3)){if(x)return!0;if(k)return k<603;var code,e,t,n,o="";for(code=65;code<76;code++){switch(e=String.fromCharCode(code),code){case 66:case 69:case 70:case 72:t=3;break;case 68:case 71:t=4;break;default:t=2}for(n=0;n<47;n++)C.push({k:e+n,v:t})}for(C.sort((function(a,b){return b.v-a.v})),n=0;n<C.length;n++)e=C[n].k.charAt(0),o.charAt(o.length-1)!==e&&(o+=e);return"DGBEFHACIJK"!==o}}));o({target:"Array",proto:!0,forced:M||!R||!A||!P},{sort:function(e){void 0!==e&&c(e);var t=l(this);if(P)return void 0===e?j(t):j(t,e);var n,o,r=[],v=m(t);for(o=0;o<v;o++)o in t&&O(r,t[o]);for(h(r,function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:f(t)>f(n)?1:-1}}(e)),n=m(r),o=0;o<n;)t[o]=r[o++];for(;o<v;)d(t,o++);return t}})},512:function(e,t,n){"use strict";var o=n(1),r=n(48).find,c=n(177),l="find",m=!0;l in[]&&Array(1)[l]((function(){m=!1})),o({target:"Array",proto:!0,forced:m},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),c(l)},552:function(e,t,n){"use strict";n.r(t);n(28),n(38),n(83),n(100);var o=n(31),r=n(32),c=n(33),l=n(46),m=n(47),d=n(22),f=n(11),v=(n(27),n(8),n(39),n(181),n(510),n(78),n(41),n(84),n(60),n(512),n(10)),h=n(220),_=n(146);function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(m.a)(this,n)}}var x=function(e,t,n,desc){var o,r=arguments.length,c=r<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(r<3?o(c):r>3?o(t,n,c):o(t,n))||c);return r>3&&c&&Object.defineProperty(t,n,c),c},w=function(e){Object(l.a)(n,e);var t=y(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).name="Achievements",e.currentMedal=null,e.showAll=!1,e.sections={battle:6,epic:5,step:4,commemorative:3,title:2,platoon:1},e}return Object(c.a)(n,[{key:"achievementsCount",get:function(){return Object.keys(this.achievements).length}},{key:"items",get:function(){var e=this,t=Object.entries(this.achievements).map((function(t){var n,r,c,l=Object(o.a)(t,2),m=l[0],d=l[1],f=e.info[m],v={key:m,count:d,condition:null!==(n=f.condition)&&void 0!==n?n:"",description:null!==(r=f.description)&&void 0!==r?r:"",image:"/img/medals/".concat(m.replace("RU",""),".webp"),name:null!==(c=f.name)&&void 0!==c?c:"",section:f.section,isSeries:!1};return f.options&&(v.name=f.options[d-1].name,v.image="/img/medals/".concat(m.replace("RU","")).concat(d,".webp"),v.count=0),v.name=v.name.replace(/\(.+\)/,""),v})).sort((function(a,b){return a.key.localeCompare(b.key)}));return this.showAll?t.sort((function(a,b){return e.sections[b.section]-e.sections[a.section]})):["markOfMastery","markOfMasteryI","markOfMasteryII","markOfMasteryIII","heroesOfRassenay","medalLafayettePool","medalRadleyWalters","warrior","medalKolobanov","mainGun","sniper","camper","medalBrothersInArms","medalCrucialContribution"].reduce((function(e,n){var o=t.find((function(i){return i.key===n}));return o&&e.push(o),e}),[])}},{key:"open",value:function(e){return e}},{key:"handleMedalView",value:function(e){var t,n,o,r;this.currentMedal=null!==(t=this.items.find((function(i){return i.key===e})))&&void 0!==t?t:null,console.log("-----------------"),console.log("key:",e),console.log("section:",null===(n=this.info[e])||void 0===n?void 0:n.section),console.log("name:",null===(o=this.info[e])||void 0===o?void 0:o.name),console.log("options:",null===(r=this.info[e].options)||void 0===r?void 0:r.length),console.log("count:",this.achievements[e]),console.log("series:",this.maxSeries[e]),console.log("-----------------"),this.detailsRef.doOpen()}},{key:"handleShowAll",value:function(){this.showAll=!this.showAll,this.open(this.showAll)}}]),n}(v.Vue);x([Object(v.Prop)({required:!0})],w.prototype,"achievements",void 0),x([Object(v.Prop)({required:!0})],w.prototype,"maxSeries",void 0),x([Object(v.Prop)({required:!0})],w.prototype,"info",void 0),x([Object(v.Prop)({default:!1})],w.prototype,"showSignificant",void 0),x([Object(v.Ref)("main")],w.prototype,"mainRef",void 0),x([Object(v.Ref)("details")],w.prototype,"detailsRef",void 0),x([Object(v.Emit)()],w.prototype,"open",null);var k=w=x([Object(v.Component)({components:{CButton:_.default,CDialog:h.default}})],w),C=(n(660),n(34)),component=Object(C.a)(k,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{ref:"main",staticClass:"achievements"},[e.achievementsCount?t("div",{staticClass:"achievements__inner"},[e.items.length?t("transition-group",{staticClass:"achievements__list",attrs:{tag:"ul",name:"achievements__item-"}},e._l(e.items,(function(n){return t("li",{key:n.key,staticClass:"achievements__item"},[t("button",{staticClass:"achievements__item-btn",on:{click:function(t){return e.handleMedalView(n.key)}}},[t("span",{staticClass:"achievements__item-inner"},[t("span",{staticClass:"achievements__item-img-wrapper"},[t("img",{staticClass:"achievements__item-img",attrs:{src:n.image,alt:n.key,"data-name":n.name}}),e._v(" "),n.count?t("span",{staticClass:"achievements__item-count",class:[n.isSeries?"achievements__item-count--is-series":""]},[e._v("\n                "+e._s(n.count)+"\n              ")]):e._e()]),e._v(" "),e.showAll?t("span",{staticClass:"achievements__item-details"},[e._v("\n              "+e._s(n.name)+"\n            ")]):e._e()])])])})),0):t("div",{staticClass:"achievements__empty"},[e._v("\n      Нет значимых достижений\n    ")]),e._v(" "),t("CButton",{staticClass:"achievements__show-all",on:{click:e.handleShowAll}},[e._v("\n      Показать "+e._s(e.showAll?"значимые":"все")+"\n    ")]),e._v(" "),t("CDialog",{ref:"details",attrs:{width:"640px"},scopedSlots:e._u([{key:"footer",fn:function(){return[t("div",{staticClass:"achievements__details-footer"},[t("CButton",{on:{click:function(t){return e.detailsRef.doClose()}}},[e._v("\n            Закрыть\n          ")])],1)]},proxy:!0}],null,!1,4251205422)},[e.currentMedal?t("div",{staticClass:"achievements__details"},[t("div",{staticClass:"achievements__details-header"},[t("img",{staticClass:"achievements__details-img",attrs:{src:e.currentMedal.image,alt:e.currentMedal.key,"data-name":e.currentMedal.name}}),e._v(" "),t("span",{staticClass:"achievements__details-name"},[e._v("\n            "+e._s(e.currentMedal.name)+"\n          ")])]),e._v(" "),t("div",{staticClass:"achievements__details-body"},[e.currentMedal.description?t("p",{domProps:{textContent:e._s(e.currentMedal.description)}}):e._e(),e._v(" "),e.currentMedal.condition?t("p",{domProps:{textContent:e._s(e.currentMedal.condition)}}):e._e()])]):e._e()])],1):t("div",{staticClass:"achievements__empty"},[e._v("\n    Нет достижений\n  ")])])}),[],!1,null,null,null);t.default=component.exports},592:function(e,t,n){var content=n(661);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(82).default)("6b5f3d84",content,!0,{sourceMap:!1})},660:function(e,t,n){"use strict";n(592)},661:function(e,t,n){var o=n(81)((function(i){return i[1]}));o.push([e.i,'.achievements__item-btn{-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;-webkit-appearance:none;background:transparent;border:none;color:inherit;font:inherit;line-height:normal;overflow:visible;padding:0;text-align:inherit;width:auto}.achievements__item-btn::-moz-focus-inner{border:0;padding:0}.achievements__item-btn:focus{outline:none}.achievements img:after,.achievements img:before{bottom:0;left:0;position:absolute;right:0;top:0}.achievements img:before{background-color:var(--bg-color);border:1px solid var(--border-color-light);content:"";display:block}.achievements img:after{align-items:center;content:attr(data-name);display:flex;flex-wrap:wrap;font-size:10px;font-style:normal;justify-content:center;padding:4px;text-align:center;word-break:break-word}.achievements img:after,.achievements__empty{color:var(--color-text-light)}.achievements__list{display:flex;flex-wrap:wrap;justify-content:space-around;list-style:none;margin:0;padding:0}.achievements__item{display:flex;position:relative;transition:all .2s}.achievements__item--enter,.achievements__item--leave-to{opacity:0}.achievements__item--leave-active{position:absolute}.achievements__item-btn{align-items:flex-start;cursor:pointer;display:flex;justify-content:center;min-width:100px;padding:16px 6px;position:relative}.achievements__item-btn:before{background-color:var(--color-primary);bottom:0;content:"";left:0;opacity:0;pointer-events:none;position:absolute;right:0;top:0;transition:opacity .2s}.achievements__item-btn:hover:before{opacity:.05}.achievements__item-inner{align-items:center;color:var(--color-text);display:flex;flex-direction:column;font-weight:400}.achievements__item-details{font-size:14px;margin:16px 0 0;text-align:center;width:140px}.achievements__item-img-wrapper{position:relative}.achievements__item-img{font-size:0;height:60px;-o-object-fit:contain;object-fit:contain;position:relative;width:60px}.achievements__item-count,.achievements__item-img{align-items:center;display:inline-flex;justify-content:center}.achievements__item-count{background-color:var(--bg-color);border:1px solid var(--border-color-light);bottom:-10px;color:var(--color-text);font-size:14px;height:20px;left:50%;padding:0 .25em;position:absolute;transform:translateX(-50%)}.achievements__item-count--is-series{background-color:var(--color-red)}.achievements__details-header{align-items:center;display:flex;flex-direction:column;flex-wrap:wrap}.achievements__details-img{display:inline-flex;height:100px;-o-object-fit:contain;object-fit:contain;position:relative;width:100px}.achievements__details-name{font-size:20px;font-weight:500;margin:10px 0}.achievements__details-body{padding:0;white-space:pre-line}.achievements__details-title{display:flex;margin:20px 0 6px}.achievements__details-footer{display:flex;justify-content:flex-end}.achievements__show-all{display:flex;margin:30px auto}',""]),o.locals={},e.exports=o}}]);