import{d as U,y as $,r as p,c as b,k as E,z as L,o as n,n as i,e as s,f as h,p as q,g as c,w as u,q as k,t as g,x as D,_ as F,F as R,B as T,aK as j,a4 as A,H,D as y}from"./CbpaTVLF.js";import{_ as I}from"./DSyc53rl.js";import{u as G}from"./CeC760OF.js";import{d as m}from"./DD4asW33.js";const J={class:"ui-select__input"},P={key:0,class:"ui-select__list"},ee=U({__name:"UiSelect",props:y({options:{type:Array,required:!0,default:()=>[]},disabled:{type:Boolean,default:!1},idKey:{type:[Number,String],default:void 0},width:{type:String,default:void 0}},{modelValue:{},modelModifiers:{}}),emits:y(["input","change"],["update:modelValue"]),setup(e,{emit:w}){const d=$(e,"modelValue"),B=G(),C=e,f=p(),a=p(!1),S=Object.freeze({value:null,label:"Выбрать"}),O=b(()=>C.options.find(t=>t.value===d.value)??S),o=b(()=>B.isMobile);E(()=>{window.addEventListener("click",_)}),L(()=>{window.removeEventListener("click",_)});const v=w;function V(){o.value&&m(!0),a.value=!a.value}function x(t){o.value&&m(!1),d.value=t.value,a.value=!1,v("input",t.value),v("change",t.value)}function _(t){var r;(r=f.value)!=null&&r.contains(t.target)||(a.value=!1)}function M(){a.value=!1,m(!1)}return(t,r)=>{const N=D,z=F,K=I;return n(),i("div",{ref_key:"wrapperRef",ref:f,class:H(["ui-select",["ui-select--is-"+(s(a)?"opened":"closed"),s(o)?"ui-select--is-mobile":""]]),style:A({width:e.width})},[s(o)&&s(a)&&e.options.length?(n(),i("div",{key:0,class:"ui-select__backdrop",onClick:M})):h("",!0),q("div",J,[c(z,{disabled:e.disabled,class:"ui-select__trigger",onClick:V},{after:u(()=>[c(N,{name:"arrow-down",class:"ui-select__arrow"})]),default:u(()=>[k(g(s(O).label)+" ",1)]),_:1},8,["disabled"]),c(j,{name:"ui-select__list-"},{default:u(()=>[s(a)&&e.options.length?(n(),i("ul",P,[(n(!0),i(R,null,T(e.options,l=>(n(),i("li",{key:e.idKey?l[e.idKey]:l.value,class:"ui-select__item"},[c(K,{"model-value":l.value===d.value,disabled:l.disabled,class:"ui-select__item-btn","no-border":"",onChange:Q=>x(l)},{default:u(()=>[k(g(l.label),1)]),_:2},1032,["model-value","disabled","onChange"])]))),128))])):h("",!0)]),_:1})])],6)}}});export{ee as _};
