import{_ as N,a as I,h as A,d as J}from"./disableScroll.DbQbNoWW.js";import{_ as D}from"./nuxt-link.B5LnOQLN.js";import{f as S,g as E,i as h,o as s,c as m,a as e,k as n,t as x,j as p,w as u,d as B,F as Y,m as k,r as R,b as l,C as j,K as W,D as Q,X as ee,A as te,Y as ne,z as H,Z as oe,$ as ae,a0 as se,s as C,q as ie,E as re}from"./entry.DnyhrCzd.js";import{a as ce,_ as X}from"./ContentBox.vue.1EWrA6dy.js";import{_ as le,g as _e,b as de}from"./CDialog.vue.CQlkuHhL.js";import{a as O,u as L,b as U}from"./index.D7cX-f-u.js";import{u as ue}from"./user.CdOYHEHf.js";import{s as q,a as F}from"./request.D7J0I_-4.js";import{a as ge}from"./index.BRuhnkRA.js";import me from"./leader.C8Lo4CF8.js";import{_ as Z}from"./client-only.BwacdUep.js";import pe from"./dark-mode.dGHoi32H.js";import he from"./light-mode.C-MYmDsT.js";import{a as fe}from"./debounce.DaU679KR.js";const be={class:"breadcrumbs-navigation"},ve={class:"breadcrumbs-navigation__inner"},ye={key:0,class:"breadcrumbs-navigation__root"},ke=e("span",{class:"breadcrumbs-navigation__separator"},null,-1),$e={class:"breadcrumbs-navigation__current"},Se=S({__name:"BreadcrumbsNavigation",setup(g){const i=E(),t=h(()=>{var c;return((c=String(i.name).split("-"))==null?void 0:c[0])??"index"}),r=h(()=>String(i.name??"")),o=h(()=>r===t);return(c,_)=>{const a=D;return s(),m("div",be,[e("div",ve,[n(o)?(s(),m("span",ye,x(c.$formatter.route.getTitle(n(t))),1)):(s(),p(a,{key:1,class:"breadcrumbs-navigation__root link",to:{name:n(t)}},{default:u(()=>[B(x(c.$formatter.route.getTitle(n(t))),1)]),_:1},8,["to"])),n(o)?k("",!0):(s(),m(Y,{key:2},[ke,e("span",$e,x(c.$formatter.route.getTitle(n(r))),1)],64))])])}}}),we={class:"login-switcher"},xe={key:0,class:"login-switcher__username"},Ce={class:"login-switcher__username-text"},Te=e("div",{style:{margin:"0 0 1em"}}," Вы уверены, что хотите выйти из аккаунта? ",-1),Me={style:{"text-align":"right"}},Be=S({__name:"LoginSwitcher",setup(g){const i=R(null),t=ue(),r=O(),o=L(),c=h(()=>t.accountId!==0),_=h(()=>o.isTablet||r.isTablet||r.isMobile);async function a(){try{const{data:d}=await F.auth.login({redirect_uri:location.href,nofollow:1});d&&(window.location.href=d.location)}catch(d){A(d,{title:"Вход в аккаунт"})}}async function v(){await F.auth.logout()}async function f(){await ge.auth.logout(),q.storage.removeUser(),t.resetUser(),location.assign("/")}async function b(){try{await v(),await f()}catch(d){A(d,{title:"Вход из аккаунта"})}}function $(d){q.storage.getUser()&&(d&&b(),i.value.doClose())}async function w(){q.storage.getUser()?await i.value.doOpen():await a()}return(d,y)=>{const T=N,M=I,V=le;return s(),m("div",we,[n(_)?k("",!0):(s(),m("div",xe,[e("span",Ce,x(n(t).name),1)])),l(M,{class:"login-switcher__btn","is-text":"","is-square":"",align:"center",title:n(c)?"Выйти":"Войти",onClick:w},{default:u(()=>[l(T,{name:n(c)?"logout":"login"},null,8,["name"])]),_:1},8,["title"]),l(V,{ref_key:"logoutConfirmRef",ref:i,title:"Выход из аккаунта","append-to-body":""},{default:u(()=>[Te,e("div",Me,[l(M,{align:"center",width:"80px",onClick:y[0]||(y[0]=P=>$(!0))},{default:u(()=>[B(" Да ")]),_:1}),l(M,{align:"center",width:"80px",onClick:y[1]||(y[1]=P=>$(!1))},{default:u(()=>[B(" Нет ")]),_:1})])]),_:1},512)])}}}),Ne={class:"page-header__inner"},Oe={class:"page-header__col page-header__col--left"},Le={key:0,class:"page-header__col-item"},Re={class:"page-header__col-item"},Ie={class:"page-header__col page-header__col--right"},Ee={class:"page-header__col-item"},Pe={class:"page-header__col page-header__col--right"},qe={class:"page-header__col-item"},He={class:"page-header__col-item"},De=S({__name:"PageHeader",props:{height:{type:Number,required:!0},isSticky:{type:Boolean,default:!1}},setup(g){const i=O(),t=L(),r=U(),o=h(()=>t.isTablet||i.isTablet||i.isMobile);function c(){r.toggleMainSearch(!0)}function _(){r.toggleMobileMenu(),J(!0)}return(a,v)=>{const f=N,b=I,$=Se,w=ce,d=Be;return s(),m("div",{class:j(["page-header",[g.isSticky?"page-header--is-sticky":"",n(o)?"page-header--is-mobile-view":""]]),style:W({height:g.height+"px"})},[e("div",Ne,[e("div",Oe,[n(o)?(s(),m("div",Le,[l(b,{"is-square":"","is-text":"",onClick:_},{default:u(()=>[l(f,{name:"menu"})]),_:1})])):k("",!0),e("div",Re,[l($)])]),e("div",Ie,[e("div",Ee,[n(o)?k("",!0):(s(),p(w,{key:0,class:"page-header__search"}))])]),e("div",Pe,[e("div",qe,[n(o)?(s(),p(b,{key:0,"is-square":"","is-text":"",onClick:c},{default:u(()=>[l(f,{name:"search"})]),_:1})):k("",!0)]),e("div",He,[l(d)])])])],6)}}}),je={class:"page-sidebar-header"},Ue={class:"page-sidebar-header__inner"},Ve={class:"page-sidebar-header__logo-icon"},ze=e("span",{class:"page-sidebar-header__logo-text"}," Blitz Commander ",-1),Ae=S({__name:"PageSidebarHeader",emits:["close"],setup(g,{emit:i}){const t=L(),r=O(),o=i,c=h(()=>t.isTablet||r.isTablet||r.isMobile);return(_,a)=>{const v=N,f=I;return s(),m("div",je,[e("div",Ue,[(s(),p(Q((_._.provides[ee]||_.$route).name==="index"?"span":n(D)),{class:"page-sidebar-header__logo",to:"/"},{default:u(()=>[e("span",Ve,[l(n(me),{style:{width:"24px",height:"24px"}})]),ze]),_:1})),n(c)?(s(),p(f,{key:0,"is-square":"","is-text":"",class:"page-sidebar-header__close",onClick:a[0]||(a[0]=b=>o("close"))},{default:u(()=>[l(v,{name:"close"})]),_:1})):k("",!0)])])}}}),Fe={class:"navigation-list"},Ye={class:"navigation-list__list"},We={key:0,class:"navigation-list__link navigation-list__link--is-active"},Xe=S({__name:"NavigationList",props:{navigation:{type:Array,required:!0,default:()=>[]}},setup(g){const i=E();function t(r){return i.matched.some(o=>{const c=String(o.name).split("-")[0]??"index",_=String(r.to.name).split("-")[0]??"index";return c===_})}return(r,o)=>{const c=N,_=D;return s(),m("nav",Fe,[e("ul",Ye,[(s(!0),m(Y,null,te(g.navigation.filter(a=>!a.isHidden),a=>(s(),m("li",{key:a.key,class:"navigation-list__item"},[t(a)?(s(),m("span",We,[a.icon?(s(),p(c,{key:0,name:a.icon,class:"navigation-list__icon"},null,8,["name"])):k("",!0),B(" "+x(a.label),1)])):(s(),p(_,{key:1,class:"navigation-list__link",to:a.to},{default:u(()=>[a.icon?(s(),p(c,{key:0,name:a.icon,class:"navigation-list__icon"},null,8,["name"])):k("",!0),B(" "+x(a.label),1)]),_:2},1032,["to"]))]))),128))])])}}}),Ze=()=>ne("color-mode").value,Ke=S({__name:"ThemeSwitcher",setup(g){const i=Ze(),t=h(()=>i.value==="system"?"":i.value==="dark"?"light":"dark");function r(){const o=i.value==="light";i.preference=o?"dark":"light"}return(o,c)=>{const _=Z,a=I;return s(),p(a,{class:"theme-switcher","is-text":"","is-square":"",title:"Переключить тему",onClick:r},{default:u(()=>[l(_,null,{default:u(()=>[n(t)==="dark"?(s(),p(n(pe),{key:0,class:"theme-switcher__icon"})):n(t)==="light"?(s(),p(n(he),{key:1,class:"theme-switcher__icon"})):k("",!0)]),_:1})]),_:1})}}}),Ge={class:"page-sidebar__body"},Je={class:"page-sidebar__footer"},Qe={class:"page-sidebar__prop"},et=e("span",{class:"page-sidebar__prop-title"},"Тема",-1),tt={target:"_blank",href:"https://t.me/+kpbNPjc8nyZlMmIy",class:"page-sidebar__prop link"},nt=e("span",{class:"page-sidebar__prop-title"},"Комьюнити",-1),ot={target:"_blank",href:"https://yoomoney.ru/to/4100118432687922",class:"page-sidebar__prop link"},at=e("span",{class:"page-sidebar__prop-title"},"Поблагодарить",-1),st={class:"page-sidebar__version"},it=S({__name:"PageSidebar",props:{isOpen:{type:Boolean,default:!1},navigation:{type:Array,default:()=>[]},headerHeight:{type:Number,default:0}},setup(g){const i=se(),t=U(),r=L(),o=O(),c=E(),_=h(()=>r.isTablet||o.isTablet||o.isMobile),a=h(()=>i.public.clientVersion);H(_,()=>{_.value||t.toggleMobileMenu(!1)}),H(()=>c.name,(f,b)=>{f!==b&&setTimeout(()=>t.toggleMobileMenu(!1),300)},{immediate:!0});function v(){t.toggleMobileMenu(!1)}return(f,b)=>{const $=Ae,w=Xe,d=Ke,y=N,T=X;return s(),p(ae,{name:"page-sidebar-",duration:600},{default:u(()=>[g.isOpen?(s(),m("div",{key:0,class:j(["page-sidebar",[n(_)?"page-sidebar--mobile-view":""]]),onClick:oe(v,["self"])},[l(T,{class:"page-sidebar__panel","inner-class":"page-sidebar__inner"},{default:u(()=>[l($,{class:"page-sidebar__header",style:W({height:g.headerHeight+"px"}),onClose:v},null,8,["style"]),e("div",Ge,[l(w,{class:"page-sidebar__navigation",navigation:g.navigation},null,8,["navigation"])]),e("div",Je,[e("label",Qe,[l(d),et]),e("a",tt,[l(y,{name:"telegram",style:{margin:"6px"}}),nt]),e("a",ot,[l(y,{name:"savings",style:{margin:"6px"}}),at]),e("div",st," v"+x(n(a)),1)])]),_:1})],2)):k("",!0)]),_:1})}}});var rt=fe,ct=de,lt="Expected a function";function _t(g,i,t){var r=!0,o=!0;if(typeof g!="function")throw new TypeError(lt);return ct(t)&&(r="leading"in t?!!t.leading:r,o="trailing"in t?!!t.trailing:o),rt(g,i,{leading:r,maxWait:i,trailing:o})}var dt=_t;const ut=_e(dt),gt={class:"page-content__header"},mt={class:"page-content__main"},pt={class:"page-content__sidebar"},Nt=S({__name:"PageContent",emits:["scroll"],setup(g,{emit:i}){const t=E(),r=O(),o=U(),c=L(),_=R(!1),a=R(!1),v=R(54),f=[{label:C.route.getTitle("index"),key:"main",to:{name:"index"},icon:"home"},{label:C.route.getTitle("account"),key:"account",to:{name:"account"},icon:"person"},{label:C.route.getTitle("clan"),key:"clan",to:{name:"clan"},icon:"groups"},{label:C.route.getTitle("leaderboards"),key:"leaderboards",to:{name:"leaderboards"},icon:"leaderboard"},{label:C.route.getTitle("tournaments"),key:"tournaments",to:{name:"tournaments"},icon:"emoji-events"},{label:C.route.getTitle("widgets"),key:"widgets",to:{name:"widgets"},icon:"widgets"}],b=h(()=>c.isTablet||r.isMobileOrTablet),$=h(()=>!b.value||o.mobileMenuOpened),w=i;H(()=>t,()=>{o.toggleMobileMenu(!1)}),ie(()=>{_.value=!0,window==null||window.addEventListener("scroll",d),d()});const d=ut(y,60);function y(){w("scroll",window.scrollY),T()}function T(){return a.value=window.scrollY>10}return(M,V)=>{const P=De,z=X,K=it,G=Z;return s(),p(G,null,{default:u(()=>[e("div",{class:j(["page-content",[{"page-content--is-scrolled":n(a),"page-content--mobile-view":n(b)}]])},[e("header",gt,[l(z,null,{default:u(()=>[l(P,{"is-sticky":n(a),height:n(v)},null,8,["is-sticky","height"])]),_:1})]),e("main",mt,[l(z,null,{default:u(()=>[re(M.$slots,"default")]),_:3})]),e("aside",pt,[l(K,{navigation:f,"is-open":n($),"header-height":n(v)},null,8,["is-open","header-height"])])],2)]),_:3})}}});export{Nt as _};
