import{_ as w}from"./CFMY7GvK.js";import{_ as g}from"./DF-OxOFW.js";import{_ as k}from"./BIawf2pc.js";import{_ as B}from"./Bw-LhXCx.js";import{u as $}from"./Cztf3jdt.js";import{d as S,A as P,c as C,p as y,o as m,m as d,n as r,h as a,F as M,D as N,w as V,t as U,v as A,f as p,a3 as R,u as F,j as T,M as D,k as j,l as I,e as q,g as z,G as x,y as E}from"./DEnf58KD.js";import{_ as G}from"./BZetK0s1.js";import"./DD4asW33.js";const H={class:"recruitment-player-profile-form"},L={class:"recruitment-player-profile-form__item"},O={class:"recruitment-player-profile-form__item"},J={class:"recruitment-player-profile-form__item"},K={class:"recruitment-player-profile-form__props"},Q={class:"recruitment-player-profile-form__props-value"},W={class:"recruitment-player-profile-form__item"},X={class:"recruitment-player-profile-form__props recruitment-player-profile-form__props--preferences"},Y={class:"recruitment-player-profile-form__props-item"},Z={class:"recruitment-player-profile-form__props-item"},h={class:"recruitment-player-profile-form__props-item"},ee={class:"recruitment-player-profile-form__props-item"},te={class:"recruitment-player-profile-form__tiers"},re=S({__name:"RecruitmentPlayerProfileForm",props:{modelValue:{required:!0,default:()=>({})},modelModifiers:{}},emits:["update:modelValue"],setup(b){const l=P(b,"modelValue"),f=$(),o=C(()=>f.isTablet),_=[{value:"active",label:y.recruitment.playerStatus("active")},{value:"passive",label:y.recruitment.playerStatus("passive")},{value:"inactive",label:y.recruitment.playerStatus("inactive")}];return(c,e)=>{const u=w,s=g,v=k,i=B;return m(),d("div",H,[r("div",L,[e[6]||(e[6]=r("div",{class:"recruitment-player-profile-form__item-title"}," Статус поиска ",-1)),a(u,{modelValue:l.value.status,"onUpdate:modelValue":e[0]||(e[0]=t=>l.value.status=t),class:"recruitment-status-select",options:_,width:"150px"},null,8,["modelValue"])]),r("div",O,[e[7]||(e[7]=r("div",{class:"recruitment-player-profile-form__item-title"}," Цель поиска ",-1)),a(s,{modelValue:l.value.target,"onUpdate:modelValue":e[1]||(e[1]=t=>l.value.target=t)},null,8,["modelValue"])]),r("div",J,[e[8]||(e[8]=r("div",{class:"recruitment-player-profile-form__item-title"}," Время активности (00:00 - 24:00) ",-1)),r("div",K,[(m(!0),d(M,null,N(l.value.schedule,t=>(m(),d("div",{key:t.day,class:"recruitment-player-profile-form__props-item"},[r("div",Q,[a(v,{modelValue:t.isActive,"onUpdate:modelValue":n=>t.isActive=n,style:R({width:p(o)?"60px":"134px"})},{default:V(()=>[U(A(c.$formatter.date.toDay(t.day,p(o))),1)]),_:2},1032,["modelValue","onUpdate:modelValue","style"]),a(i,{modelValue:t.start,"onUpdate:modelValue":n=>t.start=n,step:"1",min:"0",max:Math.min(24,t.end-1),width:"70",disabled:!t.isActive},null,8,["modelValue","onUpdate:modelValue","max","disabled"]),a(i,{modelValue:t.end,"onUpdate:modelValue":n=>t.end=n,step:"1",min:Math.max(0,t.start+1),max:"24",width:"70",disabled:!t.isActive},null,8,["modelValue","onUpdate:modelValue","min","disabled"])])]))),128))])]),r("div",W,[e[13]||(e[13]=r("div",{class:"recruitment-player-profile-form__item-title"}," Предпочтения ",-1)),r("div",X,[r("div",Y,[e[9]||(e[9]=r("span",{class:"recruitment-player-profile-form__props-title"}," Победы (%) ",-1)),a(i,{modelValue:l.value.preferences.winRate,"onUpdate:modelValue":e[2]||(e[2]=t=>l.value.preferences.winRate=t),min:"0",max:"99",width:"170"},null,8,["modelValue"])]),r("div",Z,[e[10]||(e[10]=r("span",{class:"recruitment-player-profile-form__props-title"}," Бои ",-1)),a(i,{modelValue:l.value.preferences.battles,"onUpdate:modelValue":e[3]||(e[3]=t=>l.value.preferences.battles=t),min:"0",max:"99999",width:"170"},null,8,["modelValue"])]),r("div",h,[e[11]||(e[11]=r("span",{class:"recruitment-player-profile-form__props-title"}," Урон ср. ",-1)),a(i,{modelValue:l.value.preferences.damagePerBattle,"onUpdate:modelValue":e[4]||(e[4]=t=>l.value.preferences.damagePerBattle=t),min:"0",max:"9999",width:"170"},null,8,["modelValue"])]),r("div",ee,[e[12]||(e[12]=r("span",{class:"recruitment-player-profile-form__props-title"}," Уровни ",-1)),r("div",te,[a(G,{modelValue:l.value.preferences.tiers,"onUpdate:modelValue":e[5]||(e[5]=t=>l.value.preferences.tiers=t)},null,8,["modelValue"])])])])])])}}}),le={class:"recruitment-profile-page"},oe={style:{display:"flex","justify-content":"space-between"}},fe=S({__name:"profile",setup(b){F({title:"Профиль"});const l=T(),f=D(),o=j({profile:null});async function _(){const{data:u}=await x.recruitment.get({id:l.accountId});o.profile=u}function c(){}function e(){o!=null&&o.profile&&(x.recruitment.set(o.profile),f.add({type:"success",message:"Анкета сохранена"}))}return I(()=>{_()}),(u,s)=>{const v=re,i=E;return m(),d("div",le,[s[3]||(s[3]=r("div",{class:"content-area recruitment-profile-page__content"},[r("h2",null,"Профиль"),r("p",null," Здесь вы можете опубликовать анкету для поиска клана, взвода или турнирной команды. Через 5 минут после публикации анкету можно поднять в ТОП. ")],-1)),p(o).profile?(m(),q(v,{key:0,modelValue:p(o).profile,"onUpdate:modelValue":s[0]||(s[0]=t=>p(o).profile=t)},null,8,["modelValue"])):z("",!0),r("div",oe,[a(i,{onClick:c},{default:V(()=>s[1]||(s[1]=[U(" Поднять ")])),_:1}),a(i,{onClick:e},{default:V(()=>s[2]||(s[2]=[U(" Сохранить ")])),_:1})])])}}});export{fe as default};
