import{at as f}from"./entry.DPNISXbu.js";const h=e=>typeof e=="object"&&!Array.isArray(e)&&e!==null,b=e=>Array.isArray(e),a=e=>typeof e=="function",p=(e,t)=>{const n=i.get(e);n&&n.handlers.push(...t)},x=(e,t)=>Object.is(e,t)||e.match&&t.match?Object.is(e.match,t.match):!1,y=(e,t)=>{const n=i.get(e);n&&(n.handlers=n.handlers.filter(s=>!t.some(r=>x(s,r))))},m=e=>{const t=[];return a(e)&&t.push({match:e}),h(e)&&t.push(e),b(e)?e.map(n=>a(n)?{match:n}:n):t},k=(e,t)=>{e&&a(t.matchOnce)&&t.matchOnce(),!e&&a(t.unmatchOnce)&&t.unmatchOnce()},u=(e,t)=>{e&&a(t.match)&&t.match(),!e&&a(t.unmatch)&&t.unmatch()},i=new Map,v=e=>{const t={mediaQuery:matchMedia(e),handlers:[],callback(n){const s=i.get(e);s&&s.handlers.forEach(r=>{u(n.matches,r)})}};return i.set(e,t),i.get(e)},g=e=>{var n;const t=i.get(e);t&&((n=t.mediaQuery)!=null&&n.addEventListener?t.mediaQuery.addEventListener("change",t.callback):t.mediaQuery.addListener(t.callback))},d=e=>{var n;const t=i.get(e);t&&((n=t.mediaQuery)!=null&&n.removeEventListener?t.mediaQuery.removeEventListener("change",t.callback):t.mediaQuery.removeListener(t.callback))},l={add(e,t){let n=i.get(e);n||(n=v(e),g(e));const s=m(t);p(e,s);const r=n.mediaQuery.matches;return s.forEach(o=>{k(r,o),o.defer||u(r,o)}),this},remove(e,t){if(t){const n=m(t);y(e,n)}else d(e),i.delete(e);return this},destroy(){[...i.keys()].forEach(e=>{d(e),i.delete(e)})}},c=Object.freeze({laptop:1400,tablet:1024,mobile:640,mobileSmall:480}),E={isMobileSm:{max:c.mobileSmall},isMobile:{max:c.mobile},isTablet:{max:c.tablet},isLaptop:{max:c.laptop},isDesktop:{min:c.laptop+1}},Q=e=>{if(e.min&&!e.max)return`screen and (min-width: ${e.min}px)`;if(e.max&&!e.min)return`screen and (max-width: ${e.max}px)`;if(e.max&&e.min)return`screen and (min-width: ${e.min}px) and (max-width: ${e.max}px)`;throw new Error("createMediaExpression: no property specified")},O=f("breakpoints",{state:()=>({isMobile:!1,isTablet:!1}),actions:{setBreakpoint(e){this[e.key]=e.value},init(){Object.entries(E).forEach(([e,t])=>{t&&l.add(Q(t),{match:()=>this.setBreakpoint({key:e,value:!0}),unmatch:()=>this.setBreakpoint({key:e,value:!1})})})},destroy(){l.destroy()}}});export{O as u};
