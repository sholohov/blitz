(window.webpackJsonp=window.webpackJsonp||[]).push([[6,16],{593:function(e,t,n){e.exports=n.p+"img/image-broken.0c22bd4.svg"},596:function(e,t,n){"use strict";n.r(t);n(34),n(6),n(86),n(82);var o=n(105),r=n(43),c=n(35),l=n(36),m=n(39),d=n(40),f=n(24),h=n(19),v=(n(3),n(1),n(7),n(185),n(83),n(569),n(10),n(566),n(8),n(4),n(47),n(87),n(16)),_=n(150),y=n(113),x=n(572),k=n(582),w=n(114),j=n(614),C=n(623);function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(f.a)(e);if(t){var r=Object(f.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(d.a)(this,n)}}var R=function(e,t,n,desc){var o,r=arguments.length,c=r<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(h.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(r<3?o(c):r>3?o(t,n,c):o(t,n))||c);return r>3&&c&&Object.defineProperty(t,n,c),c},M=["markOfMastery","markOfMasteryI","markOfMasteryII","markOfMasteryIII","heroesOfRassenay","medalLafayettePool","medalRadleyWalters","warrior","medalKolobanov","mainGun","sniper","camper","medalBrothersInArms","medalCrucialContribution"],S=function(e){Object(m.a)(d,e);var t=O(d);function d(){var e;return Object(c.a)(this,d),(e=t.apply(this,arguments)).name="Achievements",e.currentMedal=null,e.showAll=!1,e}return Object(l.a)(d,[{key:"achievementsCount",get:function(){return Object.keys(this.achievements).length}},{key:"items",get:function(){var e=this;if("important"===this.filters.achievementsShow){var t=Object.entries(this.achievements).map((function(t){var n=Object(r.a)(t,2),o=n[0],c=n[1];return e.createMedal({key:o,count:c})}));return M.reduce((function(e,n){var r=t.find((function(i){return i.key===n}));return r?[].concat(Object(o.a)(e),[r]):e}),[])}var n=Object.keys(this.info);return"deserved"===this.filters.achievementsShow?n.map((function(t){var n;return e.createMedal({key:t,count:null!==(n=e.achievements[t])&&void 0!==n?n:0})})).filter((function(t){return e.achievements[t.key]})).sort((function(a,b){return a.key.localeCompare(b.key)})):n.map((function(t){var n;return e.createMedal({key:t,count:null!==(n=e.achievements[t])&&void 0!==n?n:0})})).sort((function(a,b){return a.key.localeCompare(b.key)}))}},{key:"itemsBySection",get:function(){var e={};return this.items.forEach((function(t){e[t.section]||(e[t.section]={name:t.section,items:[]}),e[t.section].items.push(t)})),e}},{key:"filtersChanged",value:function(){return this.filters}},{key:"createMedal",value:function(e){var t,n=e.key,o=e.count,r=this.info[n],c=function(e){return"/img/medals/".concat(n.replace(/EU|RU|NA|SEA/,"")).concat(null!=e?e:"",".webp")},l={key:n,count:o,series:this.maxSeries[n],condition:null==r?void 0:r.condition,description:null==r?void 0:r.description,name:null==r?void 0:r.name,section:null==r?void 0:r.section,image:c()};return r.options&&(l.name=(null===(t=r.options[o-1])||void 0===t?void 0:t.name)||r.name,l.count=o?1:0,l.degree=o,l.image=c(o||1)),l.name=String(l.name).replace(/\(.+\)/,""),l}},{key:"handleMedalView",value:function(e){var t,n,o,r,c=e.key;this.currentMedal=null!==(t=this.items.find((function(i){return i.key===c})))&&void 0!==t?t:null,console.log("-----------------"),console.log("key:",c),console.log("section:",null===(n=this.info[c])||void 0===n?void 0:n.section),console.log("name:",null===(o=this.info[c])||void 0===o?void 0:o.name),console.log("options:",null===(r=this.info[c].options)||void 0===r?void 0:r.length),console.log("count:",this.achievements[c]),console.log("series:",this.maxSeries[c]),console.log("-----------------"),this.detailsRef.doOpen()}},{key:"handleShowBtn",value:function(e){this.filters.achievementsShow=e,this.filtersChanged()}},{key:"handleErrorImageLoading",value:function(e){e.target.src=n(593),e.target.classList.add("is-broken")}}]),d}(v.Vue);R([Object(v.Prop)({required:!0})],S.prototype,"achievements",void 0),R([Object(v.Prop)({required:!0})],S.prototype,"maxSeries",void 0),R([Object(v.Prop)({required:!0})],S.prototype,"info",void 0),R([Object(v.Prop)({default:j.a.makeAccountFilters()})],S.prototype,"filters",void 0),R([Object(v.Ref)("main")],S.prototype,"mainRef",void 0),R([Object(v.Ref)("details")],S.prototype,"detailsRef",void 0),R([Object(v.Emit)()],S.prototype,"filtersChanged",null);var B=S=R([Object(v.Component)({components:{AchievementsList:C.default,SvgIcon:w.default,CSelect:k.default,CButtonCheckbox:x.default,CButton:y.default,CDialog:_.default}})],S),P=(n(693),n(37)),component=Object(P.a)(B,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{ref:"main",staticClass:"achievements"},[e.achievementsCount?t("div",{staticClass:"achievements__inner"},[t("div",{staticClass:"achievements__filter"},[t("div",{staticClass:"achievements__filter-item"},[t("CButtonCheckbox",{attrs:{checked:"important"===e.filters.achievementsShow},on:{change:function(t){return e.handleShowBtn("important")}}},[e._v("\n          Значимые\n        ")])],1),e._v(" "),t("div",{staticClass:"achievements__filter-item"},[t("CButtonCheckbox",{attrs:{checked:"deserved"===e.filters.achievementsShow},on:{change:function(t){return e.handleShowBtn("deserved")}}},[e._v("\n          Заслуженные\n        ")])],1),e._v(" "),t("div",{staticClass:"achievements__filter-item"},[t("CButtonCheckbox",{attrs:{checked:null===e.filters.achievementsShow},on:{change:function(t){return e.handleShowBtn(null)}}},[e._v("\n          Все\n        ")])],1)]),e._v(" "),e.items.length?["important"===e.filters.achievementsShow?t("AchievementsList",{attrs:{achievements:e.items,"hide-name":!0},on:{"medal-click":e.handleMedalView}}):e._l(e.itemsBySection,(function(section){return t("div",{key:section.name,staticClass:"achievements__section"},[t("div",{staticClass:"achievements__section-title"},[e._v("\n          "+e._s(e.$formatter.byKey("achievementsSection",section.name))+"\n        ")]),e._v(" "),t("AchievementsList",{attrs:{achievements:section.items,"hide-count":e.showAll},on:{"medal-click":e.handleMedalView}})],1)}))]:t("div",{staticClass:"achievements__empty"},[e._v("\n      Нет значимых достижений\n    ")]),e._v(" "),t("CDialog",{ref:"details",attrs:{width:"640px"},scopedSlots:e._u([{key:"footer",fn:function(){return[t("div",{staticClass:"achievements__details-footer"},[t("CButton",{on:{click:function(t){return e.detailsRef.doClose()}}},[e._v("\n            Закрыть\n          ")])],1)]},proxy:!0}],null,!1,4251205422)},[e.currentMedal?t("div",{staticClass:"achievements__details"},[t("div",{staticClass:"achievements__details-header"},[t("img",{staticClass:"achievements__details-img",attrs:{src:e.currentMedal.image,alt:e.currentMedal.key,"data-name":e.currentMedal.name},on:{error:e.handleErrorImageLoading}}),e._v(" "),t("span",{staticClass:"achievements__details-name"},[e._v("\n            "+e._s(e.currentMedal.name)+"\n          ")])]),e._v(" "),t("div",{staticClass:"achievements__details-body"},[e.currentMedal.description?t("p",{domProps:{textContent:e._s(e.currentMedal.description)}}):e._e(),e._v(" "),e.currentMedal.condition?t("p",{domProps:{textContent:e._s(e.currentMedal.condition)}}):e._e()])]):e._e()])],2):t("div",{staticClass:"achievements__empty"},[e._v("\n    Нет достижений\n  ")])])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{AchievementsList:n(623).default})},611:function(e,t,n){var content=n(653);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(72).default)("c87336c4",content,!0,{sourceMap:!1})},623:function(e,t,n){"use strict";n.r(t);n(34),n(82);var o=n(35),r=n(36),c=n(39),l=n(40),m=n(24),d=n(19),f=(n(3),n(1),n(16));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Object(m.a)(e);if(t){var r=Object(m.a)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Object(l.a)(this,n)}}var v=function(e,t,n,desc){var o,r=arguments.length,c=r<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(c=(r<3?o(c):r>3?o(t,n,c):o(t,n))||c);return r>3&&c&&Object.defineProperty(t,n,c),c},_=function(e){Object(c.a)(l,e);var t=h(l);function l(){var e;return Object(o.a)(this,l),(e=t.apply(this,arguments)).name="Achievements",e}return Object(r.a)(l,[{key:"handleErrorImageLoading",value:function(e){e.target.src=n(593),e.target.classList.add("is-broken")}},{key:"medalClick",value:function(e){return e}}]),l}(f.Vue);v([Object(f.Prop)({required:!0})],_.prototype,"achievements",void 0),v([Object(f.Prop)({default:!1})],_.prototype,"hideName",void 0),v([Object(f.Emit)()],_.prototype,"medalClick",null);var y=_=v([f.Component],_),x=(n(652),n(37)),component=Object(x.a)(y,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"achievements-list"},[e.achievements.length?t("transition-group",{staticClass:"achievements-list__list",attrs:{tag:"ul",name:"achievements-list__item-"}},e._l(e.achievements,(function(n){return t("li",{key:n.key,staticClass:"achievements-list__item",class:[!n.count&&n?"achievements-list__item--no-count":""]},[t("button",{staticClass:"achievements-list__item-btn",on:{click:function(t){return e.medalClick(n)}}},[t("span",{staticClass:"achievements-list__item-inner"},[t("span",{staticClass:"achievements-list__item-img-wrapper"},[t("img",{staticClass:"achievements-list__item-img",attrs:{src:n.image,alt:n.key,"data-name":n.name},on:{error:e.handleErrorImageLoading}}),e._v(" "),n.count&&!n.degree?t("span",{staticClass:"achievements-list__item-count"},[e._v("\n              "+e._s(n.count)+"\n            ")]):e._e()]),e._v(" "),e.hideName?e._e():t("span",{staticClass:"achievements-list__item-details"},[e._v("\n            "+e._s(n.name)+"\n          ")])])])])})),0):e._e()],1)}),[],!1,null,null,null);t.default=component.exports},640:function(e,t,n){var content=n(694);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(72).default)("1d2d2eaa",content,!0,{sourceMap:!1})},652:function(e,t,n){"use strict";n(611)},653:function(e,t,n){var o=n(71)((function(i){return i[1]}));o.push([e.i,'.achievements-list__item-btn{-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;-webkit-appearance:none;background:transparent;border:none;color:inherit;font:inherit;line-height:normal;overflow:visible;padding:0;text-align:inherit;width:auto}.achievements-list__item-btn::-moz-focus-inner{border:0;padding:0}.achievements-list__item-btn:focus{outline:none}.achievements-list__list{display:flex;flex-wrap:wrap;justify-content:space-around;list-style:none;margin:0;padding:0}.achievements-list__item{display:flex;position:relative;transition:all .2s}.achievements-list__item--enter,.achievements-list__item--leave-to{opacity:0}.achievements-list__item--leave-active{position:absolute}.achievements-list__item--no-count{filter:saturate(0);opacity:.5}.achievements-list__item-btn{align-items:flex-start;cursor:pointer;display:flex;justify-content:center;min-width:100px;padding:16px 6px;position:relative}.achievements-list__item-btn:before{background-color:var(--color-primary);bottom:0;content:"";left:0;opacity:0;pointer-events:none;position:absolute;right:0;top:0;transition:opacity .2s}.achievements-list__item-btn:hover:before{opacity:.05}.achievements-list__item-inner{align-items:center;color:var(--color-text);display:flex;flex-direction:column;font-weight:400}.achievements-list__item-details{font-size:14px;margin:16px 0 0;text-align:center;width:140px}.achievements-list__item-img-wrapper{position:relative}.achievements-list__item-img{align-items:center;display:inline-flex;font-size:0;height:60px;justify-content:center;-o-object-fit:contain;object-fit:contain;position:relative;width:60px}.achievements-list__item-img.is-broken{background-color:var(--border-color);-o-object-fit:scale-down;object-fit:scale-down;opacity:.5}.achievements-list__item-count{align-items:center;background-color:var(--bg-color);border:1px solid var(--border-color-light);bottom:-10px;color:var(--color-text);display:inline-flex;font-size:14px;height:20px;justify-content:center;left:50%;padding:0 .25em;position:absolute;transform:translateX(-50%)}.achievements-list__item-count--is-series{background-color:var(--color-red)}.achievements-list__details-header{align-items:center;display:flex;flex-direction:column;flex-wrap:wrap}.achievements-list__details-img{display:inline-flex;height:100px;-o-object-fit:contain;object-fit:contain;position:relative;width:100px}.achievements-list__details-name{font-size:20px;font-weight:500;margin:10px 0}.achievements-list__details-body{padding:0;white-space:pre-line}.achievements-list__details-title{display:flex;margin:20px 0 6px}.achievements-list__details-footer{display:flex;justify-content:flex-end}.achievements-list__filter{align-items:flex-end;display:flex;flex-wrap:wrap;margin:0 0 30px}.achievements-list__filter-item{margin:0 4px 10px 0}',""]),o.locals={},e.exports=o},693:function(e,t,n){"use strict";n(640)},694:function(e,t,n){var o=n(71)((function(i){return i[1]}));o.push([e.i,'.achievements__item-btn{-webkit-font-smoothing:inherit;-moz-osx-font-smoothing:inherit;-webkit-appearance:none;background:transparent;border:none;color:inherit;font:inherit;line-height:normal;overflow:visible;padding:0;text-align:inherit;width:auto}.achievements__item-btn::-moz-focus-inner{border:0;padding:0}.achievements__item-btn:focus{outline:none}.achievements__empty{color:var(--color-text-light)}.achievements__list{display:flex;flex-wrap:wrap;justify-content:space-around;list-style:none;margin:0;padding:0}.achievements__item{display:flex;position:relative;transition:all .2s}.achievements__item--enter,.achievements__item--leave-to{opacity:0}.achievements__item--leave-active{position:absolute}.achievements__item-btn{align-items:flex-start;cursor:pointer;display:flex;justify-content:center;min-width:100px;padding:16px 6px;position:relative}.achievements__item-btn:before{background-color:var(--color-primary);bottom:0;content:"";left:0;opacity:0;pointer-events:none;position:absolute;right:0;top:0;transition:opacity .2s}.achievements__item-btn:hover:before{opacity:.05}.achievements__item-inner{align-items:center;color:var(--color-text);display:flex;flex-direction:column;font-weight:400}.achievements__item-details{font-size:14px;margin:16px 0 0;text-align:center;width:140px}.achievements__item-img-wrapper{position:relative}.achievements__item-img{font-size:0;height:60px;-o-object-fit:contain;object-fit:contain;position:relative;width:60px}.achievements__item-count,.achievements__item-img{align-items:center;display:inline-flex;justify-content:center}.achievements__item-count{background-color:var(--bg-color);border:1px solid var(--border-color-light);bottom:-10px;color:var(--color-text);font-size:14px;height:20px;left:50%;padding:0 .25em;position:absolute;transform:translateX(-50%)}.achievements__item-count--is-series{background-color:var(--color-red)}.achievements__details-header{align-items:center;display:flex;flex-direction:column;flex-wrap:wrap}.achievements__details-img{display:inline-flex;height:100px;-o-object-fit:contain;object-fit:contain;position:relative;width:100px}.achievements__details-name{font-size:20px;font-weight:500;margin:10px 0}.achievements__details-body{padding:0;white-space:pre-line}.achievements__details-title{display:flex;margin:20px 0 6px}.achievements__details-footer{display:flex;justify-content:flex-end}.achievements__filter{align-items:flex-end;display:flex;flex-wrap:wrap;margin:0 0 30px}.achievements__filter-item{margin:0 4px 10px 0}.achievements__section{padding:0 0 20px}.achievements__section:not(:last-child){margin:0 0 20px}.achievements__section-title{border-bottom:1px solid var(--border-color-light);color:var(--color-text-light);margin:0 0 10px;padding:0 0 4px}',""]),o.locals={},e.exports=o}}]);