(window.webpackJsonp=window.webpackJsonp||[]).push([[73,25,26,36,41,45,50,63],{583:function(t,e,n){"use strict";n.r(e);n(84);var r=n(36),o=n(35),l=n(40),c=n(41),f=n(25),d=n(21),v=(n(4),n(1),n(34),n(17));function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var _=function(t,e,n,desc){var r,o=arguments.length,l=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l},h=function(t){Object(l.a)(n,t);var e=m(n);function n(){var t;return Object(o.a)(this,n),(t=e.apply(this,arguments)).name="ContentLoader",t}return Object(r.a)(n)}(v.Vue);_([Object(v.Prop)({default:!1})],h.prototype,"loading",void 0),_([Object(v.Prop)({default:!1})],h.prototype,"backdropLight",void 0);var y=h=_([Object(v.Component)({})],h),x=(n(591),n(37)),component=Object(x.a)(y,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"content-loader",class:[t.loading?"content-loader--is-active":"",!1!==t.backdropLight?"content-loader--hide-backdrop":""]})}),[],!1,null,null,null);e.default=component.exports},587:function(t,e,n){var content=n(592);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(76).default)("03eb9cfd",content,!0,{sourceMap:!1})},591:function(t,e,n){"use strict";n(587)},592:function(t,e,n){var r=n(75)((function(i){return i[1]}));r.push([t.i,'.content-loader{align-items:center;bottom:0;display:flex;justify-content:center;left:0;opacity:0;overflow:hidden;pointer-events:none;position:absolute;right:0;top:0;transition:opacity .2s;z-index:1}.content-loader--is-active{opacity:1;pointer-events:auto}.content-loader:before{background-color:var(--bg-color-darken);bottom:0;content:"";left:0;opacity:.95;position:absolute;right:0;top:0}.content-loader--hide-backdrop:before{background-color:var(--bg-color)}.content-loader:after{animation:loader-rotation 1.5s linear infinite;border:4px solid var(--bg-color-darken);border-left-color:var(--color-primary);border-radius:50%;box-sizing:border-box;content:"";display:flex;height:24px;position:relative;transform:translateZ(0);width:24px}@keyframes loader-rotation{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}',""]),r.locals={},t.exports=r},625:function(t,e,n){var content=n(653);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(76).default)("3afccb12",content,!0,{sourceMap:!1})},629:function(t,e,n){"use strict";n.r(e);n(84);var r=n(36),o=n(35),l=n(40),c=n(41),f=n(25),d=n(21),v=(n(4),n(1),n(34),n(17)),m=n(346),_=n.n(m),h=n(347),y=n.n(h),x=n(583);function j(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var k=function(t,e,n,desc){var r,o=arguments.length,l=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l},w=function(t){Object(l.a)(n,t);var e=j(n);function n(){var t;return Object(o.a)(this,n),(t=e.apply(this,arguments)).name="MetricsPlates",t}return Object(r.a)(n)}(v.Vue);k([Object(v.Prop)({default:!1})],w.prototype,"loading",void 0),k([Object(v.Prop)({required:!0})],w.prototype,"items",void 0);var O=w=k([Object(v.Component)({components:{ContentLoader:x.default,InfoIcon:y.a,ContentCopyIcon:_.a}})],w),C=(n(665),n(37)),component=Object(C.a)(O,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"metrics-plates"},[e("ul",{staticClass:"metrics-plates__list"},t._l(t.items,(function(n){return e("li",{key:n.key,staticClass:"metrics-plates__item"},[e("span",{staticClass:"metrics-plates__item-label"},[t._v("\n        "+t._s(n.label)+"\n      ")]),t._v(" "),e("b",{staticClass:"metrics-plates__item-value",style:{color:n.color?"var(--color-".concat(n.color,")"):null}},[t._v("\n        "+t._s(n.value)+"\n\n        "),n.diff?e("span",{staticClass:"metrics-plates__item-diff"},[t._v("\n          "+t._s(n.diff)+"\n        ")]):t._e()]),t._v(" "),e("ContentLoader",{attrs:{loading:t.loading}})],1)})),0)])}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{ContentLoader:n(583).default})},630:function(t,e,n){"use strict";n.r(e);n(658),n(84);var r=n(36),o=n(35),l=n(40),c=n(41),f=n(25),d=n(21),v=(n(4),n(1),n(34),n(17));function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var _=function(t,e,n,desc){var r,o=arguments.length,l=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l},h=function(t){Object(l.a)(n,t);var e=m(n);function n(){var t;return Object(o.a)(this,n),(t=e.apply(this,arguments)).name="SocialLinks",t}return Object(r.a)(n)}(v.Vue);_([Object(v.Prop)({required:!0,type:Array})],h.prototype,"links",void 0);var y=h=_([v.Component],h),x=(n(652),n(37)),component=Object(x.a)(y,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"social-links"},[e("div",{staticClass:"social-links__links"},t._l(t.links,(function(link){return e("a",{key:link.link,staticClass:"link social-links__links-item",attrs:{href:link.link,target:"_blank",title:link.title}},[e(link.icon,{tag:"component",attrs:{width:"24",height:"24"}})],1)})),0)])}),[],!1,null,null,null);e.default=component.exports},631:function(t,e,n){var content=n(660);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(76).default)("1823d406",content,!0,{sourceMap:!1})},632:function(t,e,n){"use strict";n.r(e);n(34),n(5),n(86),n(84);var r=n(35),o=n(36),l=n(40),c=n(41),f=n(25),d=n(21),v=(n(4),n(1),n(17)),m=n(348),_=n.n(m),h=n(349),y=n.n(h),x=n(114),j=n(630),k=(n(48),n(186),n(56),n(55),/(https?:\/\/)?(www\.)?(discord\.(gg|io|me|li)|discordapp\.com\/invite)\/.+[a-z|0-9]/gi),w=/(https?:\/\/)?(www\.)?((t|telegram)\.me)\/\+?[a-zA-Z0-9_]{5,32}/gi,O=function(t){var e=[],r=t.match(k),o=t.match(w);return null!=r&&r.length&&e.push({title:"Discord",icon:function(){return Promise.resolve().then(n.t.bind(null,349,7))},link:r[0]}),null!=o&&o.length&&e.push({title:"Telegram",icon:function(){return Promise.resolve().then(n.t.bind(null,348,7))},link:o[0]}),e},C=n(583);function R(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var P=function(t,e,n,desc){var r,o=arguments.length,l=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l},B=function(t){Object(l.a)(n,t);var e=R(n);function n(){var t,o;return Object(r.a)(this,n),(o=e.apply(this,arguments)).name="ClanDetails",o.showDescription=null===(t=!o.hideDescription)||void 0===t||t,o}return Object(o.a)(n,[{key:"emblemUrl",get:function(){var t,e=null===(t=this.clan)||void 0===t?void 0:t.emblem_set_id;return e?"https://wotblitz-gc.gcdn.co/icons/clanEmblems1x/clan-icon-v2-".concat(e,".png"):""}},{key:"socialLinks",get:function(){var t,e;return O(null!==(t=null===(e=this.clan)||void 0===e?void 0:e.description)&&void 0!==t?t:"")}},{key:"toggleHideDescription",value:function(){var t;(this.showDescription=!this.showDescription,this.showDescription)||(null===(t=this.footerRef)||void 0===t||t.scrollIntoView(),window.scrollBy({top:-76}))}}]),n}(v.Vue);P([Object(v.Prop)({default:!1})],B.prototype,"hideDescription",void 0),P([Object(v.Prop)({required:!0})],B.prototype,"clan",void 0),P([Object(v.Prop)()],B.prototype,"loading",void 0),P([Object(v.Ref)("main")],B.prototype,"footerRef",void 0);var M=B=P([Object(v.Component)({components:{CButton:x.default,DiscordSvg:y.a,TelegramIcon:_.a,SocialLinks:j.default,ContentLoader:C.default}})],B),I=(n(659),n(37)),component=Object(I.a)(M,(function(){var t,e,n,r,o,l,c,f,d,v,m,_,h,y,x,j,k=this,w=k._self._c;k._self._setupProxy;return w("div",{ref:"main",staticClass:"clan-details"},[w("div",{staticClass:"clan-details__header"},[w("div",{staticClass:"clan-details__header-col"},[w("div",{staticClass:"clan-details__info"},[w("img",{staticClass:"clan-details__emblem-img",attrs:{"data-text":null!==(t=null===(e=k.clan)||void 0===e?void 0:e.clan_id)&&void 0!==t?t:"No image",alt:"Эмблема клана",src:k.emblemUrl}}),k._v(" "),w("div",{staticClass:"clan-details__title"},[w("span",{staticClass:"clan-details__tag"},[k._v("["+k._s(null!==(n=null===(r=k.clan)||void 0===r?void 0:r.tag)&&void 0!==n?n:"...")+"]")]),k._v(" "),w("span",{staticClass:"clan-details__name"},[k._v(k._s(null!==(o=null===(l=k.clan)||void 0===l?void 0:l.name)&&void 0!==o?o:"..."))])])])]),k._v(" "),w("div",{staticClass:"clan-details__header-col"},[w("div",{staticClass:"clan-details__param-list"},[w("div",{staticClass:"clan-details__param"},[w("span",{staticClass:"clan-details__param-title"},[k._v("ID")]),k._v(" "),w("span",[k._v(k._s(null!==(c=null===(f=k.clan)||void 0===f?void 0:f.clan_id)&&void 0!==c?c:"..."))])]),k._v(" "),w("div",{staticClass:"clan-details__param"},[w("span",{staticClass:"clan-details__param-title"},[k._v("Дата создания")]),k._v(" "),w("span",[k._v(k._s(null!==(d=k.clan)&&void 0!==d&&d.created_at?k.$formatter.date.toLocaleDate(1e3*(null===(v=k.clan)||void 0===v?void 0:v.created_at)):"..."))])]),k._v(" "),w("div",{staticClass:"clan-details__param"},[w("span",{staticClass:"clan-details__param-title"},[k._v("Кол-во игроков")]),k._v(" "),w("span",[k._v(k._s(null!==(m=null===(_=k.clan)||void 0===_?void 0:_.members_count)&&void 0!==m?m:"..."))])])])])]),k._v(" "),w("transition",[k.showDescription&&null!==(h=k.clan)&&void 0!==h&&h.description?w("div",{staticClass:"clan-details__body"},[null!==(y=k.clan)&&void 0!==y&&y.motto?w("div",{staticClass:"clan-details__motto"},[k._v("\n        «"+k._s(k.clan.motto)+"»\n      ")]):k._e(),k._v(" "),w("div",{staticClass:"clan-details__description",domProps:{textContent:k._s(null===(x=k.clan)||void 0===x?void 0:x.description)}})]):k._e()]),k._v(" "),w("div",{ref:"footer",staticClass:"clan-details__footer"},[null!==(j=k.clan)&&void 0!==j&&j.description&&k.hideDescription?w("CButton",{staticClass:"clan-details__hide-description-btn",on:{click:k.toggleHideDescription}},[k._v("\n      "+k._s(k.showDescription?"Скрыть":"Показать")+" описание\n    ")]):k._e(),k._v(" "),w("div",{staticClass:"clan-details__links"},[w("SocialLinks",{attrs:{links:k.socialLinks}})],1)],1),k._v(" "),w("ContentLoader",{attrs:{loading:k.loading}})],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{SocialLinks:n(630).default,ContentLoader:n(583).default})},639:function(t,e,n){var content=n(666);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(76).default)("37181979",content,!0,{sourceMap:!1})},641:function(t,e,n){var content=n(679);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(76).default)("7e2d94b6",content,!0,{sourceMap:!1})},647:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return null!=t}},652:function(t,e,n){"use strict";n(625)},653:function(t,e,n){var r=n(75)((function(i){return i[1]}));r.push([t.i,".social-links__links{display:flex;flex-wrap:wrap}.social-links__links-item{align-items:center;display:inline-flex;font-weight:700;height:36px;justify-content:center;width:36px}",""]),r.locals={},t.exports=r},656:function(t,e,n){"use strict";n.r(e);n(84);var r=n(36),o=n(35),l=n(40),c=n(41),f=n(25),d=n(21),v=(n(4),n(1),n(34),n(17)),m=n(182);function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var h=function(t,e,n,desc){var r,o=arguments.length,l=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l},y=function(t){Object(l.a)(n,t);var e=_(n);function n(){var t;return Object(o.a)(this,n),(t=e.apply(this,arguments)).name="PageSection",t}return Object(r.a)(n)}(v.Vue);h([Object(v.Prop)({default:"-76px"})],y.prototype,"offsetTop",void 0),h([Object(v.Prop)({required:!0})],y.prototype,"identity",void 0),h([Object(v.Prop)()],y.prototype,"title",void 0);var x=y=h([Object(v.Component)({components:{ContentBox:m.default}})],y),j=(n(678),n(37)),component=Object(j.a)(x,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("section",{staticClass:"page-section"},[e("div",{staticClass:"page-section__anchor",style:{top:t.offsetTop},attrs:{id:t.identity}}),t._v(" "),t.title?e("h2",{staticClass:"page-section__title"},[t._v("\n    "+t._s(t.title)+"\n  ")]):t._e(),t._v(" "),t._t("default")],2)}),[],!1,null,null,null);e.default=component.exports},658:function(t,e,n){"use strict";var r=n(2),o=n(667);r({target:"String",proto:!0,forced:n(668)("link")},{link:function(t){return o(this,"a","href",t)}})},659:function(t,e,n){"use strict";n(631)},660:function(t,e,n){var r=n(75)((function(i){return i[1]}));r.push([t.i,'.clan-details__emblem-img:after,.clan-details__emblem-img:before{bottom:0;left:0;position:absolute;right:0;top:0}.clan-details__emblem-img:before{background-color:var(--bg-color);border:1px solid var(--border-color-light);content:"";display:block}.clan-details__emblem-img:after{align-items:center;color:var(--color-text-light);content:attr(data-text);display:flex;flex-wrap:wrap;font-size:10px;font-style:normal;justify-content:center;padding:4px;text-align:center;word-break:break-word}.clan-details{position:relative}.clan-details__header{display:flex;justify-content:space-between;margin:0 0 10px}@media only screen and (max-width:640px){.clan-details__header{flex-direction:column}}.clan-details__header-col{display:flex;flex-direction:column;margin:0 0 14px}.clan-details__info{display:flex;margin:0 14px 0 0;position:relative}.clan-details__emblem-img{align-self:center;display:inline-flex;height:64px;margin:0 14px 0 0;-o-object-fit:contain;object-fit:contain;position:relative;width:64px}@media only screen and (max-width:640px){.clan-details__emblem-img{height:48px;margin:0 8px 0 0;width:48px}}.clan-details__title{display:flex;flex-direction:column;flex-wrap:wrap;font-size:22px;justify-content:center;line-height:1.25;position:relative}@media only screen and (max-width:640px){.clan-details__title{font-size:18px}}.clan-details__tag{font-weight:500}.clan-details__motto{font-style:italic}.clan-details__footer{display:flex;justify-content:space-between}.clan-details__body{margin:0 0 20px;max-width:720px}.clan-details__body.v-enter-active,.clan-details__body.v-leave-active{transition:opacity .2s ease-out}.clan-details__body.v-enter,.clan-details__body.v-leave-to{opacity:0}.clan-details__motto{margin:0 0 20px}.clan-details__description{white-space:pre-line}.clan-details__param{display:table-row;font-size:14px;white-space:nowrap}.clan-details__param-title{color:var(--color-text-light);display:table-cell;padding:0 10px 0 0;text-align:right}@media only screen and (max-width:640px){.clan-details__param-title{text-align:left}}.clan-details__no-data{white-space:pre}',""]),r.locals={},t.exports=r},662:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));n(1),n(11);var r=n(226),o=n(595),l=n(586),c=(n(340),{account:function(){var t,e,n,l,c,f,d,v,m,_,h,y,x,j,k,w,O,C,R,P,B,M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},I=[{key:"battles",label:"Бои",value:(null===(t=M.stat)||void 0===t?void 0:t.battles)||0,diff:r.a.number.toInteger(null===(e=M.diff)||void 0===e?void 0:e.battles,!0)},{key:"winRate",label:"Победы",value:r.a.number.toFloatPercent((null===(n=M.stat)||void 0===n?void 0:n.winRate)||0),diff:r.a.number.toFloatPercent(null===(l=M.diff)||void 0===l?void 0:l.winRate,!0),color:o.a.winRate((null===(c=M.stat)||void 0===c?void 0:c.winRate)||0)},{key:"damagePerBattle",label:"Урон",value:(null===(f=M.stat)||void 0===f?void 0:f.damagePerBattle)||0,diff:r.a.number.toInteger(null===(d=M.diff)||void 0===d?void 0:d.damagePerBattle,!0)},{key:"fragPerBattle",label:"Уничтожено",value:r.a.number.toFloatNumber((null===(v=M.stat)||void 0===v?void 0:v.fragPerBattle)||0),diff:r.a.number.toFloatNumber(null===(m=M.diff)||void 0===m?void 0:m.fragPerBattle,!0)},{key:"surviveRate",label:"Выживаемость",value:r.a.number.toFloatPercent((null===(_=M.stat)||void 0===_?void 0:_.surviveRate)||0),diff:r.a.number.toFloatPercent(null===(h=M.diff)||void 0===h?void 0:h.surviveRate,!0)},{key:"hitRate",label:"Меткость",value:r.a.number.toFloatPercent((null===(y=M.stat)||void 0===y?void 0:y.hitRate)||0),diff:r.a.number.toFloatPercent(null===(x=M.diff)||void 0===x?void 0:x.hitRate,!0)},{key:"spottedPerBattle",label:"Обнаружено",value:r.a.number.toFloatNumber((null===(j=M.stat)||void 0===j?void 0:j.spottedPerBattle)||0),diff:r.a.number.toFloatNumber(null===(k=M.diff)||void 0===k?void 0:k.spottedPerBattle,!0)},{key:"xpPerBattle",label:"Опыт",value:r.a.number.toInteger((null===(w=M.stat)||void 0===w?void 0:w.xpPerBattle)||0),diff:r.a.number.toInteger(null===(O=M.diff)||void 0===O?void 0:O.xpPerBattle,!0)},{key:"maxFrags",label:"Уничтожено макс.",value:(null===(C=M.stat)||void 0===C?void 0:C.max_frags)||0,diff:r.a.number.toInteger(null===(R=M.diff)||void 0===R?void 0:R.max_frags,!0)},{key:"maxXp",label:"Опыт макс.",value:(null===(P=M.stat)||void 0===P?void 0:P.max_xp)||0,diff:r.a.number.toInteger(null===(B=M.diff)||void 0===B?void 0:B.max_xp,!0)}];if(M.achievements&&M.stat&&!M.showSession){var D=M.achievements.max_series.jointVictory/(M.stat.wins/100);I.push({key:"winsInPlatoon",label:"Побед во взводе",value:r.a.number.toFloatPercent(D||0)})}if(!M.showSession){var F;M.tanks=null!==(F=M.tanks)&&void 0!==F?F:[];var S=M.tanks.reduce((function(t,e){return 4===e.mark_of_mastery?t+=1:t}),0);I.push({key:"tanksWithMaster",label:'Танков с знаком "Мастер"',value:"".concat(S," / ").concat(M.tanks.length)})}return I},accountRating:function(){var t,e,n,l,c,f,d,v,m,_,h,y,x,j,k,w,O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},C=[{key:"battles",label:"Боёв",value:(null===(t=O.stat)||void 0===t?void 0:t.battles)||0,diff:r.a.number.toInteger(null===(e=O.diff)||void 0===e?void 0:e.battles,!0)},{key:"winRate",label:"Побед",value:r.a.number.toFloatPercent((null===(n=O.stat)||void 0===n?void 0:n.winRate)||0),diff:r.a.number.toFloatPercent(null===(l=O.diff)||void 0===l?void 0:l.winRate,!0),color:o.a.winRate((null===(c=O.stat)||void 0===c?void 0:c.winRate)||0)},{key:"damagePerBattle",label:"Урон",value:(null===(f=O.stat)||void 0===f?void 0:f.damagePerBattle)||0,diff:r.a.number.toInteger(null===(d=O.diff)||void 0===d?void 0:d.damagePerBattle,!0)},{key:"fragPerBattle",label:"Уничтожено",value:r.a.number.toFloatNumber((null===(v=O.stat)||void 0===v?void 0:v.fragPerBattle)||0),diff:r.a.number.toFloatNumber(null===(m=O.diff)||void 0===m?void 0:m.fragPerBattle,!0)},{key:"surviveRate",label:"Выживаемость",value:r.a.number.toFloatPercent((null===(_=O.stat)||void 0===_?void 0:_.surviveRate)||0),diff:r.a.number.toFloatPercent(null===(h=O.diff)||void 0===h?void 0:h.surviveRate,!0)},{key:"hitRate",label:"Меткость",value:r.a.number.toFloatPercent((null===(y=O.stat)||void 0===y?void 0:y.hitRate)||0),diff:r.a.number.toFloatPercent(null===(x=O.diff)||void 0===x?void 0:x.hitRate,!0)},{key:"spottedPerBattle",label:"Обнаружено",value:r.a.number.toFloatNumber((null===(j=O.stat)||void 0===j?void 0:j.spottedPerBattle)||0),diff:r.a.number.toFloatNumber(null===(k=O.diff)||void 0===k?void 0:k.spottedPerBattle,!0)}];if(null!==(w=O.stat)&&void 0!==w&&w.mm_rating){var R=10*(O.stat.mm_rating||0)+3e3;C.push({key:"mm_rating",label:"Рейтинг",value:r.a.number.toInteger(R)})}else{var P,B=10-((null===(P=O.stat)||void 0===P?void 0:P.calibration_battles_left)||0);C.push({key:"calibration_battles_left",label:B<10?"Калибровочные бои":"Рейтинг",value:B<10?"".concat(r.a.number.toInteger(B),"/10"):"---"})}return C},tank:function(t){var e=l.a.tank(t.all),n=[{key:"battles",label:"Боёв",value:e.battles||0},{key:"winRate",label:"Побед",value:r.a.number.toFloatPercent(e.winRate||0),color:o.a.winRate(e.winRate||0)},{key:"damagePerBattle",label:"Урон",value:e.damagePerBattle||0},{key:"fragPerBattle",label:"Уничтожено",value:r.a.number.toFloatNumber(e.fragPerBattle||0)},{key:"surviveRate",label:"Выживаемость",value:r.a.number.toFloatPercent(e.surviveRate||0)},{key:"hitRate",label:"Меткость",value:r.a.number.toFloatPercent(e.hitRate||0)},{key:"spottedPerBattle",label:"Обнаружено",value:r.a.number.toFloatNumber(e.spottedPerBattle||0)},{key:"xpPerBattle",label:"Опыт",value:r.a.number.toInteger(e.xpPerBattle||0)},{key:"maxFrags",label:"Уничтожено макс.",value:e.max_frags||0},{key:"maxXp",label:"Опыт макс.",value:e.max_xp||0}],c=t.achievements.max_series.jointVictory/(e.wins/100);n.push({key:"winsInPlatoon",label:"Побед во взводе",value:r.a.number.toFloatPercent(c||0)});var f=t.battle_life_time/e.battles/60||0;return n.push({key:"lifeTime",label:"Время жизни в минутах",value:f.toFixed(1)}),n},clan:function(t,e){var n,c,f,d,v,m;return t&&e&&(m=l.a.accountAll(t.all,e)),[{key:"battles",label:"Боёв",value:(null===(n=m)||void 0===n?void 0:n.battles)||0},{key:"winRate",label:"Побед",value:r.a.number.toFloatPercent((null===(c=m)||void 0===c?void 0:c.winRate)||0),color:o.a.winRate((null===(f=m)||void 0===f?void 0:f.winRate)||0)},{key:"damagePerBattle",label:"Урон",value:(null===(d=m)||void 0===d?void 0:d.damagePerBattle)||0},{key:"fragPerBattle",label:"Уничтожено",value:r.a.number.toFloatNumber((null===(v=m)||void 0===v?void 0:v.fragPerBattle)||0)}]}})},665:function(t,e,n){"use strict";n(639)},666:function(t,e,n){var r=n(75)((function(i){return i[1]}));r.push([t.i,".metrics-plates__list{display:flex;flex-wrap:wrap;list-style:none;padding:0}.metrics-plates__item{align-items:center;background-color:var(--bg-color);border:1px solid var(--border-color-light);display:inline-flex;flex-direction:column;justify-content:center;margin:2px;padding:10px;position:relative;width:calc(16.66667% - 4px)}@media only screen and (max-width:1400px){.metrics-plates__item{width:calc(25% - 4px)}}@media only screen and (max-width:768px){.metrics-plates__item{width:calc(50% - 4px)}}.metrics-plates__item-label{color:var(--color-text-light);display:inline-flex;font-size:14px;line-height:1.125;text-align:center}.metrics-plates__item-value{align-items:center;display:flex;font-size:22px;justify-content:center;line-height:1.25;margin:12px 0;position:relative;width:100%}.metrics-plates__item-diff{bottom:0;color:var(--color-text-lightest);display:flex;font-size:12px;font-weight:400;justify-content:center;left:0;position:absolute;right:0;top:100%}",""]),r.locals={},t.exports=r},667:function(t,e,n){"use strict";var r=n(16),o=n(71),l=n(38),c=/"/g,f=r("".replace);t.exports=function(t,e,n,r){var d=l(o(t)),v="<"+e;return""!==n&&(v+=" "+n+'="'+f(l(r),c,"&quot;")+'"'),v+">"+d+"</"+e+">"}},668:function(t,e,n){"use strict";var r=n(15);t.exports=function(t){return r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},678:function(t,e,n){"use strict";n(641)},679:function(t,e,n){var r=n(75)((function(i){return i[1]}));r.push([t.i,".page-section{position:relative}.page-section__title{border-bottom:1px solid var(--border-color-light);display:flex;font-size:20px;font-weight:500;margin:1em 0;padding:0 0 .1em}.page-section__anchor{bottom:0;pointer-events:none;position:absolute;width:100%}",""]),r.locals={},t.exports=r},684:function(t,e,n){var r=n(741),o=n(742);t.exports=function(source,t,object,e){var n=!object;object||(object={});for(var l=-1,c=t.length;++l<c;){var f=t[l],d=e?e(object[f],source[f],f,object,source):void 0;void 0===d&&(d=source[f]),n?o(object,f,d):r(object,f,d)}return object}},709:function(t,e,n){var r=n(797),o=n(801),l=n(708);t.exports=function(object){return l(object)?r(object,!0):o(object)}},710:function(t,e,n){var r=n(779);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},729:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n(584);var r={smart:function(t,e){var n=e.prop,r=e.order;return r?t.sort((function(a,b){var t=("desc"===r?b:a)[n],e=("desc"===r?a:b)[n];return String(t).localeCompare(String(e),void 0,{numeric:!0,sensitivity:"base"})})):t},clanMembersDefault:function(t){!function(t){t.sort((function(a,b){return a.joined_at-b.joined_at}))}(t),function(t){t.sort((function(a,b){var t={recruit:0,private:1,executive_officer:2,commander:3};return t[b.role]-t[a.role]}))}(t)}}},740:function(t,e,n){var r=n(791);t.exports=function(t){return r(t,5)}},741:function(t,e,n){var r=n(742),o=n(683),l=Object.prototype.hasOwnProperty;t.exports=function(object,t,e){var n=object[t];l.call(object,t)&&o(n,e)&&(void 0!==e||t in object)||r(object,t,e)}},742:function(t,e,n){var r=n(795);t.exports=function(object,t,e){"__proto__"==t&&r?r(object,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):object[t]=e}},750:function(t,e,n){var r=n(808),o=n(751),l=n(749),c=n(806),f=Object.getOwnPropertySymbols?function(object){for(var t=[];object;)r(t,l(object)),object=o(object);return t}:c;t.exports=f},751:function(t,e,n){var r=n(799)(Object.getPrototypeOf,Object);t.exports=r},761:function(t,e,n){var content=n(837);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(76).default)("73ecea1a",content,!0,{sourceMap:!1})},791:function(t,e,n){var r=n(772),o=n(794),l=n(741),c=n(796),f=n(800),d=n(803),v=n(804),m=n(805),_=n(807),h=n(778),y=n(810),x=n(699),j=n(811),k=n(812),w=n(817),O=n(731),C=n(744),R=n(819),P=n(588),B=n(821),M=n(743),I=n(709),D="[object Arguments]",F="[object Function]",S="[object Object]",A={};A[D]=A["[object Array]"]=A["[object ArrayBuffer]"]=A["[object DataView]"]=A["[object Boolean]"]=A["[object Date]"]=A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Map]"]=A["[object Number]"]=A[S]=A["[object RegExp]"]=A["[object Set]"]=A["[object String]"]=A["[object Symbol]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A["[object Error]"]=A[F]=A["[object WeakMap]"]=!1,t.exports=function t(e,n,L,V,object,E){var z,N=1&n,T=2&n,U=4&n;if(L&&(z=object?L(e,V,object,E):L(e)),void 0!==z)return z;if(!P(e))return e;var $=O(e);if($){if(z=j(e),!N)return v(e,z)}else{var H=x(e),J=H==F||"[object GeneratorFunction]"==H;if(C(e))return d(e,N);if(H==S||H==D||J&&!object){if(z=T||J?{}:w(e),!N)return T?_(e,f(z,e)):m(e,c(z,e))}else{if(!A[H])return object?e:{};z=k(e,H,N)}}E||(E=new r);var W=E.get(e);if(W)return W;E.set(e,z),B(e)?e.forEach((function(r){z.add(t(r,n,L,r,e,E))})):R(e)&&e.forEach((function(r,o){z.set(o,t(r,n,L,o,e,E))}));var X=$?void 0:(U?T?y:h:T?I:M)(e);return o(X||e,(function(r,o){X&&(r=e[o=r]),l(z,o,t(r,n,L,o,e,E))})),z}},794:function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},795:function(t,e,n){var r=n(698),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},796:function(t,e,n){var r=n(684),o=n(743);t.exports=function(object,source){return object&&r(source,o(source),object)}},800:function(t,e,n){var r=n(684),o=n(709);t.exports=function(object,source){return object&&r(source,o(source),object)}},801:function(t,e,n){var r=n(588),o=n(748),l=n(802),c=Object.prototype.hasOwnProperty;t.exports=function(object){if(!r(object))return l(object);var t=o(object),e=[];for(var n in object)("constructor"!=n||!t&&c.call(object,n))&&e.push(n);return e}},802:function(t,e){t.exports=function(object){var t=[];if(null!=object)for(var e in Object(object))t.push(e);return t}},803:function(t,e,n){(function(t){var r=n(589),o=e&&!e.nodeType&&e,l=o&&"object"==typeof t&&t&&!t.nodeType&&t,c=l&&l.exports===o?r.Buffer:void 0,f=c?c.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=f?f(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(777)(t))},804:function(t,e){t.exports=function(source,t){var e=-1,n=source.length;for(t||(t=Array(n));++e<n;)t[e]=source[e];return t}},805:function(t,e,n){var r=n(684),o=n(749);t.exports=function(source,object){return r(source,o(source),object)}},807:function(t,e,n){var r=n(684),o=n(750);t.exports=function(source,object){return r(source,o(source),object)}},810:function(t,e,n){var r=n(809),o=n(750),l=n(709);t.exports=function(object){return r(object,l,o)}},811:function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},812:function(t,e,n){var r=n(710),o=n(813),l=n(814),c=n(815),f=n(816);t.exports=function(object,t,e){var n=object.constructor;switch(t){case"[object ArrayBuffer]":return r(object);case"[object Boolean]":case"[object Date]":return new n(+object);case"[object DataView]":return o(object,e);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return f(object,e);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(object);case"[object RegExp]":return l(object);case"[object Symbol]":return c(object)}}},813:function(t,e,n){var r=n(710);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},814:function(t,e){var n=/\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},815:function(t,e,n){var r=n(590),o=r?r.prototype:void 0,l=o?o.valueOf:void 0;t.exports=function(symbol){return l?Object(l.call(symbol)):{}}},816:function(t,e,n){var r=n(710);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},817:function(t,e,n){var r=n(818),o=n(751),l=n(748);t.exports=function(object){return"function"!=typeof object.constructor||l(object)?{}:r(o(object))}},818:function(t,e,n){var r=n(588),o=Object.create,l=function(){function object(){}return function(t){if(!r(t))return{};if(o)return o(t);object.prototype=t;var e=new object;return object.prototype=void 0,e}}();t.exports=l},819:function(t,e,n){var r=n(820),o=n(746),l=n(747),c=l&&l.isMap,f=c?o(c):r;t.exports=f},820:function(t,e,n){var r=n(699),o=n(598);t.exports=function(t){return o(t)&&"[object Map]"==r(t)}},821:function(t,e,n){var r=n(822),o=n(746),l=n(747),c=l&&l.isSet,f=c?o(c):r;t.exports=f},822:function(t,e,n){var r=n(699),o=n(598);t.exports=function(t){return o(t)&&"[object Set]"==r(t)}},836:function(t,e,n){"use strict";n(761)},837:function(t,e,n){var r=n(75)((function(i){return i[1]}));r.push([t.i,".clan-events{display:inline-flex}.clan-events__inner{position:relative}.clan-events__panel{align-items:center;display:flex;justify-content:space-between}.clan-events__prop{align-items:center;display:flex;flex-wrap:wrap}.clan-events__prop:not(:last-child){margin:0 0 4px}.clan-events__prop-title{color:var(--color-text-light);font-size:14px;margin:0 10px 0 0}.clan-events__prop-value{margin:0 4px 0 0}.clan-events__btn{color:var(--color-text);position:relative}.clan-events__btn--has-unread{color:var(--color-text-link)}.clan-events__count{background-color:var(--bg-color);border:1px solid var(--border-color-light);bottom:0;display:inline-flex;font-size:10px;justify-content:center;left:0;line-height:1.4;min-width:14px;padding:0 2px;pointer-events:none;position:absolute}",""]),r.locals={},t.exports=r},862:function(t,e,n){"use strict";n.r(e);n(84);var r=n(35),o=n(36),l=n(40),c=n(41),f=n(25),d=n(21),v=(n(4),n(1),n(34),n(6),n(152),n(130),n(131),n(17)),m=n(114),_=n(153),h=n(366),y=n.n(h);function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(f.a)(t);if(e){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var j=function(t,e,n,desc){var r,o=arguments.length,l=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l},k=function(t){Object(l.a)(n,t);var e=x(n);function n(){var t;return Object(r.a)(this,n),(t=e.apply(this,arguments)).name="ClanEvents",t}return Object(o.a)(n,[{key:"changesCount",get:function(){return this.joinedMembers.length+this.leftMembers.length}},{key:"leftMembers",get:function(){var t,e,n,r,o=null!==(t=null===(e=this.clan)||void 0===e?void 0:e.members_ids)&&void 0!==t?t:[],l=null!==(n=null===(r=this.savedClan)||void 0===r?void 0:r.members)&&void 0!==n?n:[];return Object.values(l).filter((function(i){return!o.includes(i.account_id)}))}},{key:"joinedMembers",get:function(){var t,e,n,r,o=null!==(t=null===(e=this.clan)||void 0===e?void 0:e.members)&&void 0!==t?t:[],l=null!==(n=null===(r=this.savedClan)||void 0===r?void 0:r.members_ids)&&void 0!==n?n:[];return Object.values(o).filter((function(i){return!l.includes(i.account_id)}))}},{key:"reset",value:function(){}},{key:"handleResetBtn",value:function(){this.reset(),this.dialogRef.doClose()}},{key:"handleClickEventsBtn",value:function(){this.dialogRef.doOpen()}},{key:"handleCloseBtn",value:function(){this.dialogRef.doClose()}}]),n}(v.Vue);j([Object(v.Prop)({required:!0})],k.prototype,"savedAt",void 0),j([Object(v.Prop)({required:!0})],k.prototype,"clan",void 0),j([Object(v.Prop)({required:!0})],k.prototype,"savedClan",void 0),j([Object(v.Ref)("dialog")],k.prototype,"dialogRef",void 0),j([Object(v.Emit)("reset")],k.prototype,"reset",null);var w=k=j([Object(v.Component)({components:{CDialog:_.default,CButton:m.default,MailIcon:y.a}})],k),O=(n(836),n(37)),component=Object(O.a)(w,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"clan-events"},[e("div",{staticClass:"clan-events__inner"},[e("CButton",{staticClass:"clan-events__btn",class:[t.changesCount?"clan-events__btn--has-unread":""],attrs:{disabled:!t.changesCount,"is-text":"","is-square":"",title:"События клана"},on:{click:t.handleClickEventsBtn}},[e("MailIcon")],1),t._v(" "),e("div",{staticClass:"clan-events__count"},[t._v("\n      "+t._s(t.changesCount>99?"99+":t.changesCount)+"\n    ")])],1),t._v(" "),e("CDialog",{ref:"dialog",attrs:{width:"640px"},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"clan-events__prop"},[e("span",{staticClass:"clan-events__prop-title"},[t._v("\n          События от\n        ")]),t._v("\n        "+t._s(t.$formatter.date.toLocaleDateTime(t.savedAt))+" ("+t._s(t.$formatter.date.toDaysPassed(t.savedAt,Date.now()))+")\n      ")])]},proxy:!0},{key:"footer",fn:function(){return[e("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[e("div"),t._v(" "),e("div",[e("CButton",{on:{click:t.handleResetBtn}},[t._v("\n            Прочитано\n          ")]),t._v(" "),e("CButton",{on:{click:t.handleCloseBtn}},[t._v("\n            Закрыть\n          ")])],1)])]},proxy:!0}])},[t._v(" "),t.leftMembers.length?e("div",{staticClass:"clan-events__prop"},[e("span",{staticClass:"clan-events__prop-title"},[t._v("\n        Покинули ("+t._s(t.leftMembers.length)+")\n      ")]),t._v(" "),t._l(t.leftMembers,(function(n,r){return e("span",{key:n.account_id,staticClass:"clan-events__prop-value"},[e("nuxt-link",{staticClass:"link",attrs:{to:{name:"account-id",params:{id:n.account_id}}}},[t._v("\n          "+t._s(n.account_name)+"\n        ")]),t._v(t._s(r+1!==t.leftMembers.length?", ":"")+"\n      ")],1)}))],2):t._e(),t._v(" "),t.joinedMembers.length?e("div",{staticClass:"clan-events__prop"},[e("span",{staticClass:"clan-events__prop-title"},[t._v("\n        Вступили ("+t._s(t.joinedMembers.length)+")\n      ")]),t._v(" "),t._l(t.joinedMembers,(function(n,r){return e("span",{key:n.account_id,staticClass:"clan-events__prop-value"},[e("nuxt-link",{staticClass:"link",attrs:{to:{name:"account-id",params:{id:n.account_id}}}},[t._v("\n          "+t._s(n.account_name)+"\n        ")]),t._v(t._s(r+1!==t.joinedMembers.length?", ":"")+"\n      ")],1)}))],2):t._e(),t._v(" "),t.changesCount?t._e():e("span",[t._v("\n      Пока всё тихо ...\n    ")])])],1)}),[],!1,null,null,null);e.default=component.exports},885:function(t,e,n){var content=n(963);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(76).default)("3b09ac08",content,!0,{sourceMap:!1})},962:function(t,e,n){"use strict";n(885)},963:function(t,e,n){var r=n(75)((function(i){return i[1]}));r.push([t.i,".clan-page{padding:10px 0 20px}.clan-page__filters{margin:0 0 20px}.clan-page__statusbar{display:flex;justify-content:flex-end;margin:0 0 10px}.clan-page__preview{background-color:var(--bg-color);border:1px solid var(--border-color-light);padding:20px}",""]),r.locals={},t.exports=r},988:function(t,e,n){"use strict";n.r(e);n(584),n(84);var r=n(106),o=n(12),l=n(35),c=n(36),f=n(40),d=n(41),v=n(25),m=n(21),_=(n(49),n(4),n(1),n(34),n(6),n(48),n(185),n(130),n(131),n(133),n(152),n(55),n(17)),h=n(740),y=n.n(h),x=n(115),j=n(632),k=n(896),w=n(897),O=n(729),C=n(638),R=n(599),P=n(226),B=n(104),M=n(629),I=n(586),D=n(52),F=n(662),S=n(656),A=n(862),L=n(647);function V(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(v.a)(t);if(e){var o=Object(v.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var E=function(t,e,n,desc){var r,o=arguments.length,l=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(m.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(l=(o<3?r(l):o>3?r(e,n,l):r(e,n))||l);return o>3&&l&&Object.defineProperty(e,n,l),l},z=function(t){Object(f.a)(w,t);var e,n,d,v,m,_,h,j,k=V(w);function w(){var t;return Object(l.a)(this,w),(t=k.apply(this,arguments)).name="ClanPage",t.notify=B.a.notify(),t.loading=0,t.clanInfo=null,t.clan=null,t.filters=C.a.makeClanFilters(),t.statisticsSum=null,t.savedMembers=[],t.savedClan=null,t.clanSavedAt=0,t.sort={order:"desc",prop:"lastBattleTime"},t.headers=[{key:"account_name",label:"Участник",hasSort:!0},{key:"battles",label:"Боёв",hasSort:!0,sortMethod:function(a,b){return a.statistic.all.battles-b.statistic.all.battles}},{key:"winRate",label:"Побед",hasSort:!0,sortMethod:function(a,b){return a.statistic.all.winRate-b.statistic.all.winRate}},{key:"damagePerBattle",label:"Урон",hasSort:!0,sortMethod:function(a,b){return a.statistic.all.damagePerBattle-b.statistic.all.damagePerBattle}},{key:"rating",label:"Рейтинг",hasSort:!0,sortMethod:function(a,b){var t,e,n,r;return(null!==(t=null===(e=a.statistic.rating)||void 0===e?void 0:e.rating)&&void 0!==t?t:0)-(null!==(n=null===(r=b.statistic.rating)||void 0===r?void 0:r.rating)&&void 0!==n?n:0)}},{key:"lastBattleTime",label:"Последний бой",hasSort:!0,formatter:function(t){return"number"==typeof t?P.a.date.toDatePassed(1e3*t):"-"}},{key:"joined_at",label:"В клане",hasSort:!0}],t}return Object(c.a)(w,[{key:"clanMembers",get:function(){var t;return(null===(t=this.clan)||void 0===t?void 0:t.members)||[]}},{key:"filteredClanMembers",get:function(){var t=this,e=this.clanMembers.filter((function(e){var n=e.account_name.toLowerCase(),r=t.filters.search.toLowerCase();return n.includes(r)})),n=Date.now(),r=864e5;if(this.filters.joinedAtDays){var param=C.a.parseParameter(this.filters.joinedAtDays);e=this.clanMembers.filter((function(t){return C.a.executeExpression(n-param.value*r,1e3*t.joined_at,param.operator)}))}if(this.filters.lastBattleDays){var o=C.a.parseParameter(this.filters.lastBattleDays);e=this.clanMembers.filter((function(t){return C.a.executeExpression(n-o.value*r,1e3*t.lastBattleTime,o.operator)}))}return e}},{key:"metricsItems",get:function(){var t;return F.a.clan(null!==(t=this.statisticsSum)&&void 0!==t?t:void 0,this.clanMembers.length)}},{key:"created",value:(j=Object(o.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=+this.$route.params.id){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,this.getAllData(e);case 5:case"end":return t.stop()}}),t,this)}))),function(){return j.apply(this,arguments)})},{key:"getClanInfo",value:(h=Object(o.a)(regeneratorRuntime.mark((function t(e){var n,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading++,t.prev=1,t.next=4,x.a.clan.getInfo({clan_id:e,extra:"members"});case 4:n=t.sent,data=n.data,this.clanInfo=null==data?void 0:data[e],t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),this.notify.add({type:"error",message:"Получение данных клана"}),console.error(t.t0);case 13:this.loading--;case 14:case"end":return t.stop()}}),t,this,[[1,9]])}))),function(t){return h.apply(this,arguments)})},{key:"getAccountInfo",value:(_=Object(o.a)(regeneratorRuntime.mark((function t(e){var n,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading++,t.prev=1,t.next=4,x.a.account.getInfo({extra:"statistics.rating",account_id:e.join(",")});case 4:return n=t.sent,data=n.data,t.abrupt("return",data);case 9:return t.prev=9,t.t0=t.catch(1),this.notify.add({type:"error",message:"Получение данных аккаунта"}),console.error(t.t0),t.abrupt("return",null);case 14:return t.prev=14,this.loading--,t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,9,14,17]])}))),function(t){return _.apply(this,arguments)})},{key:"getAllData",value:(m=Object(o.a)(regeneratorRuntime.mark((function t(e){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getClanInfo(e);case 2:if(this.clanInfo){t.next=4;break}return t.abrupt("return");case 4:if(!this.clanInfo.members){t.next=7;break}return t.next=7,this.loadAccounts(this.clanInfo);case 7:return t.next=9,this.loadClan(this.clanInfo);case 9:if(this.savedClan){t.next=12;break}return t.next=12,this.saveClan(this.clanInfo);case 12:return t.next=14,this.getAccountInfo(Object(r.a)(this.clanInfo.members_ids));case 14:(n=t.sent)&&(this.clan=R.a.clan(this.clanInfo,n),o=Object.values(n).filter(L.a),this.statisticsSum=o.reduce((function(t,e){return I.a.sumFull(t,e.statistics)}),o[0].statistics),O.a.clanMembersDefault(this.clanMembers)),this.loading--;case 17:case"end":return t.stop()}}),t,this)}))),function(t){return m.apply(this,arguments)})},{key:"loadAccounts",value:(v=Object(o.a)(regeneratorRuntime.mark((function t(e){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.loading++,n=[],t.t0=regeneratorRuntime.keys(e.members);case 3:if((t.t1=t.t0()).done){t.next=13;break}return r=t.t1.value,t.next=7,D.a.indexedDB.accountsInfo.get(r);case 7:if(o=t.sent){t.next=10;break}return t.abrupt("continue",3);case 10:n.push(R.a.clanMember(e.members[r],o.data)),t.next=3;break;case 13:this.savedMembers=n,this.loading--;case 15:case"end":return t.stop()}}),t,this)}))),function(t){return v.apply(this,arguments)})},{key:"saveClan",value:(d=Object(o.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading++,t.next=3,D.a.indexedDB.clansInfo.set(e.clan_id,e);case 3:this.savedClan=y()(e),this.clanSavedAt=Date.now(),this.loading--;case 6:case"end":return t.stop()}}),t,this)}))),function(t){return d.apply(this,arguments)})},{key:"loadClan",value:(n=Object(o.a)(regeneratorRuntime.mark((function t(e){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading++,t.next=3,D.a.indexedDB.clansInfo.get(e.clan_id);case 3:o=t.sent,this.savedClan=null!==(n=null==o?void 0:o.data)&&void 0!==n?n:null,this.clanSavedAt=null!==(r=null==o?void 0:o.timestamp)&&void 0!==r?r:0,this.loading--;case 7:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"handleSort",value:function(t){t.order||O.a.clanMembersDefault(this.clanMembers)}},{key:"handleResetClanEvents",value:(e=Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.clanInfo){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.saveClan(this.clanInfo);case 4:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),w}(_.Vue),N=z=E([Object(_.Component)({components:{PageSection:S.default,MetricsPlates:M.default,ClanDetails:j.default,ClanViewMembersTable:k.default,ClanViewFilter:w.default,ClanEvents:A.default},head:function(){return{title:"Клан | Blitz Commander"}}})],z),T=(n(962),n(37)),component=Object(T.a)(N,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"clan-page"},[e("div",{staticClass:"clan-page__statusbar"},[e("div",{staticClass:"clan-page__events"},[t.clanInfo&&t.savedClan?e("ClanEvents",{attrs:{clan:t.clanInfo,"saved-clan":t.savedClan,"saved-at":t.clanSavedAt},on:{reset:t.handleResetClanEvents}}):t._e()],1)]),t._v(" "),e("ClanDetails",{staticClass:"clan-page__preview",attrs:{"hide-description":!0,clan:t.clan,loading:t.loading>0}}),t._v(" "),e("PageSection",{attrs:{title:"Статистика",identity:"statistic"}},[e("MetricsPlates",{attrs:{loading:t.loading>0,items:t.metricsItems}})],1),t._v(" "),e("PageSection",{attrs:{title:"Участники",identity:"members"}},[e("ClanViewFilter",{staticClass:"clan-page__filters",attrs:{filters:t.filters}}),t._v(" "),e("ClanViewMembersTable",{attrs:{sort:t.sort,headers:t.headers,"saved-members":t.savedMembers,members:t.filteredClanMembers},on:{sort:t.handleSort}})],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{ClanEvents:n(862).default,ClanDetails:n(632).default,MetricsPlates:n(629).default,PageSection:n(656).default,ClanViewFilter:n(897).default,ClanViewMembersTable:n(896).default})}}]);