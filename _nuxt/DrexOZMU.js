import{_ as w}from"./D0bbJ2Al.js";import{_ as g}from"./BeZfJvqk.js";import{_ as B}from"./DSyc53rl.js";import{_ as k}from"./CFtLwjiE.js";import{u as $}from"./CeC760OF.js";import{d as S,y as P,c as C,s as y,o as m,n as d,p as r,g as a,F as N,B as M,w as V,q as U,t as R,e as p,a4 as A,h as F,L as T,j,k as q,E as x,b as D,f as E,_ as I}from"./CbpaTVLF.js";import{_ as L}from"./1fhjzkg-.js";import"./DD4asW33.js";const z={class:"recruitment-player-profile-form"},O={class:"recruitment-player-profile-form__item"},G={class:"recruitment-player-profile-form__item"},H={class:"recruitment-player-profile-form__item"},J={class:"recruitment-player-profile-form__props"},K={class:"recruitment-player-profile-form__props-value"},Q={class:"recruitment-player-profile-form__item"},W={class:"recruitment-player-profile-form__props recruitment-player-profile-form__props--preferences"},X={class:"recruitment-player-profile-form__props-item"},Y={class:"recruitment-player-profile-form__props-item"},Z={class:"recruitment-player-profile-form__props-item"},h={class:"recruitment-player-profile-form__props-item"},ee={class:"recruitment-player-profile-form__tiers"},te=S({__name:"RecruitmentPlayerProfileForm",props:{modelValue:{required:!0,default:()=>({})},modelModifiers:{}},emits:["update:modelValue"],setup(b){const o=P(b,"modelValue"),f=$(),l=C(()=>f.isTablet),_=[{value:"active",label:y.recruitment.playerStatus("active")},{value:"passive",label:y.recruitment.playerStatus("passive")},{value:"inactive",label:y.recruitment.playerStatus("inactive")}];return(c,e)=>{const u=w,s=g,v=B,i=k;return m(),d("div",z,[r("div",O,[e[6]||(e[6]=r("div",{class:"recruitment-player-profile-form__item-title"}," Статус поиска ",-1)),a(u,{modelValue:o.value.status,"onUpdate:modelValue":e[0]||(e[0]=t=>o.value.status=t),class:"recruitment-status-select",options:_,width:"150px"},null,8,["modelValue"])]),r("div",G,[e[7]||(e[7]=r("div",{class:"recruitment-player-profile-form__item-title"}," Цель поиска ",-1)),a(s,{modelValue:o.value.target,"onUpdate:modelValue":e[1]||(e[1]=t=>o.value.target=t)},null,8,["modelValue"])]),r("div",H,[e[8]||(e[8]=r("div",{class:"recruitment-player-profile-form__item-title"}," Время активности (00:00 - 24:00) ",-1)),r("div",J,[(m(!0),d(N,null,M(o.value.schedule,t=>(m(),d("div",{key:t.day,class:"recruitment-player-profile-form__props-item"},[r("div",K,[a(v,{modelValue:t.isActive,"onUpdate:modelValue":n=>t.isActive=n,style:A({width:p(l)?"60px":"134px"})},{default:V(()=>[U(R(c.$formatter.date.toDay(t.day,p(l))),1)]),_:2},1032,["modelValue","onUpdate:modelValue","style"]),a(i,{modelValue:t.start,"onUpdate:modelValue":n=>t.start=n,step:"1",min:"0",max:Math.min(24,t.end-1),width:"70",disabled:!t.isActive},null,8,["modelValue","onUpdate:modelValue","max","disabled"]),a(i,{modelValue:t.end,"onUpdate:modelValue":n=>t.end=n,step:"1",min:Math.max(0,t.start+1),max:"24",width:"70",disabled:!t.isActive},null,8,["modelValue","onUpdate:modelValue","min","disabled"])])]))),128))])]),r("div",Q,[e[13]||(e[13]=r("div",{class:"recruitment-player-profile-form__item-title"}," Предпочтения ",-1)),r("div",W,[r("div",X,[e[9]||(e[9]=r("span",{class:"recruitment-player-profile-form__props-title"}," Победы (%) ",-1)),a(i,{modelValue:o.value.preferences.winRate,"onUpdate:modelValue":e[2]||(e[2]=t=>o.value.preferences.winRate=t),min:"0",max:"99",width:"170"},null,8,["modelValue"])]),r("div",Y,[e[10]||(e[10]=r("span",{class:"recruitment-player-profile-form__props-title"}," Бои ",-1)),a(i,{modelValue:o.value.preferences.battles,"onUpdate:modelValue":e[3]||(e[3]=t=>o.value.preferences.battles=t),min:"0",max:"99999",width:"170"},null,8,["modelValue"])]),r("div",Z,[e[11]||(e[11]=r("span",{class:"recruitment-player-profile-form__props-title"}," Урон ср. ",-1)),a(i,{modelValue:o.value.preferences.damagePerBattle,"onUpdate:modelValue":e[4]||(e[4]=t=>o.value.preferences.damagePerBattle=t),min:"0",max:"9999",width:"170"},null,8,["modelValue"])]),r("div",h,[e[12]||(e[12]=r("span",{class:"recruitment-player-profile-form__props-title"}," Уровни ",-1)),r("div",ee,[a(L,{modelValue:o.value.preferences.tiers,"onUpdate:modelValue":e[5]||(e[5]=t=>o.value.preferences.tiers=t)},null,8,["modelValue"])])])])])])}}}),re={class:"recruitment-profile-page"},oe={style:{display:"flex","justify-content":"space-between"}},de=S({__name:"profile",setup(b){const o=F(),f=T(),l=j({profile:null});async function _(){const{data:u}=await x.recruitment.get({id:o.accountId});l.profile=u}function c(){}function e(){l!=null&&l.profile&&(x.recruitment.set(l.profile),f.add({type:"success",message:"Анкета сохранена"}))}return q(()=>{_()}),(u,s)=>{const v=te,i=I;return m(),d("div",re,[s[3]||(s[3]=r("div",{class:"content-area recruitment-profile-page__content"},[r("h2",null,"Профиль"),r("p",null," Здесь вы можете опубликовать анкету для поиска клана, взвода или турнирной команды. Через 5 минут после публикации анкету можно поднять в ТОП. ")],-1)),p(l).profile?(m(),D(v,{key:0,modelValue:p(l).profile,"onUpdate:modelValue":s[0]||(s[0]=t=>p(l).profile=t)},null,8,["modelValue"])):E("",!0),r("div",oe,[a(i,{onClick:c},{default:V(()=>s[1]||(s[1]=[U(" Поднять ")])),_:1}),a(i,{onClick:e},{default:V(()=>s[2]||(s[2]=[U(" Сохранить ")])),_:1})])])}}});export{de as default};
