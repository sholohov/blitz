import{s as h,aM as b}from"./CKv8GwDH.js";const m=()=>h().$device,p=e=>{if(e.min&&!e.max)return`screen and (min-width: ${e.min}px)`;if(e.max&&!e.min)return`screen and (max-width: ${e.max}px)`;if(e.max&&e.min)return`screen and (min-width: ${e.min}px) and (max-width: ${e.max}px)`;throw new Error("createMediaExpression: no property specified")},a=Object.freeze({laptop:1400,tablet:1024,mobile:640,mobileSmall:480}),x={isMobileSm:{max:a.mobileSmall},isMobile:{max:a.mobile},isTablet:{max:a.tablet},isLaptop:{max:a.laptop},isDesktop:{min:a.laptop+1}},v=e=>typeof e=="object"&&!Array.isArray(e)&&e!==null,y=e=>Array.isArray(e),c=e=>typeof e=="function",k=(e,t)=>{const i=n.get(e);i&&i.handlers.push(...t)},g=(e,t)=>Object.is(e,t)||e.match&&t.match?Object.is(e.match,t.match):!1,Q=(e,t)=>{const i=n.get(e);i&&(i.handlers=i.handlers.filter(s=>!t.some(r=>g(s,r))))},d=e=>{const t=[];return c(e)&&t.push({match:e}),v(e)&&t.push(e),y(e)?e.map(i=>c(i)?{match:i}:i):t},E=(e,t)=>{e&&c(t.matchOnce)&&t.matchOnce(),!e&&c(t.unmatchOnce)&&t.unmatchOnce()},f=(e,t)=>{e&&c(t.match)&&t.match(),!e&&c(t.unmatch)&&t.unmatch()},n=new Map,L=e=>{const t={mediaQuery:matchMedia(e),handlers:[],callback(i){const s=n.get(e);s&&s.handlers.forEach(r=>{f(i.matches,r)})}};return n.set(e,t),n.get(e)},M=e=>{var i;const t=n.get(e);t&&((i=t.mediaQuery)!=null&&i.addEventListener?t.mediaQuery.addEventListener("change",t.callback):t.mediaQuery.addListener(t.callback))},l=e=>{var i;const t=n.get(e);t&&((i=t.mediaQuery)!=null&&i.removeEventListener?t.mediaQuery.removeEventListener("change",t.callback):t.mediaQuery.removeListener(t.callback))},u={add(e,t){let i=n.get(e);i||(i=L(e),M(e));const s=d(t);k(e,s);const r=i.mediaQuery.matches;return s.forEach(o=>{E(r,o),o.defer||f(r,o)}),this},remove(e,t){if(t){const i=d(t);Q(e,i)}else l(e),n.delete(e);return this},destroy(){[...n.keys()].forEach(e=>{l(e),n.delete(e)})}},w=b("breakpoints",{state:()=>({isMobile:m().isMobile,isTablet:m().isMobileOrTablet}),actions:{setBreakpoint(e){this[e.key]=e.value},init(){Object.entries(x).forEach(([e,t])=>{t&&u.add(p(t),{match:()=>this.setBreakpoint({key:e,value:!0}),unmatch:()=>this.setBreakpoint({key:e,value:!1})})})},destroy(){u.destroy()}}});export{w as u};
