import{d as $,z as b,A as E,r as p,c as h,l as I,B as K,o as n,m as i,f as s,g as k,n as L,h as c,w as u,t as g,v as y,F as A,D,aI as F,I as R,a3 as T,_ as j,y as q}from"./DEnf58KD.js";import{_ as G}from"./BIawf2pc.js";import{u as H}from"./Cztf3jdt.js";import{d as m}from"./DD4asW33.js";const J={class:"ui-select__input"},P={key:0,class:"ui-select__list"},ee=$({__name:"UiSelect",props:b({options:{type:Array,required:!0,default:()=>[]},disabled:{type:Boolean,default:!1},idKey:{type:[Number,String],default:void 0},width:{type:String,default:void 0}},{modelValue:{},modelModifiers:{}}),emits:b(["input","change"],["update:modelValue"]),setup(e,{emit:w}){const d=E(e,"modelValue"),B=H(),C=e,f=p(),a=p(!1),S=Object.freeze({value:null,label:"Выбрать"}),O=h(()=>C.options.find(t=>t.value===d.value)??S),o=h(()=>B.isMobile);I(()=>{window.addEventListener("click",_)}),K(()=>{window.removeEventListener("click",_)});const v=w;function V(){o.value&&m(!0),a.value=!a.value}function M(t){o.value&&m(!1),d.value=t.value,a.value=!1,v("input",t.value),v("change",t.value)}function _(t){var r;(r=f.value)!=null&&r.contains(t.target)||(a.value=!1)}function x(){a.value=!1,m(!1)}return(t,r)=>{const N=j,z=q,U=G;return n(),i("div",{ref_key:"wrapperRef",ref:f,class:R(["ui-select",["ui-select--is-"+(s(a)?"opened":"closed"),s(o)?"ui-select--is-mobile":""]]),style:T({width:e.width})},[s(o)&&s(a)&&e.options.length?(n(),i("div",{key:0,class:"ui-select__backdrop",onClick:x})):k("",!0),L("div",J,[c(z,{disabled:e.disabled,class:"ui-select__trigger",onClick:V},{after:u(()=>[c(N,{name:"arrow-down",class:"ui-select__arrow"})]),default:u(()=>[g(y(s(O).label)+" ",1)]),_:1},8,["disabled"]),c(F,{name:"ui-select__list-"},{default:u(()=>[s(a)&&e.options.length?(n(),i("ul",P,[(n(!0),i(A,null,D(e.options,l=>(n(),i("li",{key:e.idKey?l[e.idKey]:l.value,class:"ui-select__item"},[c(U,{"model-value":l.value===d.value,disabled:l.disabled,class:"ui-select__item-btn","no-border":"",onChange:Q=>M(l)},{default:u(()=>[g(y(l.label),1)]),_:2},1032,["model-value","disabled","onChange"])]))),128))])):k("",!0)]),_:1})])],6)}}});export{ee as _};
