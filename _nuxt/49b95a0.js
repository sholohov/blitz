(window.webpackJsonp=window.webpackJsonp||[]).push([[78,27,28,29,32,33,41,45,49,55],{1015:function(e,t,n){"use strict";n(918)},1016:function(e,t,n){var r=n(67)((function(i){return i[1]}));r.push([e.i,".clan-page--no-data{align-items:center;display:flex;height:calc(100vh - 100px);justify-content:center;position:relative;text-align:center}.clan-page__filters{margin:0 0 20px}.clan-page__statusbar{align-items:center;background-color:var(--bg-color);border:1px solid var(--border-color-light);display:flex;gap:10px;justify-content:space-between;padding:10px 15px}.clan-page__preview{margin:0 0 4px}",""]),r.locals={},e.exports=r},1046:function(e,t,n){"use strict";n.r(t);n(606),n(72);var r=n(13),o=n(32),l=n(33),c=n(35),d=n(36),f=n(23),v=n(20),_=(n(43),n(3),n(1),n(5),n(44),n(185),n(116),n(117),n(153),n(50),n(51),n(154),n(15)),h=n(805),m=n.n(h),y=n(94),x=n(885),w=n(928),k=n(886),C=n(795),O=n(650),j=n(669),R=n(105),P=n(639),B=n(614),I=n(53),D=n(695),M=n(658),F=n(887),S=n(668),A=n(226),E=n(114);function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var N=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},z=function(e){Object(c.a)(M,e);var t,n,d,f,v,_,h,x,w,k,P=L(M);function M(){var e;return Object(o.a)(this,M),(e=P.apply(this,arguments)).notify=R.a.notify(),e.loading=0,e.users=[],e.clanInfo=null,e.clan=null,e.filters=O.a.makeClanFilters(),e.statisticsSum=null,e.savedMembers=[],e.savedClan=null,e.clanSavedAt=0,e.sort={order:"desc",prop:""},e.metricsItems=[],e}return Object(l.a)(M,[{key:"clanMembers",get:function(){var e;return(null===(e=this.clan)||void 0===e?void 0:e.members)||[]}},{key:"filteredClanMembers",get:function(){var e=this,t=this.clanMembers.filter((function(t){var n=t.account_name.toLowerCase(),r=e.filters.search.toLowerCase();return n.includes(r)})),n=Date.now(),r=864e5;if(this.filters.joinedAtDays){var param=O.a.parseParameter(this.filters.joinedAtDays);t=this.clanMembers.filter((function(e){return O.a.executeExpression(n-param.value*r,1e3*e.joined_at,param.operator)}))}if(this.filters.lastBattleDays){var o=O.a.parseParameter(this.filters.lastBattleDays);t=this.clanMembers.filter((function(e){return O.a.executeExpression(n-o.value*r,1e3*e.last_battle_time,o.operator)}))}return t}},{key:"created",value:(k=Object(r.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=+this.$route.params.id){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.getAllData(t);case 5:case"end":return e.stop()}}),e,this)}))),function(){return k.apply(this,arguments)})},{key:"getClanMembers",value:(w=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,data,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading++,e.prev=1,e.next=4,y.a.clan.getAccountInfo({account_id:t.join(",")});case 4:return n=e.sent,data=n.data,e.abrupt("return",data);case 9:return e.prev=9,e.t0=e.catch(1),this.notify.add({type:"error",title:"Получение данных участников клана",message:null!==(r=null===e.t0||void 0===e.t0?void 0:e.t0.message)&&void 0!==r?r:"Неизвестная ошибка"}),console.error(e.t0),e.abrupt("return",null);case 14:return e.prev=14,this.loading--,e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,9,14,17]])}))),function(e){return w.apply(this,arguments)})},{key:"getClanInfo",value:(x=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading++,e.prev=1,e.next=4,y.a.clan.getInfo({clan_id:t});case 4:r=e.sent,data=r.data,this.clanInfo=null!==(n=data[t])&&void 0!==n?n:null,e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),this.notify.add({type:"error",message:"Получение данных клана"}),console.error(e.t0);case 13:this.loading--;case 14:case"end":return e.stop()}}),e,this,[[1,9]])}))),function(e){return x.apply(this,arguments)})},{key:"getUserList",value:(h=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading++,e.prev=1,e.next=4,y.b.user.getList({id:t});case 4:n=e.sent,data=n.data,this.users=data,e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),this.notify.add({type:"error",title:"Получение данных аккаунта",message:null!==e.t0&&void 0!==e.t0&&e.t0.message?"Получение данных аккаунта":"Неизвестная ошибка"}),console.error(e.t0);case 13:this.loading--;case 14:case"end":return e.stop()}}),e,this,[[1,9]])}))),function(e){return h.apply(this,arguments)})},{key:"getAccountInfo",value:(_=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading++,e.prev=1,e.next=4,y.a.account.getInfo({extra:"statistics.rating",account_id:t.join(",")});case 4:return n=e.sent,data=n.data,e.abrupt("return",data);case 9:return e.prev=9,e.t0=e.catch(1),this.notify.add({type:"error",message:"Получение данных аккаунта"}),console.error(e.t0),e.abrupt("return",null);case 14:return e.prev=14,this.loading--,e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,9,14,17]])}))),function(e){return _.apply(this,arguments)})},{key:"getAllData",value:(v=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getClanInfo(t);case 2:if(this.clanInfo){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,this.getClanMembers(this.clanInfo.members_ids);case 6:return n=e.sent,this.clanInfo.members=n,e.next=10,Promise.all([this.getUserList(this.clanInfo.members_ids),this.loadAccounts(this.clanInfo),this.loadClan(this.clanInfo)]);case 10:if(this.savedClan){e.next=13;break}return e.next=13,this.saveClan(this.clanInfo);case 13:return e.next=15,this.getAccountInfo(this.clanInfo.members_ids);case 15:if(r=e.sent){e.next=18;break}return e.abrupt("return");case 18:this.clan=j.a.clan(this.clanInfo,r),o=Object.values(r).filter(S.a),this.statisticsSum=o.reduce((function(e,t,n){return 0===n?o[0].statistics:B.a.sumFull(e,t.statistics)}),{}),this.metricsItems=D.a.clan(o,this.statisticsSum),C.a.clanMembersDefault(this.clanMembers);case 23:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"loadAccounts",value:(f=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.loading++,n=[],e.t0=regeneratorRuntime.keys(t.members);case 3:if((e.t1=e.t0()).done){e.next=14;break}return r=e.t1.value,e.next=7,I.a.indexedDB.accountsInfo.get(r);case 7:if(o=e.sent){e.next=10;break}return e.abrupt("continue",3);case 10:o.data.created_at=o.timestamp,n.push(j.a.clanMember(t.members[r],o.data)),e.next=3;break;case 14:this.savedMembers=n,this.loading--;case 16:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"saveClan",value:(d=Object(r.a)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading++,e.next=3,I.a.indexedDB.clansInfo.set(t.clan_id,t);case 3:this.savedClan=m()(t),this.clanSavedAt=Date.now(),this.loading--;case 6:case"end":return e.stop()}}),e,this)}))),function(e){return d.apply(this,arguments)})},{key:"loadClan",value:(n=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading++,e.next=3,I.a.indexedDB.clansInfo.get(t.clan_id);case 3:o=e.sent,this.savedClan=null!==(n=null==o?void 0:o.data)&&void 0!==n?n:null,this.clanSavedAt=null!==(r=null==o?void 0:o.timestamp)&&void 0!==r?r:0,this.loading--;case 7:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"handleSort",value:function(e){e.order||C.a.clanMembersDefault(this.clanMembers)}},{key:"handleResetClanEvents",value:(t=Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.clanInfo){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.saveClan(this.clanInfo);case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),M}(_.Vue),$=z=N([Object(_.Component)({components:{CButton:E.default,ContentLoader:A.default,PageSection:M.default,MetricsPlates:P.default,ClanPreview:x.default,ClanViewMembersTable:w.default,ClanViewFilter:k.default,ClanEvents:F.default},head:function(){return{title:"Инфо / Кланы | Blitz Commander"}}})],z),V=(n(1015),n(34)),component=Object(V.a)($,(function(){var e=this,t=e._self._c;e._self._setupProxy;return e.clan?t("div",{staticClass:"clan-page"},[t("PageSection",{attrs:{identity:"preview"}},[t("ClanPreview",{staticClass:"clan-page__preview",attrs:{"hide-description":!0,clan:e.clan,loading:e.loading>0},scopedSlots:e._u([{key:"events",fn:function(){return[e.clanInfo&&e.savedClan?t("ClanEvents",{attrs:{clan:e.clanInfo,"saved-clan":e.savedClan,"saved-at":e.clanSavedAt},on:{reset:e.handleResetClanEvents}}):e._e()]},proxy:!0}],null,!1,1870888480)})],1),e._v(" "),t("PageSection",{attrs:{title:"Статистика",identity:"statistic"}},[t("MetricsPlates",{attrs:{loading:e.loading>0,items:e.metricsItems}})],1),e._v(" "),t("PageSection",{attrs:{title:"Участники",identity:"members"}},[t("ClanViewFilter",{staticClass:"clan-page__filters",attrs:{filters:e.filters}}),e._v(" "),t("ClanViewMembersTable",{attrs:{sort:e.sort,users:e.users,"saved-members":e.savedMembers,members:e.filteredClanMembers},on:{sort:e.handleSort}})],1)],1):t("div",{staticClass:"clan-page--no-data"},[e.loading?e._e():t("div",{staticClass:"content-area"},[t("p",[e._v("Нет данных.")]),e._v(" "),t("p",[e._v("Возможно клан удалён.")])]),e._v(" "),t("ContentLoader",{attrs:{loading:e.loading>0}})],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{ClanEvents:n(887).default,ClanPreview:n(885).default,PageSection:n(658).default,MetricsPlates:n(639).default,ClanViewFilter:n(886).default,ClanViewMembersTable:n(928).default,ContentLoader:n(226).default})},609:function(e,t,n){"use strict";n.r(t);var r=n(32),o=n(33),l=n(35),c=n(36),d=n(23),f=n(20),v=(n(3),n(1),n(72),n(15)),_=n(114);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var m=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},y=function(e){Object(l.a)(n,e);var t=h(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"handleClick",value:function(){this.$emit("input",!this.checked),this.$emit("change",!this.checked)}}]),n}(v.Vue);m([Object(v.Model)("change",{default:!1})],y.prototype,"checked",void 0),m([Object(v.Prop)({default:!1})],y.prototype,"disabled",void 0),m([Object(v.Prop)({default:!1})],y.prototype,"noBorder",void 0);var x=y=m([Object(v.Component)({components:{CButton:_.default}})],y),w=(n(621),n(34)),component=Object(w.a)(x,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("CButton",{staticClass:"c-button-checkbox",attrs:{"no-border":e.noBorder,disabled:e.disabled},on:{click:e.handleClick},scopedSlots:e._u([{key:"before",fn:function(){return[t("span",{staticClass:"c-button-checkbox__indicator",class:[e.checked?"is-active":""]}),e._v(" "),t("span",{staticClass:"c-button-checkbox__before"},[e._t("before")],2)]},proxy:!0},{key:"after",fn:function(){return[e._t("after")]},proxy:!0}],null,!0)},[e._v(" "),e._v(" "),e._t("default")],2)}),[],!1,null,null,null);t.default=component.exports},610:function(e,t,n){var content=n(622);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(68).default)("bb3e5842",content,!0,{sourceMap:!1})},612:function(e,t,n){var content=n(629);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(68).default)("f63a7386",content,!0,{sourceMap:!1})},616:function(e,t,n){"use strict";n.r(t);n(72);var r=n(32),o=n(33),l=n(35),c=n(36),d=n(23),f=n(20),v=(n(3),n(1),n(37),n(232),n(44),n(607),n(15)),_=n(114),h=n(342),m=n.n(h),y=n(609),x=n(231);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var k=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},C=function(e){Object(l.a)(n,e);var t=w(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).name="CSelect",e.isOpen=!1,e.defaultOption=Object.freeze({value:null,label:"Выбрать"}),e.currentOption=e.defaultOption,e}return Object(o.a)(n,[{key:"isMobile",get:function(){var e=navigator.userAgent;return/(Android|webOS|iPhone|iPad|iPod|BlackBerry|Phone)/i.test(e)}},{key:"valueChanged",value:function(){var e=this,t=this.options.find((function(i){return i.value===e.value}));this.currentOption=null!=t?t:this.defaultOption}},{key:"created",value:function(){window.addEventListener("click",this.handleClickOutside)}},{key:"destroyed",value:function(){window.removeEventListener("click",this.handleClickOutside)}},{key:"handleOpenBtn",value:function(){this.isMobile&&Object(x.a)(!0),this.isOpen=!this.isOpen}},{key:"handleOptionBtn",value:function(option){this.isMobile&&Object(x.a)(!1),this.currentOption=option,this.isOpen=!1,this.$emit("input",this.currentOption.value),this.$emit("change",this.currentOption.value)}},{key:"handleClickOutside",value:function(e){this.$el.contains(e.target)||(this.isOpen=!1)}},{key:"handleBackdropClick",value:function(){this.isOpen=!1,Object(x.a)(!1)}}]),n}(v.Vue);k([Object(v.Model)("change")],C.prototype,"value",void 0),k([Object(v.Prop)({default:function(){return[]}})],C.prototype,"options",void 0),k([Object(v.Prop)({default:!1})],C.prototype,"disabled",void 0),k([Object(v.Prop)()],C.prototype,"idKey",void 0),k([Object(v.Prop)()],C.prototype,"width",void 0),k([Object(v.Watch)("value",{immediate:!0})],C.prototype,"valueChanged",null);var O=C=k([Object(v.Component)({components:{CButtonCheckbox:y.default,CButton:_.default,ArrowDownIcon:m.a}})],C),j=(n(628),n(34)),component=Object(j.a)(O,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"c-options",class:["c-options--is-"+(e.isOpen?"opened":"closed"),e.isMobile?"c-options--is-mobile":""],style:{width:e.width}},[e.isMobile&&e.isOpen&&e.options.length?t("div",{staticClass:"c-options__backdrop",on:{click:e.handleBackdropClick}}):e._e(),e._v(" "),t("div",{staticClass:"c-options__input"},[t("CButton",{staticClass:"c-options__trigger",attrs:{disabled:e.disabled},on:{click:e.handleOpenBtn},scopedSlots:e._u([{key:"after",fn:function(){return[t("ArrowDownIcon",{staticClass:"c-options__arrow"})]},proxy:!0}])},[e._v("\n      "+e._s(e.currentOption.label)+"\n      ")]),e._v(" "),t("transition",[e.isOpen&&e.options.length?t("ul",{staticClass:"c-options__list"},e._l(e.options,(function(option){return t("li",{key:e.idKey?option[e.idKey]:option.value,staticClass:"c-options__item"},[t("CButtonCheckbox",{staticClass:"c-options__item-btn",attrs:{checked:option.value===e.value,disabled:option.disabled,"no-border":""},on:{change:function(t){return e.handleOptionBtn(option)}}},[e._v("\n            "+e._s(option.label)+"\n          ")])],1)})),0):e._e()])],1)])}),[],!1,null,null,null);t.default=component.exports},621:function(e,t,n){"use strict";n(610)},622:function(e,t,n){var r=n(67)((function(i){return i[1]}));r.push([e.i,".c-button-checkbox__indicator{background-color:var(--border-color-light);height:20px;transition:background-color .2s;width:4px}.c-button-checkbox__indicator.is-active{background-color:var(--color-green)}.c-button-checkbox__before{align-self:center;display:inline-flex;margin:0 0 0 4px}.c-button-checkbox__before:empty{display:none}",""]),r.locals={},e.exports=r},628:function(e,t,n){"use strict";n(612)},629:function(e,t,n){var r=n(67)((function(i){return i[1]}));r.push([e.i,".c-options{position:relative}.c-options__trigger{position:relative;width:100%}.c-options__arrow{color:var(--color-grey);transition:transform .2s}.c-options--is-opened .c-options__arrow{transform:scaleY(-1)}.c-options__backdrop{background:var(--bg-color-darken);bottom:0;left:0;opacity:.9;position:fixed;right:0;top:0;transition:opacity .2s;z-index:110}.c-options__list{background-color:var(--bg-color);border:1px solid var(--border-color);left:0;list-style:none;margin:6px 0 0;max-height:235px;overflow-x:hidden;overflow-y:auto;padding:0;position:absolute;top:100%;width:100%;z-index:111}.c-options--is-mobile .c-options__list{bottom:auto;left:0;margin:auto;max-height:40vh;max-width:480px;min-height:50px;position:fixed;right:0;top:65%;transform:translateY(-50%)}.c-options__list.v-enter-active,.c-options__list.v-leave-active{transform-origin:top;transition:transform .2s,opacity .2s}.c-options__list.v-enter,.c-options__list.v-leave-to{opacity:0;transform:translateY(-10px)}.c-options--is-mobile .c-options__list.v-enter,.c-options--is-mobile .c-options__list.v-leave-to{transform:translateY(-55%)}.c-options__item:not(:last-child){border-bottom:1px solid var(--border-color-light)}.c-options__item-btn{justify-content:flex-start;white-space:nowrap;width:100%}.c-options--is-mobile .c-options__item-btn{height:50px}",""]),r.locals={},e.exports=r},639:function(e,t,n){"use strict";n.r(t);n(72);var r=n(33),o=n(32),l=n(35),c=n(36),d=n(23),f=n(20),v=(n(3),n(1),n(37),n(15)),_=n(351),h=n.n(_),m=n(352),y=n.n(m),x=n(226);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var k=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},C=function(e){Object(l.a)(n,e);var t=w(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).name="MetricsPlates",e}return Object(r.a)(n)}(v.Vue);k([Object(v.Prop)({default:!1})],C.prototype,"loading",void 0),k([Object(v.Prop)({required:!0})],C.prototype,"items",void 0);var O=C=k([Object(v.Component)({components:{ContentLoader:x.default,InfoIcon:y.a,ContentCopyIcon:h.a}})],C),j=(n(688),n(34)),component=Object(j.a)(O,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"metrics-plates"},[t("ul",{staticClass:"metrics-plates__list"},e._l(e.items,(function(n){return t("li",{key:n.key,staticClass:"metrics-plates__item"},[t("span",{staticClass:"metrics-plates__item-label"},[e._v("\n        "+e._s(n.label)+"\n      ")]),e._v(" "),t("b",{staticClass:"metrics-plates__item-value",style:{color:n.color?"var(--color-".concat(n.color,")"):null}},[e._v("\n        "+e._s(n.value)+"\n\n        "),n.diff?t("span",{staticClass:"metrics-plates__item-diff"},[e._v("\n          "+e._s(n.diff)+"\n        ")]):e._e()]),e._v(" "),t("ContentLoader",{attrs:{loading:e.loading}})],1)})),0)])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{ContentLoader:n(226).default})},641:function(e,t,n){var content=n(660);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(68).default)("1a2252fa",content,!0,{sourceMap:!1})},649:function(e,t,n){"use strict";n.r(t);n(72);var r=n(32),o=n(33),l=n(35),c=n(36),d=n(23),f=n(20),v=(n(3),n(1),n(37),n(15)),_=n(95),h=n(188),m=n.n(h),y=n(190),x=n.n(y),w=n(114);function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var C=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},O=function(e){Object(l.a)(n,e);var t=k(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).name="CInput",e}return Object(o.a)(n,[{key:"input",value:function(e){return e}},{key:"clear",value:function(){this.input("")}},{key:"keyup",value:function(e){return e}},{key:"keydown",value:function(e){return e}},{key:"blur",value:function(){var e;null===(e=this.inputRef)||void 0===e||e.blur()}},{key:"focus",value:function(){var e;null===(e=this.inputRef)||void 0===e||e.focus()}}]),n}(v.Vue);C([Object(v.Prop)({required:!0,type:String})],O.prototype,"value",void 0),C([Object(v.Prop)()],O.prototype,"placeholder",void 0),C([Object(v.Prop)()],O.prototype,"type",void 0),C([Object(v.Ref)("input")],O.prototype,"inputRef",void 0),C([Object(_.Emit)()],O.prototype,"input",null),C([Object(_.Emit)()],O.prototype,"clear",null),C([Object(_.Emit)()],O.prototype,"keyup",null),C([Object(_.Emit)()],O.prototype,"keydown",null);var j=O=C([Object(v.Component)({components:{CButton:w.default,ClearIcon:m.a,SearchIcon:x.a}})],O),R=(n(659),n(34)),component=Object(R.a)(j,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"c-input"},[t("div",{staticClass:"c-input__inner"},[t("div",{staticClass:"c-input__input"},["search"===e.type?t("SearchIcon",{staticClass:"c-input__search-icon"}):e._e(),e._v(" "),t("input",{ref:"input",staticClass:"c-input__input-element",class:["c-input__input-element--"+e.type],attrs:{placeholder:e.placeholder||"Введите текст"},domProps:{value:e.value},on:{input:function(t){return e.input(t.target.value)},keyup:e.keyup,keydown:e.keydown}}),e._v(" "),e.value&&"search"===e.type?t("CButton",{staticClass:"c-input__clear link",attrs:{"is-text":""},on:{click:e.clear}},[t("ClearIcon")],1):e._e()],1)])])}),[],!1,null,null,null);t.default=component.exports},650:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));n(44),n(187),n(7);var r=n(656),o=n(42),l=(n(1),n(2),n(155),n(228)),c={executeExpression:function(e,t,n){switch(n){case"<":return e<t;case">":return e>t;case"<=":case">=":return e<=t;case"=":return e===t;case"!=":return e!==t;default:return!0}},makeAccountFilters:r.a,makeClanFilters:r.d,humanizeParam:function(e){var t=e.operator,n=e.value;switch(t){case">":return"больше чем ".concat(n);case"<":return"меньше чем ".concat(n);case">=":return"больше или равно ".concat(n);case"<=":return"меньше или равно ".concat(n);case"!=":return"не равно ".concat(n);case"=":return"равно ".concat(n);default:return n}},parseParameter:function(e){var t,n=e.match(/([<>!=]{1,2})([^<>!=]{1,2})/i);if(!n||!n[1])throw new Error("Filter Parameter Parse: operator not found");return{operator:n[1],value:null!==(t=null==n?void 0:n[2])&&void 0!==t?t:""}},stringifyParameter:function(param){return"".concat(param.operator).concat(param.value)},makeAccountSessionWidgetFilters:r.b,makeAccountSessionsFilters:r.c,toRouteQuery:function(e){if(!Object(l.a)(e))throw new TypeError("Value is not a object");var t={};return Object.entries(e).forEach((function(e){var n=Object(o.a)(e,2),r=n[0],l=n[1];null!=l&&String(l)&&(t[r]=String(l))})),t}}},652:function(e,t,n){var content=n(689);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(68).default)("796cf63c",content,!0,{sourceMap:!1})},653:function(e,t,n){var content=n(691);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(68).default)("7e2d94b6",content,!0,{sourceMap:!1})},656:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return m})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return x}));n(1),n(62),n(44),n(185),n(116),n(189),n(106),n(89);var r=function(e){switch(String(e)){case"true":return!0;case"false":return!1;default:return null}},o=function(e){return"string"!=typeof e||["[object Object]","null"].includes(e)?null:String(e)},l=function(e){return Number.isNaN(Number(e))?null:Number(e)},c=function(e,t){if(Array.isArray(e))return e;if(!e||"string"!=typeof e)return null;var n=e.split(",");switch(t){case"boolean":return n.map(r);case"number":return n.map(l);case"string":return n.map(o);default:return null}},d=r,f=o,v=l,_=n(228),h=function(e){var t,n,r,o,l,h,m,y,x,w,k,C,O;return e=Object(_.a)(e)?e:{},{tankIsPremium:d(null===(t=e)||void 0===t?void 0:t.tankIsPremium),tankInGarage:v(null===(n=e)||void 0===n?void 0:n.tankInGarage),tankNation:null!==(r=c(null===(o=e)||void 0===o?void 0:o.tankNation,"string"))&&void 0!==r?r:[],tankTire:null!==(l=c(null===(h=e)||void 0===h?void 0:h.tankTire,"number"))&&void 0!==l?l:[],tankType:null!==(m=c(null===(y=e)||void 0===y?void 0:y.tankType,"string"))&&void 0!==m?m:[],achievementsSection:f(null===(x=e)||void 0===x?void 0:x.achievementsSection),achievementsShow:null!==(w=f(null===(k=e)||void 0===k?void 0:k.achievementsShow))&&void 0!==w?w:"important",battleMode:null!==(C=f(null===(O=e)||void 0===O?void 0:O.battleMode))&&void 0!==C?C:"random"}},m=function(e){var t,n,r,o;return e=Object(_.a)(e)?e:{},{search:null!==(t=f(null===(n=e)||void 0===n?void 0:n.search))&&void 0!==t?t:"",joinedAtDays:f(null===(r=e)||void 0===r?void 0:r.joinedAtDays),lastBattleDays:f(null===(o=e)||void 0===o?void 0:o.lastBattleDays)}},y=function(e){var t,n,r,o,l,d,h,m,y;return e=Object(_.a)(e)?e:{},{battleMode:f(null===(t=e)||void 0===t?void 0:t.battleMode),accountId:v(null===(n=e)||void 0===n?void 0:n.accountId),attributes:null!==(r=c(null===(o=e)||void 0===o?void 0:o.attributes,"string"))&&void 0!==r?r:[],config:f(null===(l=e)||void 0===l?void 0:l.config),style:f(null===(d=e)||void 0===d?void 0:d.style),textColor:f(null===(h=e)||void 0===h?void 0:h.textColor),bgColor:f(null===(m=e)||void 0===m?void 0:m.bgColor),bgColorOpacity:v(null===(y=e)||void 0===y?void 0:y.bgColorOpacity)}},x=function(e){var t,n;return e=Object(_.a)(e)?e:{},{ids:null!==(t=c(null===(n=e)||void 0===n?void 0:n.ids,"number"))&&void 0!==t?t:[]}}},658:function(e,t,n){"use strict";n.r(t);n(72);var r=n(33),o=n(32),l=n(35),c=n(36),d=n(23),f=n(20),v=(n(3),n(1),n(37),n(15)),_=n(183);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var m=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},y=function(e){Object(l.a)(n,e);var t=h(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).name="PageSection",e}return Object(r.a)(n)}(v.Vue);m([Object(v.Prop)({default:"-76px"})],y.prototype,"offsetTop",void 0),m([Object(v.Prop)({required:!0})],y.prototype,"identity",void 0),m([Object(v.Prop)()],y.prototype,"title",void 0);var x=y=m([Object(v.Component)({components:{ContentBox:_.default}})],y),w=(n(690),n(34)),component=Object(w.a)(x,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("section",{staticClass:"page-section"},[t("div",{staticClass:"page-section__anchor",style:{top:e.offsetTop},attrs:{id:e.identity}}),e._v(" "),e.title?t("h2",{staticClass:"page-section__title"},[e._v("\n    "+e._s(e.title)+"\n  ")]):e._e(),e._v(" "),e._t("default")],2)}),[],!1,null,null,null);t.default=component.exports},659:function(e,t,n){"use strict";n(641)},660:function(e,t,n){var r=n(67)((function(i){return i[1]}));r.push([e.i,".c-input__inner{display:flex}.c-input__input{position:relative;width:100%}.c-input__search-icon{align-items:center;bottom:0;color:var(--border-color);display:flex;justify-content:center;left:0;position:absolute;top:50%;transform:translateY(-50%);transition:color .1s;width:36px}.c-input__input-element{background-color:var(--bg-color);border:1px solid var(--border-color);border-radius:0;box-sizing:border-box;color:inherit;display:inline-block;font:inherit;height:36px;margin:0;outline:none;padding:0 12px;transition:color .1s,border-color .1s;width:100%}.c-input__input-element--search{padding-left:36px;padding-right:36px}.c-input__input-element:active,.c-input__input-element:focus,.c-input__input-element:hover{border-color:var(--color-primary)}.c-input__clear{bottom:0;position:absolute;right:6px;top:0}",""]),r.locals={},e.exports=r},668:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return null!=e}},677:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(13),o=(n(43),function(text){try{var e=document.createElement("textarea");return e.value=text,e.style.top="0",e.style.left="0",e.style.position="fixed",document.body.appendChild(e),e.focus(),e.select(),document.execCommand("copy"),document.body.removeChild(e),!0}catch(e){return!1}}),l=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(text){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;break;case 2:if(navigator.clipboard){e.next=4;break}return e.abrupt("return",o(text));case 4:return e.prev=4,e.next=7,navigator.clipboard.writeText(text);case 7:return e.abrupt("return",!0);case 10:return e.prev=10,e.t0=e.catch(4),console.error(e.t0),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}()},688:function(e,t,n){"use strict";n(652)},689:function(e,t,n){var r=n(67)((function(i){return i[1]}));r.push([e.i,".metrics-plates__list{display:flex;flex-wrap:wrap;list-style:none;margin:-2px;padding:0}.metrics-plates__item{align-items:center;background-color:var(--bg-color);border:1px solid var(--border-color-light);display:inline-flex;flex-direction:column;justify-content:space-between;margin:2px;padding:10px;position:relative;width:calc(16.66667% - 4px)}@media only screen and (max-width:1400px){.metrics-plates__item{width:calc(25% - 4px)}}@media only screen and (max-width:768px){.metrics-plates__item{width:calc(50% - 4px)}}.metrics-plates__item-label{color:var(--color-text-light);display:inline-flex;font-size:14px;line-height:1.125;text-align:center}.metrics-plates__item-value{align-items:center;display:flex;font-size:22px;justify-content:center;line-height:1.25;margin:12px 0;position:relative;width:100%}.metrics-plates__item-diff{bottom:0;color:var(--color-text-lightest);display:flex;font-size:12px;font-weight:400;justify-content:center;left:0;position:absolute;right:0;top:100%}",""]),r.locals={},e.exports=r},690:function(e,t,n){"use strict";n(653)},691:function(e,t,n){var r=n(67)((function(i){return i[1]}));r.push([e.i,".page-section{position:relative}.page-section__title{border-bottom:1px solid var(--border-color-light);display:flex;font-size:20px;font-weight:500;margin:1em 0;padding:0 0 .1em}.page-section__anchor{bottom:0;pointer-events:none;position:absolute;width:100%}",""]),r.locals={},e.exports=r},695:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));n(1),n(7),n(2),n(5),n(116),n(117);var r=n(227),o=n(617),l=n(614),c=function(e,t){if(e&&t)return e.reduce((function(e,t){return e+t.battle_life_time}),0)/t.battles},d={account:function(e){var t,n,d,f,v,_,h,m,y,x,w,k,C,O,j,R,P,B,I,D,M,F,S,A,E,L,N,z,$,V,T=[{label:"",key:"battles",value:(null===(t=e.stat)||void 0===t?void 0:t.battles)||0,diff:r.a.number.toInteger(null===(n=e.statDiff)||void 0===n?void 0:n.battles,!0)},{label:"",key:"winRate",value:r.a.number.toFloatPercent((null===(d=e.stat)||void 0===d?void 0:d.winRate)||0),diff:r.a.number.toFloatPercent(null===(f=e.statDiff)||void 0===f?void 0:f.winRate,!0),color:o.a.winRate((null===(v=e.stat)||void 0===v?void 0:v.winRate)||0)},{label:"",key:"damagePerBattle",value:(null===(_=e.stat)||void 0===_?void 0:_.damagePerBattle)||0,diff:r.a.number.toInteger(null===(h=e.statDiff)||void 0===h?void 0:h.damagePerBattle,!0)}],Y=e.achievements?l.a.winsInPlatoon({wins:null!==(m=null===(y=e.stat)||void 0===y?void 0:y.wins)&&void 0!==m?m:0,achievements:e.achievements}):void 0,U=e.achievementsDiff?l.a.winsInPlatoon({wins:null!==(x=null===(w=e.statDiff)||void 0===w?void 0:w.wins)&&void 0!==x?x:0,achievements:e.achievementsDiff})-(Y||0):void 0;T.push({label:"",key:"winsInPlatoon",value:r.a.number.toFloatPercent(Y||0),diff:r.a.number.toFloatPercent(U,!0)});var K=l.a.battlesPerDay({battles:(null===(k=e.stat)||void 0===k?void 0:k.battles)||0,createAt:e.createAt||0}),W=l.a.battlesPerDay({battles:(null===(C=e.statDiff)||void 0===C?void 0:C.battles)||0,createAt:e.createAtDiff||0});T.push({label:"",key:"battlesPerDay",value:K,diff:e.statDiff?r.a.number.toInteger(W-K,!0):""}),T.push({label:"",key:"tanksWithMaster",value:"".concat(l.a.totalMasters(e.tanks)," / ").concat(e.tanks.length),diff:e.tanksDiff?"".concat(l.a.totalMasters(e.tanksDiff||[])," / ").concat((null===(O=e.tanksDiff)||void 0===O?void 0:O.length)||0):""}),T.push({label:"",key:"fragPerBattle",value:r.a.number.toFloatNumber((null===(j=e.stat)||void 0===j?void 0:j.fragPerBattle)||0),diff:r.a.number.toFloatNumber(null===(R=e.statDiff)||void 0===R?void 0:R.fragPerBattle,!0)},{label:"",key:"surviveRate",value:r.a.number.toFloatPercent((null===(P=e.stat)||void 0===P?void 0:P.surviveRate)||0),diff:r.a.number.toFloatPercent(null===(B=e.statDiff)||void 0===B?void 0:B.surviveRate,!0)},{label:"",key:"hitRate",value:r.a.number.toFloatPercent((null===(I=e.stat)||void 0===I?void 0:I.hitRate)||0),diff:r.a.number.toFloatPercent(null===(D=e.statDiff)||void 0===D?void 0:D.hitRate,!0)},{label:"",key:"spottedPerBattle",value:r.a.number.toFloatNumber((null===(M=e.stat)||void 0===M?void 0:M.spottedPerBattle)||0),diff:r.a.number.toFloatNumber(null===(F=e.statDiff)||void 0===F?void 0:F.spottedPerBattle,!0)},{label:"",key:"xpPerBattle",value:r.a.number.toInteger((null===(S=e.stat)||void 0===S?void 0:S.xpPerBattle)||0),diff:r.a.number.toInteger(null===(A=e.statDiff)||void 0===A?void 0:A.xpPerBattle,!0)},{label:"",key:"max_frags",value:(null===(E=e.stat)||void 0===E?void 0:E.max_frags)||0,diff:r.a.number.toInteger(null===(L=e.statDiff)||void 0===L?void 0:L.max_frags,!0)},{label:"",key:"max_xp",value:(null===(N=e.stat)||void 0===N?void 0:N.max_xp)||0,diff:r.a.number.toInteger(null===(z=e.statDiff)||void 0===z?void 0:z.max_xp,!0)});var G=null!==($=c(e.tanks,e.stat))&&void 0!==$?$:0,J=null!==(V=c(e.tanksDiff,e.statDiff))&&void 0!==V?V:null,Q=(J||0)-G;return T.push({key:"battle_life_time",label:"Время жизни в минутах",value:r.a.number.toFloatNumber(G/60||0),diff:J?r.a.number.toFloatNumber(Q/60||0,!0):void 0}),T.forEach((function(e){e.label=r.a.stat.accountProp(e.key)})),T.filter((function(t){var n;return!e.plates||(null===(n=e.plates)||void 0===n?void 0:n.includes(t.key))}))},accountRating:function(){var e,t,n,l,c,d,f,v,_,h,m,y,x,w,k,C,O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},j=[{key:"battles",label:"Боёв",value:(null===(e=O.stat)||void 0===e?void 0:e.battles)||0,diff:r.a.number.toInteger(null===(t=O.diff)||void 0===t?void 0:t.battles,!0)},{key:"winRate",label:"Побед",value:r.a.number.toFloatPercent((null===(n=O.stat)||void 0===n?void 0:n.winRate)||0),diff:r.a.number.toFloatPercent(null===(l=O.diff)||void 0===l?void 0:l.winRate,!0),color:o.a.winRate((null===(c=O.stat)||void 0===c?void 0:c.winRate)||0)},{key:"damagePerBattle",label:"Урон",value:(null===(d=O.stat)||void 0===d?void 0:d.damagePerBattle)||0,diff:r.a.number.toInteger(null===(f=O.diff)||void 0===f?void 0:f.damagePerBattle,!0)},{key:"fragPerBattle",label:"Уничтожено",value:r.a.number.toFloatNumber((null===(v=O.stat)||void 0===v?void 0:v.fragPerBattle)||0),diff:r.a.number.toFloatNumber(null===(_=O.diff)||void 0===_?void 0:_.fragPerBattle,!0)},{key:"surviveRate",label:"Выживаемость",value:r.a.number.toFloatPercent((null===(h=O.stat)||void 0===h?void 0:h.surviveRate)||0),diff:r.a.number.toFloatPercent(null===(m=O.diff)||void 0===m?void 0:m.surviveRate,!0)},{key:"hitRate",label:"Меткость",value:r.a.number.toFloatPercent((null===(y=O.stat)||void 0===y?void 0:y.hitRate)||0),diff:r.a.number.toFloatPercent(null===(x=O.diff)||void 0===x?void 0:x.hitRate,!0)},{key:"spottedPerBattle",label:"Обнаружено",value:r.a.number.toFloatNumber((null===(w=O.stat)||void 0===w?void 0:w.spottedPerBattle)||0),diff:r.a.number.toFloatNumber(null===(k=O.diff)||void 0===k?void 0:k.spottedPerBattle,!0)}];if(null!==(C=O.stat)&&void 0!==C&&C.mm_rating){var R=10*(O.stat.mm_rating||0)+3e3;j.push({key:"mm_rating",label:"Рейтинг",value:r.a.number.toInteger(R)})}else{var P,B=10-((null===(P=O.stat)||void 0===P?void 0:P.calibration_battles_left)||0);j.push({key:"calibration_battles_left",label:B<10?"Калибровочные бои":"Рейтинг",value:B<10?"".concat(r.a.number.toInteger(B),"/10"):"---"})}return j},tank:function(e,t){var n=l.a.tank(e.all),c=t?l.a.tank(t.all):null,d=c?l.a.diff(n,c):null,f=[{key:"battles",label:"Боёв",value:r.a.number.toInteger(n.battles||0),diff:r.a.number.toInteger((null==d?void 0:d.battles)||0,!0)},{key:"winRate",label:"Побед",value:r.a.number.toFloatPercent(n.winRate||0),diff:r.a.number.toFloatPercent((null==d?void 0:d.winRate)||0,!0),color:o.a.winRate(n.winRate||0)},{key:"damagePerBattle",label:"Урон",value:r.a.number.toInteger(n.damagePerBattle||0),diff:r.a.number.toInteger((null==d?void 0:d.damagePerBattle)||0,!0)},{key:"fragPerBattle",label:"Уничтожено",value:r.a.number.toFloatNumber(n.fragPerBattle||0),diff:r.a.number.toFloatNumber((null==d?void 0:d.fragPerBattle)||0,!0)},{key:"surviveRate",label:"Выживаемость",value:r.a.number.toFloatPercent(n.surviveRate||0),diff:r.a.number.toFloatPercent((null==d?void 0:d.surviveRate)||0,!0)},{key:"hitRate",label:"Меткость",value:r.a.number.toFloatPercent(n.hitRate||0),diff:r.a.number.toFloatPercent((null==d?void 0:d.hitRate)||0,!0)},{key:"spottedPerBattle",label:"Обнаружено",value:r.a.number.toFloatNumber(n.spottedPerBattle||0),diff:r.a.number.toFloatNumber((null==d?void 0:d.spottedPerBattle)||0,!0)},{key:"xpPerBattle",label:"Опыт",value:r.a.number.toInteger(n.xpPerBattle||0),diff:r.a.number.toInteger((null==d?void 0:d.xpPerBattle)||0,!0)},{key:"maxFrags",label:"Уничтожено макс.",value:r.a.number.toInteger(n.max_frags||0),diff:r.a.number.toInteger((null==c?void 0:c.max_frags)||0)},{key:"maxXp",label:"Опыт макс.",value:r.a.number.toInteger(n.max_xp||0),diff:r.a.number.toInteger((null==c?void 0:c.max_xp)||0)}];return f.push({key:"winsInPlatoon",label:"Побед во взводе",value:r.a.number.toFloatPercent(l.a.winsInPlatoon({wins:e.all.wins,achievements:e.achievements})||0)}),f.push({key:"lifeTime",label:"Время жизни в минутах",value:r.a.number.toFloatNumber(e.battle_life_time/n.battles/60||0)}),f},clan:function(){var e,t,n,c,d,f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],v=arguments.length>1?arguments[1]:void 0,_=f.length;v&&_&&(d=l.a.accountAll(v.all,_));var h=Math.floor(f.reduce((function(e,t){return Math.floor(e+l.a.battlesPerDay({createAt:1e3*t.created_at,battles:t.statistics.all.battles}))}),0)/_);return[{key:"battles",label:"Боёв",value:(null===(e=d)||void 0===e?void 0:e.battles)||0},{key:"winRate",label:"Побед",value:r.a.number.toFloatPercent((null===(t=d)||void 0===t?void 0:t.winRate)||0),color:o.a.winRate((null===(n=d)||void 0===n?void 0:n.winRate)||0)},{key:"damagePerBattle",label:"Урон",value:(null===(c=d)||void 0===c?void 0:c.damagePerBattle)||0},{key:"activity",label:"Боёв в день",value:r.a.number.toInteger(h)}]}}},717:function(e,t,n){var content=n(792);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(68).default)("3afccb12",content,!0,{sourceMap:!1})},720:function(e,t,n){"use strict";n.r(t);n(788),n(72);var r=n(33),o=n(32),l=n(35),c=n(36),d=n(23),f=n(20),v=(n(3),n(1),n(37),n(15));function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var h=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},m=function(e){Object(l.a)(n,e);var t=_(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).name="SocialLinks",e}return Object(r.a)(n)}(v.Vue);h([Object(v.Prop)({required:!0,type:Array})],m.prototype,"links",void 0);var y=m=h([v.Component],m),x=(n(791),n(34)),component=Object(x.a)(y,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"social-links"},[t("div",{staticClass:"social-links__links"},e._l(e.links,(function(link){return t("a",{key:link.link,staticClass:"link social-links__links-item",attrs:{href:link.link,target:"_blank",title:link.title}},[t(link.icon,{tag:"component",attrs:{width:"24",height:"24"}})],1)})),0)])}),[],!1,null,null,null);t.default=component.exports},746:function(e,t,n){var content=n(820);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(68).default)("68e6cd68",content,!0,{sourceMap:!1})},747:function(e,t,n){var content=n(823);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(68).default)("29ce7a68",content,!0,{sourceMap:!1})},788:function(e,t,n){"use strict";var r=n(9),o=n(789);r({target:"String",proto:!0,forced:n(790)("link")},{link:function(e){return o(this,"a","href",e)}})},789:function(e,t,n){"use strict";var r=n(17),o=n(74),l=n(41),c=/"/g,d=r("".replace);e.exports=function(e,t,n,r){var f=l(o(e)),v="<"+t;return""!==n&&(v+=" "+n+'="'+d(l(r),c,"&quot;")+'"'),v+">"+f+"</"+t+">"}},790:function(e,t,n){"use strict";var r=n(16);e.exports=function(e){return r((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},791:function(e,t,n){"use strict";n(717)},792:function(e,t,n){var r=n(67)((function(i){return i[1]}));r.push([e.i,".social-links__links{display:flex;flex-wrap:wrap}.social-links__links-item{align-items:center;display:inline-flex;font-weight:700;height:36px;justify-content:center;width:36px}",""]),r.locals={},e.exports=r},795:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(606);var r={smart:function(e,t){var n=t.prop,r=t.order;return r?e.sort((function(a,b){var e=("desc"===r?b:a)[n],t=("desc"===r?a:b)[n];return String(e).localeCompare(String(t),void 0,{numeric:!0,sensitivity:"base"})})):e},clanMembersDefault:function(e){!function(e){e.sort((function(a,b){return a.joined_at-b.joined_at}))}(e),function(e){e.sort((function(a,b){var e={recruit:0,private:1,executive_officer:2,commander:3};return e[b.role]-e[a.role]}))}(e)}}},800:function(e,t,n){"use strict";n.r(t);n(7),n(37),n(4),n(79),n(72);var r=n(32),o=n(33),l=n(35),c=n(36),d=n(23),f=n(20),v=(n(3),n(1),n(15)),_=n(114),h=n(720),m=(n(44),n(187),n(50),n(51),/(https?:\/\/)?(www\.)?(discord\.(gg|io|me|li)|discordapp\.com\/invite)\/.+[a-z|0-9]/gi),y=/(https?:\/\/)?(www\.)?((t|telegram)\.me)\/\+?[a-zA-Z0-9_]{5,32}/gi,x=function(e){var t=[],r=e.match(m),o=e.match(y);return null!=r&&r.length&&t.push({title:"Discord",icon:function(){return Promise.resolve().then(n.t.bind(null,550,7))},link:r[0]}),null!=o&&o.length&&t.push({title:"Telegram",icon:function(){return Promise.resolve().then(n.t.bind(null,587,7))},link:o[0]}),t},w=n(226),k=n(152),C=n(115),O=n(105);function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var R=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},P=function(e){Object(l.a)(n,e);var t=j(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).name="ClanPreview",e.notify=O.a.notify(),e.descExpended=!1,e}return Object(o.a)(n,[{key:"socialLinks",get:function(){var e;return x(null!==(e=this.clan.description)&&void 0!==e?e:"")}},{key:"open",value:function(){this.clanDetailsRef.doOpen()}},{key:"close",value:function(){this.clanDetailsRef.doClose()}},{key:"handleDescExpandBtn",value:function(){this.descExpended=!this.descExpended}}]),n}(v.Vue);R([Object(v.Prop)({required:!0})],P.prototype,"clan",void 0),R([Object(v.Ref)("clanDetails")],P.prototype,"clanDetailsRef",void 0);var B=P=R([Object(v.Component)({components:{SvgIcon:C.default,CDialog:k.default,CButton:_.default,SocialLinks:h.default,ContentLoader:w.default}})],P),I=(n(819),n(34)),component=Object(I.a)(B,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("CDialog",{ref:"clanDetails",staticClass:"clan-preview-details",attrs:{title:"[".concat(e.clan.tag,"] ").concat(e.clan.name),width:"640px"},scopedSlots:e._u([{key:"footer",fn:function(){return[t("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[t("SocialLinks",{staticClass:"clan-preview-details__links",attrs:{links:e.socialLinks}}),e._v(" "),t("CButton",{on:{click:e.close}},[e._v("\n        Закрыть\n      ")])],1)]},proxy:!0}])},[t("div",{staticClass:"clan-preview-details__body"},[e.clan.motto?t("div",{staticClass:"clan-preview-details__section"},[t("h5",{staticClass:"clan-preview-details__props-title"},[t("SvgIcon",{staticClass:"clan-preview-details__prop-title-icon",attrs:{"icon-name":"format-quote"}}),e._v("\n        Девиз\n      ")],1),e._v(" "),t("i",[e._v(e._s(e.clan.motto))])]):e._e(),e._v(" "),t("div",{staticClass:"clan-preview-details__section"},[t("h5",{staticClass:"clan-preview-details__props-title"},[t("SvgIcon",{staticClass:"clan-preview-details__prop-title-icon",attrs:{"icon-name":"description"}}),e._v("\n        Описание\n      ")],1),e._v(" "),e.clan.description?t("div",{staticClass:"content-area clan-preview-details__desc",class:e.descExpended?"clan-preview-details__desc--expended":"",domProps:{textContent:e._s(e.clan.description)}}):e._e(),e._v(" "),t("CButton",{staticClass:"clan-preview-details__desc-expend-btn",attrs:{"is-text":""},on:{click:e.handleDescExpandBtn}},[e._v("\n        "+e._s(e.descExpended?"Свернуть":"Развернуть")+"\n      ")])],1),e._v(" "),e.clan.motto?t("div",{staticClass:"clan-preview-details__section"},[t("h5",{staticClass:"clan-preview-details__props-title"},[t("SvgIcon",{staticClass:"clan-preview-details__prop-title-icon",attrs:{"icon-name":"info"}}),e._v("\n        Информация\n      ")],1),e._v(" "),t("div",{staticClass:"clan-preview-details__props"},[t("div",{staticClass:"clan-preview-details__prop"},[t("span",{staticClass:"clan-preview-details__prop-title"},[e._v("\n            Создатель\n          ")]),e._v(" "),e.clan.creator_id?t("nuxt-link",{staticClass:"link",attrs:{to:e.clan.creator_id?{name:"account-id",params:{id:e.clan.creator_id}}:{}}},[e._v("\n            "+e._s(e.clan.creator_name)+"\n          ")]):[e._v("\n            Не известен\n          ")]],2),e._v(" "),t("div",{staticClass:"clan-preview-details__prop"},[t("span",{staticClass:"clan-preview-details__prop-title"},[e._v("\n            Дата создания\n          ")]),e._v("\n          "+e._s(e.$formatter.date.toLocaleDate(1e3*e.clan.created_at))+"\n        ")]),e._v(" "),t("div",{staticClass:"clan-preview-details__prop"},[t("span",{staticClass:"clan-preview-details__prop-title"},[e._v("\n            Дата обновления\n          ")]),e._v("\n          "+e._s(e.$formatter.date.toLocaleDate(1e3*e.clan.updated_at))+"\n        ")]),e._v(" "),t("div",{staticClass:"clan-preview-details__prop"},[t("span",{staticClass:"clan-preview-details__prop-title"},[e._v("\n            Участников\n          ")]),e._v("\n          "+e._s(e.$formatter.number.toInteger(e.clan.members_count))+"\n        ")]),e._v(" "),e.clan.old_tag?t("div",{staticClass:"clan-preview-details__prop"},[t("span",{staticClass:"clan-preview-details__prop-title"},[e._v("\n            Старое название\n          ")]),e._v("\n          ["+e._s(e.clan.old_tag)+"] "+e._s(e.clan.old_name)+"\n        ")]):e._e()])]):e._e(),e._v(" "),t("div",{staticClass:"clan-preview-details__section"},[t("h5",{staticClass:"clan-preview-details__props-title"},[t("SvgIcon",{staticClass:"clan-preview-details__prop-title-icon",attrs:{"icon-name":"person-search"}}),e._v("\n        Рекрутинг\n      ")],1),e._v(" "),t("div",{staticClass:"clan-preview-details__props"},[t("div",{staticClass:"clan-preview-details__prop"},[t("span",{staticClass:"clan-preview-details__prop-title"},[e._v("\n            Политика приёма.\n          ")]),e._v("\n          "+e._s(e.$formatter.clan.recruitingPolicy(e.clan.recruiting_policy))+".\n        ")]),e._v(" "),"open"===e.clan.recruiting_policy&&e.clan.recruiting_options?[t("div",{staticClass:"clan-preview-details__props-subtitle"},[e._v("\n            Пороги статистики для вступления:\n          ")]),e._v(" "),t("div",{staticClass:"clan-preview-details__prop"},[t("span",{staticClass:"clan-preview-details__prop-title"},[e._v("\n              Боёв в день\n            ")]),e._v("\n            "+e._s(e.$formatter.number.toInteger(e.clan.recruiting_options.average_battles_per_day))+"\n          ")]),e._v(" "),t("div",{staticClass:"clan-preview-details__prop"},[t("span",{staticClass:"clan-preview-details__prop-title"},[e._v("\n              Боёв всего\n            ")]),e._v("\n            "+e._s(e.$formatter.number.toInteger(e.clan.recruiting_options.battles))+"\n          ")]),e._v(" "),t("div",{staticClass:"clan-preview-details__prop"},[t("span",{staticClass:"clan-preview-details__prop-title"},[e._v("\n              Урон ср.\n            ")]),e._v("\n            "+e._s(e.$formatter.number.toInteger(e.clan.recruiting_options.average_damage))+"\n          ")]),e._v(" "),t("div",{staticClass:"clan-preview-details__prop"},[t("span",{staticClass:"clan-preview-details__prop-title"},[e._v("\n              Уровень\n            ")]),e._v("\n            "+e._s(e.$formatter.number.toInteger(e.clan.recruiting_options.vehicles_level))+"\n          ")]),e._v(" "),t("div",{staticClass:"clan-preview-details__prop"},[t("span",{staticClass:"clan-preview-details__prop-title"},[e._v("\n              Побед\n            ")]),e._v("\n            "+e._s(e.$formatter.number.toInteger(e.clan.recruiting_options.wins_ratio))+"%\n          ")])]:e._e()],2)])])])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{SvgIcon:n(115).default,SocialLinks:n(720).default})},819:function(e,t,n){"use strict";n(746)},820:function(e,t,n){var r=n(67)((function(i){return i[1]}));r.push([e.i,'.clan-preview-details__body{padding:20px 0}.clan-preview-details__section+.clan-preview-details__section{border-top:1px solid var(--border-color-light);margin:20px 0 0;padding:20px 0 0}.clan-preview-details__props-title{font-weight:500;margin:0 0 14px}.clan-preview-details__props-subtitle,.clan-preview-details__props-title{align-items:flex-start;color:var(--color-text-light);display:flex;font-size:14px;line-height:1.5}.clan-preview-details__props-subtitle{margin:0;width:100%}.clan-preview-details__prop-title-icon{color:var(--color-text);flex:none;margin:-2px 8px 0 0}.clan-preview-details__props{align-items:center;display:flex;flex-wrap:wrap;gap:20px 30px}.clan-preview-details__prop{display:flex;flex-direction:column;min-width:0}.clan-preview-details__prop--row{width:100%}.clan-preview-details__prop-title{color:var(--color-text-light);font-size:12px;max-width:350px}.clan-preview-details__motto{font-style:italic;margin:0 0 20px}.clan-preview-details__desc{max-height:80px;overflow:hidden;position:relative;transition:max-height .3s;white-space:pre-line;will-change:max-height}.clan-preview-details__desc:after{background-image:linear-gradient(to top,var(--bg-color),transparent);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0;transition:opacity .3s}.clan-preview-details__desc--expended{max-height:1000px;overflow:auto}.clan-preview-details__desc--expended:after{opacity:0}.clan-preview-details__desc-expend-btn{align-items:center;height:40px;margin:10px 0 0}',""]),r.locals={},e.exports=r},821:function(e,t,n){var content=n(858);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(68).default)("3917e87e",content,!0,{sourceMap:!1})},822:function(e,t,n){"use strict";n(747)},823:function(e,t,n){var r=n(67)((function(i){return i[1]}));r.push([e.i,"",""]),r.locals={},e.exports=r},824:function(e,t,n){var content=n(860);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(68).default)("0895462e",content,!0,{sourceMap:!1})},825:function(e,t,n){var content=n(862);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(68).default)("4a72b615",content,!0,{sourceMap:!1})},843:function(e,t,n){"use strict";n.r(t);n(44),n(185),n(349),n(72);var r=n(33),o=n(32),l=n(35),c=n(36),d=n(23),f=n(20),v=(n(3),n(1),n(37),n(15)),_=n(649);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var m=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},y=function(e){Object(l.a)(n,e);var t=h(n);function n(){var e;return Object(o.a)(this,n),(e=t.apply(this,arguments)).name="FiltersSearch",e}return Object(r.a)(n)}(v.Vue);m([Object(v.Prop)({required:!0})],y.prototype,"filters",void 0),m([Object(v.Prop)()],y.prototype,"placeholder",void 0);var x=y=m([Object(v.Component)({components:{CInput:_.default}})],y),w=(n(822),n(34)),component=Object(w.a)(x,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("CInput",{staticClass:"filters-search",attrs:{type:"search",placeholder:"Введите ник"},model:{value:e.filters.search,callback:function(t){e.$set(e.filters,"search","string"==typeof t?t.trim():t)},expression:"filters.search"}})}),[],!1,null,null,null);t.default=component.exports},857:function(e,t,n){"use strict";n(821)},858:function(e,t,n){var r=n(67)((function(i){return i[1]}));r.push([e.i,'.clan-preview__emblem-img:after,.clan-preview__emblem-img:before{bottom:0;left:0;position:absolute;right:0;top:0}.clan-preview__emblem-img:before{background-color:var(--bg-color);border:1px solid var(--border-color-light);content:"";display:block}.clan-preview__emblem-img:after{align-items:center;color:var(--color-text-light);content:attr(data-text);display:flex;flex-wrap:wrap;font-size:10px;font-style:normal;justify-content:center;padding:4px;text-align:center;word-break:break-word}.clan-preview{background-color:var(--bg-color);border:1px solid var(--border-color-light);position:relative}.clan-preview__inner{align-items:center;display:flex;flex:1;justify-content:center;padding:10px 15px;position:relative}@media only screen and (max-width:480px){.clan-preview__inner{flex-direction:column}}.clan-preview__info{align-items:center;display:flex;flex:1;flex-direction:column;font-size:22px;max-width:100%;min-width:0;padding:12px}@media only screen and (max-width:1024px){.clan-preview__info{font-size:20px}}@media only screen and (max-width:640px){.clan-preview__info{font-size:18px}}.clan-preview__emblem{background-color:var(--bg-color-darken);border:1px solid var(--border-color-light);border-radius:50%;display:inline-flex;padding:8px;position:relative}.clan-preview__emblem-img{display:flex;height:64px;-o-object-fit:contain;object-fit:contain;width:64px}.clan-preview__title{display:flex;flex:1;flex-wrap:wrap;font-weight:500;gap:.3em;justify-content:center;max-width:100%}.clan-preview__tag{color:var(--color-orange)}.clan-preview__name,.clan-preview__tag{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.clan-preview__props{display:flex;flex-wrap:wrap;gap:16px;justify-content:center;margin:10px 0 0}.clan-preview__prop{align-items:center;display:flex;flex-direction:column;justify-content:stretch;white-space:nowrap}.clan-preview__prop-title{color:var(--color-text-light);font-size:12px}.clan-preview__prop-value{align-items:center;display:flex;flex:1;font-size:14px}.clan-preview__actions{align-items:center;display:flex;flex:none;flex-direction:column;justify-content:center}@media only screen and (max-width:480px){.clan-preview__actions{flex-direction:row}}.clan-preview__actions-btn{align-items:center;height:24px;justify-content:center;margin:4px 0;width:24px}@media only screen and (max-width:1024px){.clan-preview__actions-btn{height:40px;margin:0;width:40px}}.clan-preview__no-data{white-space:pre}',""]),r.locals={},e.exports=r},859:function(e,t,n){"use strict";n(824)},860:function(e,t,n){var r=n(67)((function(i){return i[1]}));r.push([e.i,".clan-view-filters__list{display:flex;flex-wrap:wrap;gap:10px}.clan-view-filters__item--search{min-width:300px}@media only screen and (max-width:1024px){.clan-view-filters__item--search{flex:1}}@media only screen and (max-width:640px){.clan-view-filters__item--search{width:calc(100vw - 28px)}}",""]),r.locals={},e.exports=r},861:function(e,t,n){"use strict";n(825)},862:function(e,t,n){var r=n(67)((function(i){return i[1]}));r.push([e.i,".clan-events{display:inline-flex}.clan-events__inner{position:relative}.clan-events__panel{align-items:center;display:flex;justify-content:space-between}.clan-events__prop{display:flex;flex-wrap:wrap}.clan-events__prop:not(:last-child){margin:0 0 4px}.clan-events__prop-title{color:var(--color-text-light);font-size:14px;margin:0 10px 0 0;width:100%}.clan-events__prop-value{margin:0 4px 0 0}.clan-events__btn{color:var(--color-text);position:relative}.clan-events__btn--has-unread{color:var(--color-text-link)}.clan-events__count{background-color:var(--bg-color);border:1px solid var(--border-color-light);bottom:0;display:inline-flex;font-size:10px;justify-content:center;line-height:1.4;min-width:14px;padding:0 2px;pointer-events:none;position:absolute;right:0}",""]),r.locals={},e.exports=r},885:function(e,t,n){"use strict";n.r(t);n(37),n(72);var r=n(13),o=n(32),l=n(33),c=n(35),d=n(36),f=n(23),v=n(20),_=(n(43),n(3),n(1),n(7),n(15)),h=n(114),m=n(720),y=n(226),x=n(152),w=n(115),k=n(677),C=n(105),O=n(53),j=n(800);function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var P=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},B=function(e){Object(c.a)(v,e);var t,n,d,f=R(v);function v(){var e;return Object(o.a)(this,v),(e=f.apply(this,arguments)).name="ClanPreview",e.notify=C.a.notify(),e.isFavorite=!1,e}return Object(l.a)(v,[{key:"emblemUrl",get:function(){var e=this.clan.emblem_set_id;return e?"https://wotblitz-gc.gcdn.co/icons/clanEmblems1x/clan-icon-v2-".concat(e,".png"):""}},{key:"created",value:function(){this.getFavorites()}},{key:"getFavorites",value:(d=Object(r.a)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.indexedDB.clansFavorites.get(this.clan.clan_id);case 2:t=e.sent,this.isFavorite=!!t&&(null==t?void 0:t.isFavorite);case 4:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"setToFavorites",value:(n=Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.clan){e.next=2;break}return e.abrupt("return");case 2:return this.isFavorite=!this.isFavorite,e.next=5,O.a.indexedDB.clansFavorites.set(this.clan.clan_id,{id:this.clan.clan_id,isFavorite:this.isFavorite});case 5:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"handleNicknameBtnClick",value:(t=Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.a)("".concat(this.clan.tag,"/").concat(this.clan.clan_id));case 2:e.sent?this.notify.add({type:"success",title:"Скопировано",message:"".concat(this.clan.tag,"/").concat(this.clan.clan_id),duration:3e3}):this.notify.add({type:"error",message:"Клан копировании что-то пошло не так",duration:3e3});case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"handleOpenInfoBtn",value:function(){this.previewDetails.open()}},{key:"handleAddToFavoritesBtn",value:function(){this.setToFavorites()}}]),v}(_.Vue);P([Object(_.Prop)({default:!1})],B.prototype,"hideDescription",void 0),P([Object(_.Prop)({required:!0})],B.prototype,"clan",void 0),P([Object(_.Prop)()],B.prototype,"loading",void 0),P([Object(_.Ref)("previewDetails")],B.prototype,"previewDetails",void 0);var I=B=P([Object(_.Component)({components:{ClanPreviewDetails:j.default,SvgIcon:w.default,CDialog:x.default,CButton:h.default,SocialLinks:m.default,ContentLoader:y.default}})],B),D=(n(857),n(34)),component=Object(D.a)(I,(function(){var e,t,n,r,o=this,l=o._self._c;o._self._setupProxy;return l("div",{staticClass:"clan-preview"},[l("div",{staticClass:"clan-preview__inner"},[l("div",{staticClass:"clan-preview__emblem"},[l("img",{staticClass:"clan-preview__emblem-img",attrs:{"data-text":null!==(e=o.clan.clan_id)&&void 0!==e?e:"No image",alt:"Эмблема клана",src:o.emblemUrl}})]),o._v(" "),l("div",{staticClass:"clan-preview__info"},[l("div",{staticClass:"clan-preview__title"},[l("span",{staticClass:"clan-preview__tag"},[o._v("["+o._s(null!==(t=o.clan.tag)&&void 0!==t?t:"...")+"]")]),o._v(" "),l("span",{staticClass:"clan-preview__name"},[o._v(o._s(null!==(n=o.clan.name)&&void 0!==n?n:"..."))])]),o._v(" "),l("div",{staticClass:"clan-preview__props"},[l("div",{staticClass:"clan-preview__prop"},[l("span",{staticClass:"clan-preview__prop-title"},[o._v("\n            Участников\n          ")]),o._v(" "),l("span",{staticClass:"clan-preview__prop-value"},[o._v("\n            "+o._s(null!==(r=o.clan.members_count)&&void 0!==r?r:"---")+"\n          ")])]),o._v(" "),l("div",{staticClass:"clan-preview__prop"},[l("span",{staticClass:"clan-preview__prop-title"},[o._v("\n            События\n          ")]),o._v(" "),l("span",{staticClass:"clan-preview__prop-value"},[o._t("events")],2)])])]),o._v(" "),l("div",{staticClass:"clan-preview__actions"},[l("CButton",{staticClass:"clan-preview__actions-btn",attrs:{"is-text":"",title:"Копировать (nickname/ID)"},on:{click:o.handleNicknameBtnClick}},[l("SvgIcon",{attrs:{"icon-name":"content-copy"}})],1),o._v(" "),l("CButton",{staticClass:"clan-preview__actions-btn",attrs:{"is-text":"",title:"Добавить в избранные"},on:{click:o.handleAddToFavoritesBtn}},[o.isFavorite?l("SvgIcon",{attrs:{"icon-name":"star"}}):l("SvgIcon",{attrs:{"icon-name":"star-border"}})],1),o._v(" "),l("CButton",{staticClass:"clan-preview__actions-btn",attrs:{"is-text":"",title:"Полная информация"},on:{click:o.handleOpenInfoBtn}},[l("SvgIcon",{attrs:{"icon-name":"info"}})],1)],1)]),o._v(" "),l("ContentLoader",{attrs:{loading:o.loading}}),o._v(" "),l("ClanPreviewDetails",{ref:"previewDetails",attrs:{clan:o.clan}})],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{SvgIcon:n(115).default,ContentLoader:n(226).default,ClanPreviewDetails:n(800).default})},886:function(e,t,n){"use strict";n.r(t);n(44),n(185),n(72);var r=n(32),o=n(33),l=n(35),c=n(36),d=n(23),f=n(20),v=(n(3),n(1),n(37),n(15)),_=n(650),h=n(843),m=n(616),y=n(649);function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var w=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},k=function(e){Object(l.a)(n,e);var t=x(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).name="ClanViewFilter",e.joinedAtOptions=[{value:null,label:"Не выбрано"},{value:"<3",label:"Меньше чем 3"},{value:"<5",label:"Меньше чем 5"},{value:"<7",label:"Меньше чем 7"},{value:">3",label:"Больше чем 3"},{value:">5",label:"Больше чем 5"},{value:">7",label:"Больше чем 7"}],e.lastBattleDaysOptions=[{value:null,label:"Не выбрано"},{value:"<1",label:"Меньше чем 1"},{value:"<3",label:"Меньше чем 3"},{value:">3",label:"Больше чем 3"},{value:">5",label:"Больше чем 5"},{value:">7",label:"Больше чем 7"}],e}return Object(o.a)(n,[{key:"filtersChange",value:function(){return this.filters}},{key:"handleFilters",value:function(){this.filtersChange()}}]),n}(v.Vue);w([Object(v.Prop)({required:!0,default:_.a.makeClanFilters()})],k.prototype,"filters",void 0),w([Object(v.Emit)()],k.prototype,"filtersChange",null);var C=k=w([Object(v.Component)({components:{CInput:y.default,CSelect:m.default,FiltersSearch:h.default}})],k),O=(n(859),n(34)),component=Object(O.a)(C,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"clan-view-filters"},[t("div",{staticClass:"clan-view-filters__list"},[t("div",{staticClass:"clan-view-filters__item clan-view-filters__item--search"},[t("div",{staticClass:"clan-view-filters__item-title"},[e._v("\n        Поиск в клане\n      ")]),e._v(" "),t("CInput",{staticStyle:{width:"100%"},attrs:{placeholder:"Введите ник",type:"search"},model:{value:e.filters.search,callback:function(t){e.$set(e.filters,"search",t)},expression:"filters.search"}})],1),e._v(" "),t("div",{staticClass:"clan-view-filters__item"},[t("div",{staticClass:"clan-view-filters__item-title"},[e._v("\n        Дней в клане\n      ")]),e._v(" "),t("CSelect",{staticStyle:{width:"150px"},attrs:{options:e.joinedAtOptions},on:{change:e.handleFilters},model:{value:e.filters.joinedAtDays,callback:function(t){e.$set(e.filters,"joinedAtDays",t)},expression:"filters.joinedAtDays"}})],1),e._v(" "),t("div",{staticClass:"clan-view-filters__item"},[t("div",{staticClass:"clan-view-filters__item-title"},[e._v("\n        Дней отсутствовал\n      ")]),e._v(" "),t("CSelect",{staticStyle:{width:"150px"},attrs:{options:e.lastBattleDaysOptions},on:{change:e.handleFilters},model:{value:e.filters.lastBattleDays,callback:function(t){e.$set(e.filters,"lastBattleDays",t)},expression:"filters.lastBattleDays"}})],1)])])}),[],!1,null,null,null);t.default=component.exports},887:function(e,t,n){"use strict";n.r(t);n(72);var r=n(32),o=n(33),l=n(35),c=n(36),d=n(23),f=n(20),v=(n(3),n(1),n(37),n(5),n(154),n(116),n(117),n(15)),_=n(114),h=n(152),m=n(362),y=n.n(m);function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(d.a)(e);if(t){var o=Object(d.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var w=function(e,t,n,desc){var r,o=arguments.length,l=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(f.a)(Reflect))&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,desc);else for(var i=e.length-1;i>=0;i--)(r=e[i])&&(l=(o<3?r(l):o>3?r(t,n,l):r(t,n))||l);return o>3&&l&&Object.defineProperty(t,n,l),l},k=function(e){Object(l.a)(n,e);var t=x(n);function n(){var e;return Object(r.a)(this,n),(e=t.apply(this,arguments)).name="ClanEvents",e}return Object(o.a)(n,[{key:"changesCount",get:function(){return this.joinedMembers.length+this.leftMembers.length}},{key:"leftMembers",get:function(){var e,t,n,r,o=null!==(e=null===(t=this.clan)||void 0===t?void 0:t.members_ids)&&void 0!==e?e:[],l=null!==(n=null===(r=this.savedClan)||void 0===r?void 0:r.members)&&void 0!==n?n:[];return Object.values(l).filter((function(i){return!o.includes(i.account_id)}))}},{key:"joinedMembers",get:function(){var e,t,n,r,o=null!==(e=null===(t=this.clan)||void 0===t?void 0:t.members)&&void 0!==e?e:[],l=null!==(n=null===(r=this.savedClan)||void 0===r?void 0:r.members_ids)&&void 0!==n?n:[];return Object.values(o).filter((function(i){return!l.includes(i.account_id)}))}},{key:"reset",value:function(){}},{key:"handleResetBtn",value:function(){this.reset(),this.dialogRef.doClose()}},{key:"handleClickEventsBtn",value:function(){this.dialogRef.doOpen()}},{key:"handleCloseBtn",value:function(){this.dialogRef.doClose()}}]),n}(v.Vue);w([Object(v.Prop)({required:!0})],k.prototype,"savedAt",void 0),w([Object(v.Prop)({required:!0})],k.prototype,"clan",void 0),w([Object(v.Prop)({required:!0})],k.prototype,"savedClan",void 0),w([Object(v.Ref)("dialog")],k.prototype,"dialogRef",void 0),w([Object(v.Emit)("reset")],k.prototype,"reset",null);var C=k=w([Object(v.Component)({components:{CDialog:h.default,CButton:_.default,MailIcon:y.a}})],k),O=(n(861),n(34)),component=Object(O.a)(C,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"clan-events"},[t("div",{staticClass:"clan-events__inner"},[t("CButton",{staticClass:"clan-events__btn",class:[e.changesCount?"clan-events__btn--has-unread":""],attrs:{disabled:!e.changesCount,"is-text":"","is-square":"",title:"События клана"},on:{click:e.handleClickEventsBtn}},[t("MailIcon")],1),e._v(" "),t("div",{staticClass:"clan-events__count"},[e._v("\n      "+e._s(e.changesCount>99?"99+":e.changesCount)+"\n    ")])],1),e._v(" "),t("CDialog",{ref:"dialog",attrs:{width:"640px",title:"События клана"},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{staticClass:"clan-events__prop"},[t("span",{staticClass:"clan-events__prop-title"},[e._v("\n          События от\n        ")]),e._v("\n        "+e._s(e.$formatter.date.toLocaleDateTime(e.savedAt))+" ("+e._s(e.$formatter.date.toDaysPassed(e.savedAt,Date.now()))+")\n      ")])]},proxy:!0},{key:"footer",fn:function(){return[t("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[t("div"),e._v(" "),t("div",[t("CButton",{on:{click:e.handleResetBtn}},[e._v("\n            Прочитано\n          ")]),e._v(" "),t("CButton",{on:{click:e.handleCloseBtn}},[e._v("\n            Закрыть\n          ")])],1)])]},proxy:!0}])},[e._v(" "),e.leftMembers.length?t("div",{staticClass:"clan-events__prop"},[t("span",{staticClass:"clan-events__prop-title"},[e._v("\n        Покинули ("+e._s(e.leftMembers.length)+")\n      ")]),e._v(" "),e._l(e.leftMembers,(function(n,r){return t("span",{key:n.account_id,staticClass:"clan-events__prop-value"},[t("nuxt-link",{staticClass:"link",attrs:{to:{name:"account-id",params:{id:n.account_id}}}},[e._v("\n          "+e._s(n.account_name)+"\n        ")]),e._v(e._s(r+1!==e.leftMembers.length?", ":"")+"\n      ")],1)}))],2):e._e(),e._v(" "),e.joinedMembers.length?t("div",{staticClass:"clan-events__prop"},[t("span",{staticClass:"clan-events__prop-title"},[e._v("\n        Вступили ("+e._s(e.joinedMembers.length)+")\n      ")]),e._v(" "),e._l(e.joinedMembers,(function(n,r){return t("span",{key:n.account_id,staticClass:"clan-events__prop-value"},[t("nuxt-link",{staticClass:"link",attrs:{to:{name:"account-id",params:{id:n.account_id}}}},[e._v("\n          "+e._s(n.account_name)+"\n        ")]),e._v(e._s(r+1!==e.joinedMembers.length?", ":"")+"\n      ")],1)}))],2):e._e(),e._v(" "),e.changesCount?e._e():t("span",[e._v("\n      Пока всё тихо ...\n    ")])])],1)}),[],!1,null,null,null);t.default=component.exports},918:function(e,t,n){var content=n(1016);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(68).default)("12faf308",content,!0,{sourceMap:!1})}}]);